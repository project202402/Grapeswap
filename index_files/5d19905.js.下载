(window.webpackJsonp=window.webpackJsonp||[]).push([[23,292,293],{1170:function(t,e,n){"use strict";n.r(e);var o=n(103),r=n(416),l={components:{Processing:n(1129).default,Modal:o.default,TokenImg:r.default},props:{id:{type:String,required:!0},tokens:{type:Array,required:!0}},data:()=>({loading:!1}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]}},watch:{},methods:{async importToken(){this.loading=!0;const t=this.chainConfig.frontend.featureFlags;await this.$contracts.pushSupportedTokens(this.tokens,t),this.loading=!1,this.$emit("confirm-import"),this.$bvModal.hide(this.id)},reset(){this.loading=!1}}},c=n(23),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id,title:t.tokens.length>1?"Import tokens":"Import token"},on:{reset:t.reset},scopedSlots:t._u([{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading},on:{click:t.importToken}},[t.loading?e("Processing"):e("span",[t._v("Import")])],1)]},proxy:!0}])},[t._l(t.tokens,(function(n,i){return e("div",{key:n.address,staticClass:"mt-3"},[i>0?e("hr"):t._e(),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:n}}),t._v(" "),e("div",[e("h4",{staticClass:"text-weight-500 mb-1"},[t._v(t._s(n.fullname)+" ("+t._s(n.symbol)+")")]),t._v(" "),e("a",{staticClass:"text-secondary text-small d-flex",attrs:{href:t.getExplorerAddressUrl(t.$store.getters["web3-provider/chainConfig"],n.address),target:"_blank"}},[e("i",{staticClass:"mdi mdi-link mr-1"}),t._v("\n          "+t._s(n.address)+"\n        ")])])],1)])})),t._v(" "),e("b-alert",{staticClass:"mt-4",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"iexc-danger mr-1 icon-fix text-primary"}),t._v("\n    Anyone can create an ERC20 token with any name, including creating fake versions of existing\n    tokens and tokens that claim to represent projects that do not have a token. If you purchase\n    an arbitrary token, you may be unable to sell it back, so always double-check the address of\n    any imported token.\n  ")])],2)}),[],!1,null,null,null);e.default=component.exports},1177:function(t,e,n){"use strict";n.r(e);var o=n(642),r={components:{Modal:n(103).default},data:()=>({deadlineDuration:null,maxHops:null,slippage:null,error:null,warning:null}),watch:{slippage(){if(!this.slippage||this.slippage<0||this.slippage>50)return this.error="Invalid slippage amount",void(this.warning=null);this.slippage>5&&(this.warning="Your transaction may be frontrun"),this.slippage<.5?this.warning="Your transaction may fail":this.warning=null,this.error=null}},methods:{init(){this.deadlineDuration=this.$store.getters["exchange-config/deadlineDuration"]/1e3/60,this.maxHops=this.$store.getters["exchange-config/maxHops"],this.slippage=this.$store.getters["exchange-config/slippage"]},resetToDefaults(){this.deadlineDuration=o.DEFAULT_DEADLINE/1e3/60,this.maxHops=o.DEFAULT_MAX_HOPS,this.slippage=o.DEFAULT_SLIPPAGE},save(){this.$store.commit("exchange-config/setDeadLineDuration",1e3*this.deadlineDuration*60),this.$store.commit("exchange-config/setmaxHops",this.maxHops),this.$store.commit("exchange-config/setSlippage",this.slippage),this.$bvModal.hide("exchange-settings")}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:"exchange-settings",title:"Settings"},on:{shown:function(e){return t.init()}},scopedSlots:t._u([{key:"cancel",fn:function(){return[e("b-button",{staticClass:"w-50 mr-3",attrs:{variant:"secondary"},on:{click:t.resetToDefaults}},[t._v("\n      Reset to defaults\n    ")])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:null!==t.error},on:{click:t.save}},[t._v("\n      Save settings\n    ")])]},proxy:!0}])},[e("b-form-group",{staticClass:"mb-3",attrs:{label:"Slippage (%)"}},[e("b-form-input",{attrs:{type:"number",step:"0.5"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-3",attrs:{label:"Deadline (mins)"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.deadlineDuration,callback:function(e){t.deadlineDuration=e},expression:"deadlineDuration"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-0",attrs:{label:"Max hops"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.maxHops,callback:function(e){t.maxHops=e},expression:"maxHops"}})],1),t._v(" "),t.error?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e(),t._v(" "),t.warning?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"iexc-danger mr-1 icon-fix"}),t._v("\n    Warning: "+t._s(t.warning)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1184:function(t,e,n){"use strict";n.r(e);var o=n(21),r={props:{forceRefreshFunc:{type:Function,default:null}},data:()=>({isSyncing:!1}),methods:{async refreshPairs(){this.isSyncing=!0,this.forceRefreshFunc?await this.forceRefreshFunc().then((()=>{this.isSyncing=!1})):await Object(o.b)({store:this.$store,$contracts:this.$contracts},this.$contracts.factory.existentPairs).then((()=>{this.isSyncing=!1}))}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("b-button",{staticClass:"right-bar-toggle",attrs:{type:"button",variant:"icon"},on:{click:function(e){return t.refreshPairs()}}},[e("i",{staticClass:"mdi mdi-refresh",class:t.isSyncing?"mdi-spin":""})])}),[],!1,null,null,null);e.default=component.exports},1318:function(t,e,n){"use strict";n.r(e);var o=n(416),r=n(1128),l=n(103),c=n(1133),d=n(17),k=n(1130),h={components:{Accordion:c.default,Modal:l.default,TokenImg:o.default,DataRow:r.default},mixins:[k.a],props:{token0:{type:Object,default:null},token1:{type:Object,default:null},liquidityManager:{type:Object,default:null},token0Amount:{type:String,default:""},token1Amount:{type:String,default:""},lpAmount:{type:String,default:"0"}},data:()=>({id:"lm-add-confirmation",error:null,isStale:!1}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},lpAmountValue(){return this.token0Amount&&this.token1Amount&&this.token0&&this.token1?this.token0Amount*this.token0.price+this.token1Amount*this.token1.price:0},token0Ratio(){return this.token0&&this.token1&&this.lpAmountValue>0?this.token0Amount*this.token0.price/this.lpAmountValue*100:0},token1Ratio(){return this.token0&&this.token1&&this.lpAmountValue>0?this.token1Amount*this.token1.price/this.lpAmountValue*100:0}},watch:{token0Amount(){this.isStale=!0},token1Amount(){this.isStale=!0}},methods:{async addLiquidity(){this.steps=[{description:"Adding liquidity..."}],this.header={title:this.liquidityManager.symbol,token:this.liquidityManager,version:"v3"},this.successMessage={title:'You\'ve successfully provided <span class="text-primary text-weight-500">~$'.concat(Object(d.b)(this.lpAmountValue,2,2)," of ").concat(this.liquidityManager.symbol,"</span> liquidity."),subtitleLinks:[{url:"/positions",label:"Positions page"},{url:"/pools/".concat(this.liquidityManager.address),label:"pool page"}],subtitleMessage:"to check your position"},this.initLoading(this.id);try{const t=await this.liquidityManager.deposit(this.token0,this.token1,this.token0Amount,this.token1Amount);await this.checkTx(t,!0),this.$emit("liquidityAdded"),this.txSuccess()}catch(t){console.log(t),this.txError("Error while adding liquidity. If the issue persists, please contact our support.")}},reset(){this.isStale=!1}}},m=n(23),component=Object(m.a)(h,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},on:{shown:function(e){return t.reset()}},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"text-center"},[e("h2",{staticClass:"mt-2"},[e("span",{staticClass:"text-primary"},[t._v("Add")]),t._v("\n        V3 liquidity\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n        Deposit assets on "+t._s(t.APP_NAME_GLOBAL)+" and start earning yield.\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.isStale},on:{click:t.addLiquidity}},[t._v("\n      Create position\n    ")])]},proxy:!0}])},[t._v(" "),t.token0&&t.token1?e("div",[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.token0,size:"lg"}}),t._v(" "),e("div",[e("div",{staticClass:"text-secondary"},[t._v(t._s(t.token0.symbol))]),t._v(" "),e("div",{staticClass:"items-center"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t._v("\n            "+t._s(t.token0Amount)+"\n          ")])])])],1),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center rounded-circle hover-slight position-relative",staticStyle:{width:"25px",height:"25px","margin-left":"7px","margin-top":"0px","margin-bottom":"2px","background-color":"#121212"}},[e("i",{staticClass:"mdi mdi-plus text-primary font-size-16"})]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.token1,size:"lg"}}),t._v(" "),e("div",[e("div",{staticClass:"text-secondary"},[t._v(t._s(t.token1.symbol))]),t._v(" "),e("div",{staticClass:"items-center"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t._v("\n            "+t._s(t.token1Amount)+"\n          ")])])])],1),t._v(" "),e("accordion",{staticClass:"bg-darker border-lighter rounded-sm mt-4 mb-3",attrs:{"force-between":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"w-100 p-2"},[e("div",[t._v("\n            1 "+t._s(t.token0.symbol)+" =\n            "+t._s(t.getLocaleString(t.token0.price/t.token1.price,4))+"\n            "+t._s(t.token1.symbol)+"\n            "),e("span",{staticClass:"text-secondary text-small"},[t._v("\n              ($"+t._s(t.getLocaleString(t.token0.price,2,2))+")\n            ")])]),t._v(" "),e("div",[t._v("\n            1 "+t._s(t.token1.symbol)+" =\n            "+t._s(t.getLocaleString(t.token1.price/t.token0.price,4))+"\n            "+t._s(t.token0.symbol)+"\n            "),e("span",{staticClass:"text-secondary text-small"},[t._v("\n              ($"+t._s(t.getLocaleString(t.token1.price,2,2))+")\n            ")])])])]},proxy:!0}],null,!1,1393967220)},[t._v(" "),e("div",{staticClass:"bg-darker border-lighter border-left-0 border-right-0 border-bottom-0 p-2"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.token0.symbol)+" ratio")]},proxy:!0},{key:"value",fn:function(){return[t._v(t._s(t.getLocaleString(t.token0Ratio,2,2))+"%")]},proxy:!0}],null,!1,3790885475)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.token1.symbol)+" ratio")]},proxy:!0},{key:"value",fn:function(){return[t._v(t._s(t.getLocaleString(t.token1Ratio,2,2))+"%")]},proxy:!0}],null,!1,2258808867)})],1)]),t._v(" "),e("div",[e("h4",{staticClass:"mt-4 mb-3 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("Estimates")])])])],1):t._e(),t._v(" "),t.isStale?e("b-alert",{staticClass:"d-flex justify-content-between border-primary align-items-center mt-3 mb-0",attrs:{show:"",variant:"warning"}},[e("div",[e("i",{staticClass:"mdi mdi-alert-circle-outline mr-1 text-primary"}),t._v("\n      Price updated\n    ")]),t._v(" "),e("b-button",{staticClass:"btn-sm",attrs:{variant:"dark"},on:{click:function(e){return t.reset()}}},[t._v("Accept")])],1):t._e(),t._v(" "),null!==t.error?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("\n    Error: "+t._s(t.error)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1505:function(t,e,n){"use strict";n.r(e);n(8);var o=n(6),r=n(1303),l=n(416),c=n(1162),d=n(1318),k=n(1128),h=n(1139),m={components:{DataRow:k.default,CreateLmPosition:d.default,TokenInputFull:c.default,TokenImg:l.default,ConnectWallet:h.default},props:{initProvider:{type:String,default:null},token0:{type:Object,default:null},token1:{type:Object,default:null},lastRefreshTime:{type:Number,default:0}},data:()=>({activeProvider:null,activeStrategy:null,debounceDelay:2500,selectToken0:null,selectToken1:null,token0InitialPriceTimeout:null,token0InitialPrice:null,token0Amount:null,token1Amount:null,token0MinAmount:null,token1MinAmount:null,token0Approved:!1,token1Approved:!1,token0Approving:!1,token1Approving:!1,ratioBasedOnToken0:!0,error:null,inputStyle:{},tokensRatio:{token0:0,token1:0},rangeError:null}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},vaultsEnabled(){return this.chainConfig.frontend.featureFlags.vaults[this.$config.ENV_TYPE]},account(){return this.$store.getters["web3-provider/account"]},slippage(){return this.$store.getters["exchange-config/slippage"]},token0Symbol(){return this.token0?this.token0.symbol:null},token1Symbol(){return this.token1?this.token1.symbol:null},token0PriceBn(){return this.selectedLp?this.selectedLp.token0Address===this.token0.address?this.selectedLp.token0PriceBn:this.selectedLp.token1PriceBn:o.a.from(0)},token1PriceBn(){return this.selectedLp?this.selectedLp.token0Address===this.token0.address?this.selectedLp.token1PriceBn:this.selectedLp.token0PriceBn:o.a.from(0)},token0Price(){return this.selectedLp?this.selectedLp.token0Address===this.token0.address?this.selectedLp.token0Price:this.selectedLp.token1Price:"0"},maxToken0Amount(){return this.token0&&this.account?this.token0.accountBalanceFormatted:null},maxToken1Amount(){return this.token1&&this.account?this.token1.accountBalanceFormatted:null},selectedLp(){return this.token0&&this.token1?this.$contracts.clPoolsFactory.getLpByTokens(this.token0,this.token1,!0):null},isDataInitialized(){return this.$store.getters["general/isDataInitialized"]},availableManagers(){return this.selectedLp&&this.selectedLp.address&&this.vaultsEnabled?this.$contracts.liquidityManagerFactory.allLiquidityManagerByPool(this.selectedLp.address):{}},selectedLiquidityManager(){return this.activeProvider&&this.activeStrategy?this.availableManagers[this.activeProvider].find((t=>t.strategyName===this.activeStrategy)):null}},watch:{"$parent.localActive"(){this.$parent.localActive||this.clearData()},slippage(){this.syncLPRatio()},async lastRefreshTime(){this.selectedLiquidityManager&&await this.syncLPRatio()},selectedLp(){this.initProvider&&Object.keys(this.availableManagers).includes(this.initProvider)?this.setActiveProvider(this.initProvider):Object.keys(this.availableManagers).includes("Gamma")?this.setActiveProvider("Gamma"):(this.activeProvider=null,this.activeStrategy=null),this.error=null,this.$emit("setLp",this.selectedLp),this.resetInputAmounts()},selectedLiquidityManager(){this.resetInputAmounts(),this.refreshApprove()}},beforeDestroy(){this.clearData()},methods:{async connectWallet(){await this.$connectWallet.connect()},setActiveProvider(t){this.activeProvider=t;let e=null;if(null!==t)for(const n of this.availableManagers[t])e?e.totalApr<n.totalApr&&(e=n):e=n;this.activeStrategy=e?e.strategyName:null},capitalize:r.a,resetInputAmounts(){this.token1Amount=null,this.token0Amount=null},onUserInputToken0Amount(t){var e,n;null!==t&&this.token1&&((null!==(e=this.selectedLp)&&void 0!==e&&e.isInitialized||null!==(n=this.selectedLp)&&void 0!==n&&n.mock)&&(this.token1Amount=null),this.ratioBasedOnToken0=!0,this.syncLPRatio())},onUserInputToken1Amount(t){var e,n;null!=t&&this.token0&&((null!==(e=this.selectedLp)&&void 0!==e&&e.isInitialized||null!==(n=this.selectedLp)&&void 0!==n&&n.mock)&&(this.token0Amount=null),this.ratioBasedOnToken0=!1,this.syncLPRatio())},async syncLPRatio(){if(this.error=null,!this.selectedLiquidityManager)return;const t=await this.selectedLiquidityManager.getOtherTokenDepositAmount(this.ratioBasedOnToken0?this.token0:this.token1,this.ratioBasedOnToken0?this.token1:this.token0,this.ratioBasedOnToken0?this.token0Amount:this.token1Amount);this.ratioBasedOnToken0?this.token1Amount=t:this.token0Amount=t,(this.token0Amount&&Number(this.token0Amount)>0&&!this.token0.hasSufficientBalance(this.token0Amount)||this.token1Amount&&Number(this.token1Amount)>0&&!this.token1.hasSufficientBalance(this.token1Amount))&&(this.error="Insufficient balance"),await this.refreshApprove()},async refreshApprove(){if(this.account&&this.selectedLiquidityManager){const t=this.selectedLiquidityManager.depositAddress;this.token0Approved=!!this.token0&&await this.token0.hasAccountApproval(this.account,t,this.token0Amount),this.token0Approved&&(this.token0Approving=!1),this.token1Approved=!!this.token1&&await this.token1.hasAccountApproval(this.account,t,this.token1Amount),this.token1Approved&&(this.token1Approving=!1)}},async approve(t){const e=this.selectedLiquidityManager.depositAddress;if(t.address===this.token0.address){this.token0Approving=!0,this.approveLoading=!0;const n=await t.approveMaxV2(e);n?n.wait().then((()=>{this.token0Approving=!1,this.approveLoading=!1,this.refreshApprove()})):(this.token0Approving=!1,this.approveLoading=!1)}else{this.token1Approving=!0;const n=await t.approveMaxV2(e);n?n.wait().then((()=>{this.token1Approving=!1,this.approveLoading=!1,this.refreshApprove()})):(this.token1Approving=!1,this.approveLoading=!1)}},clearData(){this.rangeError=null,this.rangeWarning=null,this.initPriceError=null,this.rangeMinError=null,this.rangeMaxError=null,this.token0Approved=!1,this.token1Approved=!1,this.token0Approving=!1,this.token1Approving=!1}}},v=n(23),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",{attrs:{xl:"6",lg:"12"}},[t._t("token-select"),t._v(" "),t.selectedLp&&Object.keys(t.availableManagers).length<1?e("b-alert",{staticClass:"mb-0",attrs:{show:"",variant:"danger"}},[e("i",{staticClass:"mdi mdi-alert-circle-outline mr-1"}),t._v("\n        No available auto strategy for this pair\n      ")]):e("div",[e("div",{staticClass:"my-4"},[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-2 text-weight-400 bg-dark rounded-sm p-2",class:{"text-secondary":!t.selectedLp}},[e("span",[t._v("3. Select a provider")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.selectedLp&&t.activeProvider,expression:"selectedLp && activeProvider"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),t.selectedLp?e("b-row",{staticClass:"g-3 pt-2"},t._l(Object.keys(t.availableManagers),(function(n){return e("b-col",{key:n,attrs:{cols:"auto"}},[e("div",{staticClass:"d-flex align-items-center justify-content-center py-2 px-3 w-100 h-100 rounded border-1 bg-dark cursor-pointer opacity-50",class:{"border-primary opacity-100":t.activeProvider===n,"hover-slight":t.activeProvider!==n},staticStyle:{height:"45px"},on:{click:function(e){return t.setActiveProvider(n)}}},[e("img",{staticStyle:{"max-width":"100%",height:"20px"},attrs:{src:t.availableManagers[n][0].providerLogo,alt:""}})])])})),1):t._e()],1),t._v(" "),e("div",{staticClass:"my-4"},[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-2 text-weight-400 bg-dark rounded-sm p-2",class:{"text-secondary":!t.selectedLp||!t.activeProvider}},[e("span",[t._v("4. Select a strategy")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.activeStrategy,expression:"activeStrategy"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),null!==t.activeProvider?e("b-row",{staticClass:"g-3 pt-2"},t._l(t.availableManagers[t.activeProvider],(function(n){return e("b-col",{key:n.address,attrs:{cols:"auto"}},[e("div",{staticClass:"d-flex align-items-center justify-content-around py-2 px-3 w-100 h-100 rounded border-1 bg-dark text-white opacity-50 cursor-pointer",class:{"border-primary opacity-100":t.activeStrategy===n.strategyName,"hover-slight":t.activeStrategy!==n.strategyName},on:{click:function(e){t.activeStrategy=n.strategyName}}},[e("span",[t._v(t._s(n.strategyName))]),t._v(" "),e("span",{staticClass:"ml-3 text-small text-primary"},[t._v("\n                  "+t._s(t.getLocaleString(n.totalApr,2,2))+"%\n                ")])])])})),1):t._e()],1),t._v(" "),e("div",{staticClass:"mt-4"},[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-3 text-weight-400 bg-dark rounded-sm p-2",class:{"text-secondary":!(t.activeStrategy&&!t.rangeError)}},[e("span",[t._v("5. Input amounts")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.token0Amount&&t.token1Amount&&!t.error&&!t.rangeError,expression:"token0Amount && token1Amount && !error && !rangeError"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),t.activeStrategy&&!t.rangeError?e("div",[e("b-row",{staticClass:"d-flex align-items-center bg-darker rounded full-token-input-widget gx-0"},[e("b-col",{staticClass:"d-flex align-items-center bg-dark hover-slight h-100 p-0 rounded-left token-select-widget px-2",attrs:{cols:"5",sm:"4"}},[e("token-img",{staticClass:"d-none d-md-flex mr-2",attrs:{token:t.token0,size:"lg"}}),t._v(" "),e("token-img",{staticClass:"d-flex d-md-none mr-2",attrs:{token:t.token0}}),t._v(" "),e("h4",{staticClass:"d-inline-flex flex-row align-items-baseline mb-0"},[t._v("\n                  "+t._s(t.token0Symbol)+"\n                ")])],1),t._v(" "),e("b-col",{staticClass:"flex-grow-1 pr-3"},[e("token-input-full",{staticClass:"flex-grow-1 ml-1",attrs:{id:"token-input-0",unit:t.token0Symbol,"usd-value":t.token0&&t.token0Amount?(t.token0.price*t.token0Amount).toString():null,"max-amount":t.maxToken0Amount,"safe-max":!!t.token0&&t.token0.isNative},on:{input:t.onUserInputToken0Amount},model:{value:t.token0Amount,callback:function(e){t.token0Amount=e},expression:"token0Amount"}})],1)],1),t._v(" "),e("b-row",{staticClass:"d-flex align-items-center token-input-between-icon"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",{staticClass:"d-flex align-items-center justify-content-center rounded-circle bg-black hover-slight position-relative icon-container"},[e("i",{staticClass:"mdi mdi-plus text-primary font-size-16"})])])],1),t._v(" "),e("b-row",{staticClass:"d-flex align-items-center bg-darker rounded full-token-input-widget gx-0"},[e("b-col",{staticClass:"d-flex align-items-center bg-dark hover-slight h-100 p-0 rounded-left token-select-widget px-2",attrs:{cols:"5",sm:"4"}},[e("token-img",{staticClass:"d-none d-md-flex mr-2",attrs:{token:t.token1,size:"lg"}}),t._v(" "),e("token-img",{staticClass:"d-flex d-md-none mr-2",attrs:{token:t.token1}}),t._v(" "),e("h4",{staticClass:"d-inline-flex flex-row align-items-baseline mb-0"},[t._v("\n                  "+t._s(t.token1Symbol)+"\n                ")])],1),t._v(" "),e("b-col",{staticClass:"flex-grow-1 pr-3"},[e("token-input-full",{staticClass:"flex-grow-1 ml-1",attrs:{id:"token-input-1",unit:t.token1Symbol,"usd-value":t.token1&&t.token1Amount?(t.token1.price*t.token1Amount).toString():null,"max-amount":t.maxToken1Amount,"safe-max":!!t.token1&&t.token1.isNative},on:{input:t.onUserInputToken1Amount},model:{value:t.token1Amount,callback:function(e){t.token1Amount=e},expression:"token1Amount"}})],1)],1)],1):t._e()])])],2),t._v(" "),e("b-col",{staticClass:"mt-4 mt-xl-0 d-none d-md-flex",attrs:{xl:"6",lg:"12"}},[t.selectedLp&&t.activeProvider&&t.activeStrategy?e("div",{staticClass:"p-3 bg-dark w-100"},[e("div",{staticClass:"text-center"},[e("img",{staticClass:"my-3 mx-auto text-center",staticStyle:{"max-width":"100%","max-height":"30px"},attrs:{src:t.availableManagers[t.activeProvider][0].providerLogo,alt:""}}),t._v(" "),t.selectedLiquidityManager.poolConfig.image?e("img",{staticClass:"d-none d-lg-block mt-3",staticStyle:{width:"100%","max-height":"300px"},attrs:{src:t.selectedLiquidityManager.poolConfig.image,alt:"strategy"}}):t._e()]),t._v(" "),e("div",{staticClass:"my-4"},[e("h4",{staticClass:"bg-black px-2 py-3 rounded-sm mb-0 text-uppercase text-weight-400"},[e("span",{staticClass:"text-primary text-weight-500"},[t._v("\n              "+t._s(t.activeStrategy)+"\n            ")]),t._v("\n            strategy\n          ")]),t._v(" "),t.selectedLiquidityManager.poolConfig.description?e("p",{staticClass:"mt-3 px-2 text-secondary"},[t._v("\n            "+t._s(t.selectedLiquidityManager.poolConfig.description)+"\n          ")]):t._e(),t._v(" "),e("div",{staticClass:"text-right mt-2"},[e("a",{staticClass:"btn btn-secondary",attrs:{href:t.getExplorerAddressUrl(t.chainConfig,t.selectedLiquidityManager.poolConfig.address),target:"_blank"}},[e("i",{staticClass:"mdi mdi-link-variant mr-1"}),t._v("\n              Contract\n            ")]),t._v(" "),t.selectedLiquidityManager.poolConfig.url?e("a",{staticClass:"btn btn-secondary",attrs:{href:t.selectedLiquidityManager.poolConfig.url,target:"_blank"}},[e("i",{staticClass:"mdi mdi-open-in-new mr-1"}),t._v("\n              Details\n            ")]):t._e()])]),t._v(" "),e("div",{staticClass:"my-4"},[e("div",{staticClass:"bg-darker px-2 mb-2 rounded-sm",staticStyle:{"padding-top":"3px","padding-bottom":"3px"}},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"text-white text-weight-500"},[t._v("Total APR")])]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"text-primary text-weight-500"},[t._v("\n                  "+t._s(t.getLocaleString(t.selectedLiquidityManager.totalApr,2,2))+"%\n                ")])]},proxy:!0}],null,!1,661601745)})],1),t._v(" "),e("div",{staticClass:"px-2"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"text-white"},[t._v("Strategy fees APR")])]},proxy:!0},{key:"value",fn:function(){return[t._v("\n                "+t._s(t.getLocaleString(t.selectedLiquidityManager.feesApr,2,2))+"%\n              ")]},proxy:!0}],null,!1,3572977035)}),t._v(" "),t.selectedLiquidityManager.campaignsApr>0?e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"text-white"},[t._v("Market Maker APR")])]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("\n                  "+t._s(t.getLocaleString(t.selectedLiquidityManager.campaignsApr,2,2))+"%\n                ")])]},proxy:!0}],null,!1,3005222664)}):t._e(),t._v(" "),Number(t.selectedLiquidityManager.merklApr)>0?e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"text-white"},[t._v("Merkl APR")])]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"text-merkl"},[t._v("\n                  "+t._s(t.getLocaleString(t.selectedLiquidityManager.merklApr,2,2))+"%\n                ")])]},proxy:!0}],null,!1,1360592352)}):t._e()],1)])]):e("div",{staticClass:"w-100 bg-dark d-flex flex-column align-items-center justify-content-center text-secondary"},[e("i",{staticClass:"icam-book-1 font-size-22"}),t._v("\n        Select a strategy\n      ")])])],1),t._v(" "),e("div",[e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:null!==t.error,variant:"danger"}},[t._v("\n      Error: "+t._s(t.error)+"\n    ")])],1),t._v(" "),t.account?e("div",{staticClass:"text-center mt-3"},[t.token1Approved&&t.token0Approved||!t.selectedLiquidityManager?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.lm-add-confirmation",modifiers:{"lm-add-confirmation":!0}}],staticClass:"btn-lg w-100",attrs:{disabled:!t.selectedLiquidityManager||!t.token0Amount&&!t.token1Amount||null!==t.error||null!==t.rangeError,variant:"primary"}},[e("span",[t._v("Create position")])]):!t.token0Approved&&t.token1Approved?e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:t.token0Approving?"light":"primary",disabled:!t.account||t.token0Approving},on:{click:function(e){return t.approve(t.token0)}}},[t.token0Approving?e("span",[e("i",{staticClass:"bx bx-loader bx-spin align-middle mr-2 p-0"}),t._v("\n        Processing...\n      ")]):e("span",[t._v("Approve "+t._s(t.token0.symbol))])]):t.token0Approved&&!t.token1Approved?e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:t.token1Approving?"light":"primary",disabled:!t.account||t.token1Approving},on:{click:function(e){return t.approve(t.token1)}}},[t.token1Approving?e("span",[e("i",{staticClass:"bx bx-loader bx-spin align-middle mr-2 p-0"}),t._v("\n        Processing...\n      ")]):e("span",[t._v("Approve "+t._s(t.token1.symbol))])]):e("b-row",[t.token0Approved?t._e():e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:t.token0Approving?"light":"primary",disabled:!t.account||t.token0Approving},on:{click:function(e){return t.approve(t.token0)}}},[t.token0Approving?e("span",[e("i",{staticClass:"bx bx-loader bx-spin align-middle mr-2 p-0"}),t._v("\n            Processing...\n          ")]):e("span",[t._v("Approve "+t._s(t.token0.symbol))])])],1),t._v(" "),t.token1Approved?t._e():e("b-col",{attrs:{cols:"6"}},[e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:t.token1Approving?"light":"primary",disabled:!t.account||t.token1Approving},on:{click:function(e){return t.approve(t.token1)}}},[t.token1Approving?e("span",[e("i",{staticClass:"bx bx-loader bx-spin align-middle mr-2 p-0"}),t._v("\n            Processing...\n          ")]):e("span",[t._v("Approve "+t._s(t.token1.symbol))])])],1)],1)],1):e("connect-wallet",{staticClass:"mt-3",attrs:{"is-large":""}}),t._v(" "),e("create-lm-position",{attrs:{token0:t.token0,token1:t.token1,"liquidity-manager":t.selectedLiquidityManager,"token0-amount":t.token0Amount,"token1-amount":t.token1Amount,"lp-amount":"0"},on:{liquidityAdded:t.resetInputAmounts}})],1)}),[],!1,null,null,null);e.default=component.exports},1604:function(t,e,n){"use strict";n.r(e);var o=n(1505),r=n(1605),l=n(1177),c=n(1184),d=n(21),k=n(1151),h=n(1170),m={components:{TokenSelect:k.default,AddLiquidityFormAuto:o.default,AddLiquidityFormManual:r.default,TokenImportModal:h.default,SettingsModal:l.default,Refresh:c.default},props:{initMode:{type:String,default:null},initProvider:{type:String,default:null},lastRefreshTime:{type:Number,default:0},refresh:{type:Function,required:!1,default:null},tokenAddress1:{type:String,default:null},tokenAddress2:{type:String,default:null}},data:()=>({initToken0:null,initToken1:null,liquidityType:"manual",tokensToImport:[]}),computed:{isTokensInitialised(){return!(!this.initToken0||!this.initToken1)},tokens(){return this.$contracts.supportedTokens.tokens.filter((t=>!t.excludeFromExchange))}},watch:{tokenAddress1(){this.checkInitTokens()},tokenAddress2(){this.checkInitTokens()}},async mounted(){await this.checkInitTokens(),"auto"===this.initMode&&(this.liquidityType=this.initMode),this.tokensToImport.length>0&&this.$bvModal.show("importTokens")},methods:{updateToken0(t){t&&this.initToken1&&t.address===this.initToken1.address&&(this.setToken1(this.initToken0),this.initToken1=this.initToken0),this.setToken0(t),this.initToken0=t},updateToken1(t){t&&this.initToken0&&t.address===this.initToken0.address&&(this.setToken0(this.initToken1),this.initToken0=this.initToken1),this.setToken1(t),this.initToken1=t},invertTokens(){const t=this.initToken0;this.setToken0(this.initToken1),this.setToken1(t),this.initToken0=this.initToken1,this.initToken1=t},setMode(t){this.liquidityType=t},setToken0(t){this.$refs.selectToken0.selectedToken=t,this.$refs.selectToken02.selectedToken=t},setToken1(t){this.$refs.selectToken1.selectedToken=t,this.$refs.selectToken12.selectedToken=t},async checkInitTokens(){if(this.tokenAddress1){const t=await Object(d.e)(this.$store.app,this.tokenAddress1);t&&t.external&&!t.imported?this.tokensToImport.push(t):(this.initToken0=t,this.setToken0(t))}if(this.tokenAddress2&&this.tokenAddress2!==this.tokenAddress1){const t=await Object(d.e)(this.$store.app,this.tokenAddress2);t&&t.external&&!t.imported?this.tokensToImport.push(t):(this.initToken1=t,this.setToken1(t))}},setLp(t){this.$emit("setLp",t)}}},v=n(23),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-2"},[t._m(0),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("refresh",{staticClass:"mr-2",attrs:{"force-refresh-func":t.refresh}}),t._v(" "),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.exchange-settings",modifiers:{"exchange-settings":!0}}],staticClass:"right-bar-toggle",attrs:{type:"button",variant:"icon"}},[e("i",{staticClass:"mdi mdi-cog"})]),t._v(" "),e("settings-modal")],1)]),t._v(" "),e("add-liquidity-form-auto",{directives:[{name:"show",rawName:"v-show",value:"auto"===t.liquidityType,expression:"liquidityType === 'auto'"}],staticClass:"mt-2",attrs:{token0:t.initToken0,token1:t.initToken1,"last-refresh-time":t.lastRefreshTime,"init-provider":t.initProvider},on:{setLp:t.setLp,invertTokens:function(e){return t.invertTokens()}},scopedSlots:t._u([{key:"token-select",fn:function(){return[e("div",[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-3 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("1. Select a pair")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.isTokensInitialised,expression:"isTokensInitialised"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-start align-items-center"},[e("token-select",{ref:"selectToken0",staticClass:"token-select",attrs:{id:"select-token-0",tokens:t.tokens,label:"Token 1"},on:{onSelectToken:function(e){return t.updateToken0(e)}}}),t._v(" "),e("b-button",{staticClass:"d-flex align-items-center justify-content-center position-relative icon-container mx-3 py-0 px-1",attrs:{variant:"secondary"},on:{click:function(e){return t.invertTokens()}}},[e("i",{staticClass:"mdi mdi-swap-horizontal text-primary font-size-20 p-0"})]),t._v(" "),e("token-select",{ref:"selectToken1",staticClass:"token-select",attrs:{id:"select-token-1",tokens:t.tokens,label:"Token 2"},on:{onSelectToken:function(e){return t.updateToken1(e)}}})],1)]),t._v(" "),e("div",{class:["mb-4",t.isTokensInitialised?"mt-4":"mt-3"]},[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-3 text-weight-400 bg-dark rounded-sm p-2",class:{"text-secondary":!t.isTokensInitialised}},[e("span",[t._v("2. Select a mode")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.isTokensInitialised,expression:"isTokensInitialised"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),t.isTokensInitialised?e("div",{staticClass:"d-flex align-items-center w-100 my-2",staticStyle:{"max-width":"400px"}},[e("b-button",{staticClass:"btn-tab-left w-50",attrs:{variant:"tab"},on:{click:function(e){return t.setMode("manual")}}},[t._v("\n            Manual\n          ")]),t._v(" "),e("b-button",{staticClass:"btn-tab-right w-50 active",attrs:{variant:"tab"}},[t._v("Auto")])],1):t._e()])]},proxy:!0}])}),t._v(" "),e("add-liquidity-form-manual",{directives:[{name:"show",rawName:"v-show",value:"manual"===t.liquidityType,expression:"liquidityType === 'manual'"}],staticClass:"mt-2",attrs:{token0:t.initToken0,token1:t.initToken1,"create-position":!1},on:{setLp:t.setLp,invertTokens:function(e){return t.invertTokens()}},scopedSlots:t._u([{key:"token-select",fn:function(){return[e("div",[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-3 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("1. Select a pair")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.isTokensInitialised,expression:"isTokensInitialised"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),e("div",{staticClass:"d-flex justify-content-start align-items-center"},[e("token-select",{ref:"selectToken02",staticClass:"token-select",attrs:{id:"select-token-0-2",tokens:t.tokens,label:"Token 1"},on:{onSelectToken:function(e){return t.updateToken0(e)}}}),t._v(" "),e("b-button",{staticClass:"d-flex align-items-center justify-content-center position-relative icon-container mx-3 py-0 px-1",attrs:{variant:"secondary"},on:{click:function(e){return t.invertTokens()}}},[e("i",{staticClass:"mdi mdi-swap-horizontal text-primary font-size-20 p-0"})]),t._v(" "),e("token-select",{ref:"selectToken12",staticClass:"token-select",attrs:{id:"select-token-1-2",tokens:t.tokens,label:"Token 2"},on:{onSelectToken:function(e){return t.updateToken1(e)}}})],1)]),t._v(" "),e("div",{class:["mb-4",t.isTokensInitialised?"mt-4":"mt-3"]},[e("h4",{staticClass:"d-flex align-items-center justify-content-between mb-3 text-weight-400 bg-dark rounded-sm p-2",class:{"text-secondary":!t.isTokensInitialised}},[e("span",[t._v("2. Select a mode")]),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.isTokensInitialised,expression:"isTokensInitialised"}],staticClass:"mdi mdi-check text-success"})]),t._v(" "),t.isTokensInitialised?e("div",{staticClass:"d-flex align-items-center w-100 my-2",staticStyle:{"max-width":"400px"}},[e("b-button",{staticClass:"btn-tab-left w-50 active",attrs:{variant:"tab"}},[t._v("Manual")]),t._v(" "),e("b-button",{staticClass:"btn-tab-right w-50",attrs:{variant:"tab"},on:{click:function(e){return t.setMode("auto")}}},[t._v("\n            Auto\n          ")])],1):t._e()])]},proxy:!0}])}),t._v(" "),e("TokenImportModal",{attrs:{id:"importTokens",tokens:t.tokensToImport},on:{"confirm-import":t.checkInitTokens}})],1)}),[function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Add Liquidity")]),t._v(" "),e("h5",{staticClass:"text-secondary text-weight-400 mt-1"},[t._v("V3 (concentrated liquidity)")])])}],!1,null,null,null);e.default=component.exports}}]);
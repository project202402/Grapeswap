"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7835],{77835:function(t,e,n){n.d(e,{Z:function(){return T}});var i,o,r=n(39977),l=n(83360),s=n(5808),a=n(67294),d=n(3366),c=n(19101),x=n(1113);(i||(i={})).InvalidInput="InvalidInput",(o||(o={})).InvalidInput="InvalidInput";var p=t=>{let{isZap:e}=t,[n,i]=(0,c.$2)(),o="string"!=typeof n?n.toFixed(2):"",[l,p]=(0,a.useState)(o);function u(t){if(p(t),""===t)return;let e=t.replace(/,/g,"."),n=Math.floor(100*Number.parseFloat(e));0===n?i(new x.Percent(50,1e4)):i(new x.Percent(n,1e4))}return(0,r.tZ)(s.kC,{sx:{width:"100%",flexDirection:"column"},children:(0,r.BX)(s.kC,{sx:{flexDirection:"column",mb:"10px"},children:[(0,r.tZ)(s.xv,{size:"18px",margin:"10px 0px",children:"Slippage Tolerance"}),(0,r.BX)(s.kC,{sx:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,r.tZ)(s.kC,{sx:{height:"35px",width:"55px",borderRadius:"10px",background:"auto"!==n&&"0.10"===n.toFixed(2)?"primaryButton":"white3",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{p(""),u("0.1")},children:(0,r.tZ)(s.xv,{children:" 0.1% "})}),(0,r.tZ)(s.kC,{sx:{height:"35px",width:"55px",borderRadius:"10px",background:"auto"!==n&&"0.50"===n.toFixed(2)?"primaryButton":"white3",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{p(""),u("0.5")},children:(0,r.tZ)(s.xv,{children:" 0.5% "})}),(0,r.tZ)(s.kC,{sx:{height:"35px",width:"55px",borderRadius:"10px",background:"auto"!==n&&"1.00"===n.toFixed(2)?"primaryButton":"white3",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{p(""),u("1.0")},children:(0,r.tZ)(s.xv,{children:" 1.0% "})}),(0,r.BX)(s.kC,{sx:{width:"45%",position:"relative"},children:[(0,r.tZ)(d.Z,{sx:{fontWeight:700,width:"100%",height:"35px",background:"white3",border:"0px",":focus":{outline:"none"}},value:l,onChange:t=>u(t.target.value)}),(0,r.tZ)(s.kC,{sx:{position:"absolute",right:5,justifyContent:"center",alignItems:"center",height:"100%"},children:(0,r.tZ)(s.xv,{weight:700,children:"%"})})]})]})]})})},u=n(11163),h=n(69264),v=t=>{let{onDismiss:e}=t,{push:n}=(0,u.useRouter)(),i=(0,h.Bb)();return(0,r.tZ)(s.u_,{title:"Settings",sx:{maxWidth:"420px",minWidth:["95%","330px"]},children:(0,r.BX)(s.kC,{sx:{maxWidth:"100%",width:"380px",flexDirection:"column"},children:[(0,r.tZ)(p,{}),!i&&(0,r.tZ)(s.kC,{sx:{justifyContent:"space-between",alignItems:"center",width:"100%",margin:"5px 0px"},children:(0,r.tZ)(s.xv,{sx:{fontWeight:400},children:(0,r.tZ)(s.xv,{size:"14px",variant:"link",sx:{position:"relative",cursor:"pointer",textDecoration:"none",mr:"20px"},onClick:()=>{n("/v3-liquidity"),e&&e()},id:"swap-link",children:"View V3 positions"})})})]})})},g=n(44156),f={historicalTxContainer:{height:"160px",flexDirection:"column",bg:"white3",borderRadius:"10px",py:"6px",px:"10px",gap:"2px",position:"relative"},emptyHistoryContainer:{flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80%",gap:"10px"},statusContainer:{position:"absolute",bottom:"5px",right:"5px"},tokenInfoContainer:{p:"8px 4px 4px 4px",borderRadius:"8px",":hover":{bg:"white4"}}},m=n(80795),k=n(98677),C=n(10807),Z=n(6781),y=n(71891),w=t=>{var e,n,i,o,l,a,d,c;let{transaction:x}=t,{sending:p,status:u,receiving:h,transactionId:v,substatusMessage:g}=x,w=(0,C.U8)(null==p?void 0:null===(e=p.token)||void 0===e?void 0:e.address,null==p?void 0:p.chainId),b=(0,C.U8)(null==h?void 0:null===(n=h.token)||void 0===n?void 0:n.address,null==h?void 0:h.chainId);function I(t){return t<10?"0"+t:t}let D=new Date((null==p?void 0:p.timestamp)*1e3),B=new Date(D.getTime()+6e4*D.getTimezoneOffset()),z=B.toLocaleDateString("en-US",{month:"long",day:"numeric"}),X=I(D.getUTCHours())+":"+I(D.getUTCMinutes());return(0,r.BX)(s.kC,{sx:f.historicalTxContainer,children:[(0,r.BX)(s.kC,{sx:{justifyContent:"space-between"},children:[(0,r.tZ)(s.xv,{sx:{fontSize:"14px",fontWeight:"300"},children:z}),(0,r.tZ)(s.xv,{sx:{fontSize:"14px",fontWeight:"300"},children:X+" UTC"})]}),(0,r.tZ)(s.rU,{target:"_blank",sx:{textDecoration:"none"},href:null==p?void 0:p.txLink,children:(0,r.BX)(s.kC,{sx:f.tokenInfoContainer,children:[(0,r.tZ)(k.Z,{size:35,currency:w}),(0,r.BX)(s.kC,{sx:{flexDirection:"column",ml:"10px"},children:[(0,r.BX)(s.xv,{sx:{fontSize:"16px",fontWeight:"700",lineHeight:"14px"},children:[(0,y.ky)(null==p?void 0:p.amount,null==p?void 0:null===(i=p.token)||void 0===i?void 0:i.decimals)," ",null==p?void 0:null===(o=p.token)||void 0===o?void 0:o.symbol]}),(0,r.BX)(s.xv,{sx:{fontSize:"12px",fontWeight:"300"},children:["$",null==p?void 0:p.amountUSD," of ",null==p?void 0:null===(l=p.token)||void 0===l?void 0:l.symbol," on ",Z.zl[null==p?void 0:p.chainId]]})]})]})}),(0,r.tZ)(s.kC,{sx:{width:"15px",height:"15px",ml:"19px"},children:(0,r.tZ)(s.ny,{icon:"arrow",direction:"down"})}),(0,r.tZ)(s.rU,{target:"_blank",sx:{textDecoration:"none"},href:(null==h?void 0:h.txLink)||"",children:(0,r.BX)(s.kC,{sx:f.tokenInfoContainer,children:[(0,r.tZ)(k.Z,{size:35,currency:b}),(0,r.BX)(s.kC,{sx:{flexDirection:"column",ml:"10px"},children:[(0,r.tZ)(s.xv,{sx:{fontSize:"16px",fontWeight:"700",lineHeight:"14px"},children:(null==h?void 0:h.token)?(0,r.BX)(r.HY,{children:[(0,y.ky)(null==h?void 0:h.amount,null==h?void 0:null===(a=h.token)||void 0===a?void 0:a.decimals)," ",null==h?void 0:null===(d=h.token)||void 0===d?void 0:d.symbol]}):(0,r.tZ)(r.HY,{children:"Transaction Pending"})}),(0,r.tZ)(s.xv,{sx:{fontSize:"12px",fontWeight:"300"},children:(null==h?void 0:h.token)?(0,r.BX)(r.HY,{children:["$",null==h?void 0:h.amountUSD," of ",null==h?void 0:null===(c=h.token)||void 0===c?void 0:c.symbol," on"," ",Z.zl[null==h?void 0:h.chainId]]}):(0,r.BX)(r.HY,{children:["in progress on ",Z.zl[null==h?void 0:h.chainId],"..."]})})]})]})}),(0,r.tZ)(s.u,{placement:"topRight",transformTip:"translate(15px, -12px)",body:(0,r.tZ)(s.kC,{children:g}),sx:{width:"200px"},children:(0,r.tZ)(s.kC,{sx:f.statusContainer,children:"DONE"===u?(0,r.tZ)(s.ny,{width:"20px",height:"20px",icon:"success"}):["NOT_FOUND","INVALID","FAILED"].includes(u)?(0,r.tZ)(s.ny,{width:"20px",height:"20px",color:"error",icon:"error"}):(0,r.tZ)(m.$j,{width:"20px",height:"20px"})})})]})},b=n(77985),I=n(9669),D=n.n(I),B=n(67848),z=t=>{let{isLoading:e,error:n,data:i,refetch:o}=(0,B.a)(["fetchLifiTxHistory"],async()=>{var e;if(!t)return[];let n=await D().get("https://li.quest/v1/analytics/wallets/".concat(t,"?integrator=apeswap&fromTimestamp=").concat(Math.floor(Date.now()/1e3-2592e3)),{headers:{"x-lifi-api-key":"6c74c061-6219-406c-a2f1-66fd812761f5.dadb1e80-4d43-43eb-bbb4-7ff4de0a7435"}}),i=await (null==n?void 0:null===(e=n.data)||void 0===e?void 0:e.transactions);return i},{refetchInterval:3e4});return{isLoading:e,error:n,data:i,refetch:o}},X=n(7353),S=t=>{let{onDismiss:e}=t,{account:n}=(0,b.useWeb3React)(),{isLoading:i,data:o}=z(n||""),l=(o||[]).sort((t,e)=>"PENDING"===t.status&&"PENDING"!==e.status?-1:"PENDING"!==t.status&&"PENDING"===e.status?1:e.sending.timestamp-t.sending.timestamp);return(0,r.BX)(s.u_,{sx:{height:"540px",width:"380px"},children:[(0,r.BX)(s.kC,{sx:{justifyContent:"space-between",mb:"20px"},children:[(0,r.tZ)(s.kC,{sx:{cursor:"pointer"},onClick:e,children:(0,r.tZ)(s.ny,{width:"10px",icon:"arrow",direction:"left"})}),(0,r.tZ)(s.xv,{sx:{fontSize:"16px",fontWeight:"300"},children:"Transaction History"})]}),i?(0,r.BX)(s.kC,{sx:f.emptyHistoryContainer,children:[(0,r.tZ)(s.$j,{size:200}),(0,r.tZ)(s.xv,{sx:{fontSize:"20px"},children:"Loading Transactions..."})]}):l.length>0?(0,r.tZ)(s.kC,{sx:{flexDirection:"column",gap:"10px"},children:l.map(t=>(0,r.tZ)(w,{transaction:t},null==t?void 0:t.transactionId))}):(0,r.tZ)(s.kC,{sx:f.emptyHistoryContainer,children:n?(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.ny,{width:"220px",height:"50px",icon:"placeholderMonkey"}),(0,r.tZ)(s.xv,{sx:{fontSize:"20px"},children:"No Recent Transactions"}),(0,r.tZ)(s.xv,{sx:{fontSize:"14px",fontWeight:"300",textAlign:"center"},children:"Transaction history only shows transactions over the previous 30 days. Please check a block explorer directly for older transactions."})]}):(0,r.BX)(s.kC,{sx:{flexDirection:"column",gap:"10px"},children:[(0,r.tZ)(s.xv,{children:"Connect Wallet to View History"}),(0,r.tZ)(X.Z,{})]})})]})},N=n(49055),j=n(36236),T=t=>{let{zapSettings:e}=t,n=(0,h.Bb)(),{t:i}=(0,N.$G)(),{pathname:o,push:d}=(0,u.useRouter)(),{chainId:c,account:x}=(0,b.useWeb3React)(),{refetch:p,data:f}=z(x||""),m=null==f?void 0:f.some(t=>(null==t?void 0:t.status)==="PENDING");(0,a.useEffect)(()=>{p()},[x,p]);let k=(null==o?void 0:o.includes("add-liquidity"))||(null==o?void 0:o.includes("liquidity"))||(null==o?void 0:o.includes("remove"))||(null==o?void 0:o.includes("find"))||(null==o?void 0:o.includes("zap"))||(null==o?void 0:o.includes("migrate"))||(null==o?void 0:o.includes("unstake")),[C]=(0,j.Z)((0,r.tZ)(v,{})),[y]=(0,j.Z)((0,r.tZ)(g.Z,{})),[w]=(0,j.Z)((0,r.tZ)(S,{}));return(0,r.BX)(s.kC,{sx:l.Z.dexNavContainer,children:[(0,r.BX)(s.kC,{sx:{...l.Z.navLinkContainer,justifyContent:"flex-start"},children:[(0,r.tZ)(s.xv,{size:"14px",variant:n?"normal":"link",sx:{...l.Z.navLink,color:!(null==o?void 0:o.includes("swap"))&&"textDisabled",cursor:!n&&"pointer",mr:"20px"},onClick:()=>d("/swap"),id:"swap-link",children:i("Swap")}),!Z.gG.includes(c)&&!n&&(0,r.tZ)(s.xv,{size:"14px",variant:"link",sx:{...l.Z.navLink,opacity:!k&&.5},onClick:()=>d("/zap"),id:"liquidity-link",className:"liquidity",children:i("Liquidity")})]}),(0,r.tZ)(s.kC,{sx:l.Z.navIconContainer,children:(0,r.BX)(s.kC,{sx:{width:"90px",justifyContent:"space-between",mt:"5px",alignItems:"center",justifyItems:"center"},children:[(0,r.tZ)(s.rU,{href:"?modal=tutorial",children:(0,r.tZ)(s.ny,{icon:"quiz"})}),(0,r.BX)(s.kC,{sx:{cursor:"pointer",mb:"6px",ml:"2px",position:"relative"},onClick:w,children:[m&&(0,r.tZ)(s.kC,{sx:l.Z.pendingTxDot}),(0,r.tZ)(s.ny,{icon:"receipt"})]}),(0,r.tZ)(s.kC,{onClick:e?y:C,sx:{cursor:"pointer",mb:"6px"},children:(0,r.tZ)(s.ny,{icon:"cog"})})]})})]})}},83360:function(t,e){e.Z={dexNavContainer:{position:"relative",width:"100%",height:"30px",justifyContent:"space-between",flexDirection:"row"},navLinkContainer:{width:"100%",maxWidth:"225px",paddingRight:"20px",justifyContent:"space-between",alignItems:"center"},navIconContainer:{width:"100%",justifyContent:"flex-end",alignItems:"center"},underline:{display:"inline-block",position:"relative",background:"primaryBright",height:"1px",width:"100%",borderRadius:"10px"},navLink:{position:"relative",textDecoration:"none"},liquiditySelector:{position:"relative",alignItems:"center",fontSize:"14px",cursor:"pointer","@media (max-width: 350px)":{fontSize:"12px"}},liquiditySelectorContainer:{marginBottom:"20px",justifyContent:"center",fontSize:"14px",alignItems:"space-between",justifyItems:"space-between",marginTop:"20px"},migrate:{margin:"0 15px",position:"relative",alignItems:"center",color:"textDisabled"},iconCover:{cursor:"pointer",alignItems:"flex-start",justifyContent:"center"},pendingTxDot:{width:"6px",height:"6px",borderRadius:"50%",bg:"red",position:"absolute",zIndex:"10",right:"-2px",top:"-2px"}}}}]);
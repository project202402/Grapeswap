(window.webpackJsonp=window.webpackJsonp||[]).push([[2,121,125,138,205,250,251,259,260,261,262,265,266,273,283,289,291],{1129:function(t,o,e){"use strict";e.r(o);var n={props:{hideText:{type:Boolean,default:!1}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-flex align-items-center"},[o("div",{staticClass:"spinner-border",attrs:{role:"status"}}),t._v(" "),t.hideText?t._e():o("span",{staticClass:"ml-2"},[t._v("Processing...")])])}),[],!1,null,null,null);o.default=component.exports},1131:function(t,o,e){"use strict";e.r(o);var n=e(13),r={components:{},props:{label:{type:String,default:"balance"},defaultSelectedToken:{type:Object,default:null},disabled:{type:Boolean,default:!1},displayBottomInfos:{type:Boolean,default:!1},hideMax:{type:Boolean,default:!1},maxAmount:{type:String,default:null},unit:{type:String,default:null},value:{type:String,default:null},safeMax:{type:Boolean,default:!1},usdValue:{type:String,default:null},displayUsdValue:{type:Boolean,default:!1},percentageHelper:{type:Boolean,default:!1}},data:()=>({tokenListModal:null,inputValue:null}),computed:{displayMaxButton(){return!this.disabled&&!this.hideMax}},watch:{value(){this.inputValue=this.value}},methods:{setMaxInputAmount(){this.safeMax&&this.maxAmount&&Object(n.parseUnits)(this.maxAmount).gt(Object(n.parseUnits)("0.0001"))?this.inputValue=Object(n.formatUnits)(Object(n.parseUnits)(this.maxAmount).sub(Object(n.parseUnits)("0.0001"))):this.inputValue=this.maxAmount,this.$emit("input",this.inputValue)},countDecimals(t){if(Math.floor(t)===t)return 0;const o=this.toString();return o.includes(".")&&o.includes("-")?o.split("-")[1]||0:o.includes(".")?o.split(".")[1].length||0:o.split("-")[1]||0}}},l=e(23),component=Object(l.a)(r,(function(){var t=this,o=t._self._c;return o("div",[t.displayUsdValue&&t.usdValue?o("span",{staticClass:"position-relative display-6 text-small text-secondary"},[t._v("\n    "+t._s(t.usdValue)+"\n  ")]):t._e(),t._v(" "),t.percentageHelper?o("div",{staticClass:"mb-1"},[o("b-button",{staticClass:"py-1",class:{selected:t.inputValue===.25*t.maxAmount},attrs:{variant:"secondary"},on:{click:function(o){t.inputValue=(.25*t.maxAmount).toLocaleString(void 0,{maximumFractionDigits:t.countDecimals()})}}},[t._v("\n      25%\n    ")]),t._v(" "),o("b-button",{staticClass:"py-1",class:{selected:t.inputValue===.5*t.maxAmount},attrs:{variant:"secondary"},on:{click:function(o){t.inputValue=.5*t.maxAmount}}},[t._v("\n      50%\n    ")]),t._v(" "),o("b-button",{staticClass:"py-1",class:{selected:t.inputValue===.75*t.maxAmount},attrs:{variant:"secondary"},on:{click:function(o){t.inputValue=t.getLocaleString(.75*t.maxAmount,2)}}},[t._v("\n      75%\n    ")]),t._v(" "),o("b-button",{staticClass:"py-1",class:{selected:String(t.inputValue)===t.maxAmount},attrs:{variant:"secondary"},on:{click:function(o){t.inputValue=t.maxAmount}}},[t._v("\n      100%\n    ")])],1):t._e(),t._v(" "),o("div",{staticClass:"token-input mb-1"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control",staticStyle:{background:"transparent",border:"none"},attrs:{placeholder:"0",disabled:t.disabled},domProps:{value:t.inputValue},on:{input:[function(o){o.target.composing||(t.inputValue=o.target.value)},function(o){return t.$emit("input",t.inputValue)}]}}),t._v(" "),t.displayMaxButton?o("div",{staticClass:"p-2 d-flex align-items-center max-token-input"},[o("b-button",{staticClass:"m-0 p-0 text-center",attrs:{variant:"icon"},on:{click:function(o){return t.setMaxInputAmount()}}},[t._v("\n        max\n      ")])],1):t._e()]),t._v(" "),t.displayBottomInfos?o("div",{staticClass:"d-flex justify-content-end text-small text-secondary"},[o("div",[o("span",{staticClass:"mr-1"},[t._v(t._s(t.label)+":")]),t._v(" "),t.maxAmount?o("span",{staticClass:"mr-1"},[t._v(t._s(t.getLocaleString(t.maxAmount,18))+" "+t._s(t.unit))]):o("span",[t._v("0")])])]):t._e()])}),[],!1,null,null,null);o.default=component.exports},1141:function(t,o,e){"use strict";e.r(o);var n={props:{objects:{type:Array,default:()=>[]}},data:()=>({currentPage:1,pageSize:10}),computed:{totalPages(){return Math.ceil(this.objects.length/this.pageSize)}},watch:{objects(){this.updatePaginatedObjects()}},mounted(){this.updatePaginatedObjects()},methods:{nextPage(){this.currentPage*this.pageSize<this.objects.length&&this.currentPage++,this.updatePaginatedObjects()},previousPage(){this.currentPage>1&&this.currentPage--,this.updatePaginatedObjects()},setPage(i){this.currentPage=i,this.updatePaginatedObjects()},updatePageSize(t){this.pageSize=t,this.currentPage=Math.min(this.currentPage,this.totalPages),this.updatePaginatedObjects()},updatePaginatedObjects(){const t=(this.currentPage-1)*this.pageSize,o=this.currentPage*this.pageSize;this.$emit("update",this.objects.filter(((e,n)=>n>=t&&n<o)))}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return t.objects.length>1?o("div",{staticClass:"pagination d-flex align-items-center justify-content-between"},[o("span",{staticClass:"text-secondary text-small"},[t._v("\n    "+t._s(t.objects.length)+" "+t._s(t.objects.length>1?"entries":"entry")+"\n  ")]),t._v(" "),o("div",{staticClass:"pagination-pages d-none d-md-flex flex-row align-items-center justify-content-center"},[o("b-button",{staticClass:"btn-pagination-first",attrs:{variant:"pagination",disabled:t.currentPage<=1},on:{click:t.previousPage}},[o("i",{staticClass:"icam-arrow-left mr-1"}),t._v("\n      Previous\n    ")]),t._v(" "),o("b-button",{class:{active:1===t.currentPage},attrs:{variant:"pagination"},on:{click:function(o){return t.setPage(1)}}},[t._v("\n      1\n    ")]),t._v(" "),t.totalPages>1?o("b-button",{class:{active:2===t.currentPage},attrs:{variant:"pagination"},on:{click:function(o){return t.setPage(2)}}},[t._v("\n      2\n    ")]):t._e(),t._v(" "),t.totalPages>5&&3!==t.currentPage?o("b-button",{attrs:{variant:"pagination"}},[t._v("...")]):t._e(),t._v(" "),t.totalPages>4&&t.currentPage>2&&t.currentPage<t.totalPages-1?o("b-button",{staticClass:"active",attrs:{variant:"pagination"}},[t._v("\n      "+t._s(t.currentPage)+"\n    ")]):t._e(),t._v(" "),t.totalPages>5&&t.currentPage<t.totalPages-2&&t.currentPage>2?o("b-button",{attrs:{variant:"pagination"}},[t._v("\n      ...\n    ")]):t._e(),t._v(" "),t.totalPages>3?o("b-button",{class:{active:t.currentPage===t.totalPages-1},attrs:{variant:"pagination"},on:{click:function(o){return t.setPage(t.totalPages-1)}}},[t._v("\n      "+t._s(t.totalPages-1)+"\n    ")]):t._e(),t._v(" "),t.totalPages>2?o("b-button",{class:{active:t.currentPage===t.totalPages},attrs:{variant:"pagination"},on:{click:function(o){return t.setPage(t.totalPages)}}},[t._v("\n      "+t._s(t.totalPages)+"\n    ")]):t._e(),t._v(" "),o("b-button",{staticClass:"btn-pagination-last",attrs:{variant:"pagination",disabled:t.currentPage>=t.totalPages},on:{click:t.nextPage}},[t._v("\n      Next\n      "),o("i",{staticClass:"icam-arrow-right ml-1"})])],1),t._v(" "),o("div",{staticClass:"pagination-pages d-flex d-md-none flex-row align-items-center justify-content-center"},[o("b-button",{staticClass:"px-2",attrs:{variant:"simple-link",disabled:t.currentPage<=1},on:{click:t.previousPage}},[o("i",{staticClass:"icam-arrow-left"})]),t._v(" "),o("span",{staticClass:"text-secondary text-small px-2"},[t._v(t._s(t.currentPage)+" of "+t._s(t.totalPages))]),t._v(" "),o("b-button",{staticClass:"px-2",attrs:{variant:"simple-link",disabled:t.currentPage>=t.totalPages},on:{click:t.nextPage}},[o("i",{staticClass:"icam-arrow-right"})])],1),t._v(" "),o("b-dropdown",{staticClass:"pagination-page-size",staticStyle:{height:"30px"},attrs:{variant:"black","toggle-class":"select-dropdown px-2"},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("span",{staticClass:"text-secondary text-small"},[t._v(t._s(t.pageSize))])]},proxy:!0}],null,!1,2231690060)},[t._v(" "),o("b-dropdown-item",{staticClass:"dropdown-switch-item text-small",on:{click:function(o){return t.updatePageSize(5)}}},[t._v("\n      5\n    ")]),t._v(" "),o("b-dropdown-item",{staticClass:"dropdown-switch-item text-small",on:{click:function(o){return t.updatePageSize(10)}}},[t._v("\n      10\n    ")]),t._v(" "),o("b-dropdown-item",{staticClass:"dropdown-switch-item text-small",on:{click:function(o){return t.updatePageSize(20)}}},[t._v("\n      20\n    ")]),t._v(" "),o("b-dropdown-item",{staticClass:"dropdown-switch-item text-small",on:{click:function(o){return t.updatePageSize(50)}}},[t._v("\n      50\n    ")])],1)],1):t._e()}),[],!1,null,null,null);o.default=component.exports},1145:function(t,o,e){"use strict";e.r(o);var n={props:{nftPool:{type:Object,default:null},title:{type:String,default:"Lock duration"},min:{type:Number,default:0},max:{type:Number,default:180}},data(){return{inputDurationDays:0,inputDurationMonths:0,lockDuration:this.min}},computed:{bonus(){let t=this.lockDuration;return t<this.min&&(t=this.min),100*this.nftPool.getBonusByLockDuration(t)},multiplier(){return 1+this.bonus/100}},watch:{inputDurationDays(t){t>30&&(this.inputDurationDays=30),this.computeLockDurationFromInputs()},inputDurationMonths(){this.computeLockDurationFromInputs()}},mounted(){this.setMin()},methods:{computeLockDurationFromInputs(){this.lockDuration=Number(this.inputDurationDays)+30*Number(this.inputDurationMonths),this.$emit("input",this.lockDuration)},computeInputsFromLockDuration(){this.lockDuration>30?(this.inputDurationMonths=Math.floor(this.lockDuration/30),this.inputDurationDays=this.lockDuration%30):(this.inputDurationMonths=0,this.inputDurationDays=this.lockDuration),this.$emit("input",this.lockDuration)},decrease(){this.lockDuration>this.min&&(this.lockDuration=this.lockDuration-1,this.computeInputsFromLockDuration())},increase(){this.lockDuration=this.lockDuration+1,this.computeInputsFromLockDuration()},setMin(){this.lockDuration=this.min,this.computeInputsFromLockDuration()},setMax(){this.lockDuration=this.max,this.computeInputsFromLockDuration()}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",[o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("div",{staticClass:"title"},[o("h4",{staticClass:"mb-0"},[t._v(t._s(t.title))]),t._v(" "),t.nftPool&&t.nftPool.isGeneratingYield?o("b-button",{staticClass:"text-small m-0 text-decoration-none p-0",attrs:{variant:"link",href:"#"},on:{click:t.setMax}},[t._v("\n        Set max bonus\n      ")]):!t.nftPool&&t.max>0?o("b-button",{staticClass:"text-small m-0 text-decoration-none p-0",attrs:{variant:"link",href:"#"},on:{click:t.setMax}},[t._v("\n        Set max\n      ")]):t._e()],1),t._v(" "),o("div",{staticClass:"d-flex align-items-center"},[o("b-button",{staticClass:"btn-utility",attrs:{disabled:t.lockDuration<=t.min,variant:"secondary"},on:{click:t.decrease}},[o("i",{staticClass:"icam-minus p-1"})]),t._v(" "),o("h4",{staticClass:"pl-3 pr-2 pb-2 mb-0 text-center"},[o("span",{staticClass:"text-small text-muted"},[t._v("Months")]),t._v(" "),o("br"),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDurationMonths,expression:"inputDurationMonths"}],staticClass:"text-center d-inline b-0 bg-transparent mb-0 mt-1",staticStyle:{width:"40px"},attrs:{type:"number",step:"1",min:0,onClick:"this.select();"},domProps:{value:t.inputDurationMonths},on:{input:function(o){o.target.composing||(t.inputDurationMonths=o.target.value)}}})]),t._v(" "),o("h4",{staticClass:"pl-2 pr-3 pb-2 mb-0 text-center"},[o("span",{staticClass:"text-small text-muted"},[t._v("Days")]),t._v(" "),o("br"),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.inputDurationDays,expression:"inputDurationDays"}],staticClass:"text-center d-inline b-0 bg-transparent mb-0 mt-1",staticStyle:{width:"40px"},attrs:{type:"number",step:"1",min:t.min,max:30,onClick:"this.select();"},domProps:{value:t.inputDurationDays},on:{input:function(o){o.target.composing||(t.inputDurationDays=o.target.value)}}})]),t._v(" "),o("b-button",{staticClass:"btn-utility",attrs:{variant:"primary"},on:{click:t.increase}},[o("i",{staticClass:"icam-add p-1"})])],1)]),t._v(" "),t.nftPool&&t.nftPool.isGeneratingYield?o("p",{staticClass:"text-secondary text-right mt-1 mb-0"},[t._v("\n    "+t._s(t.getLocaleString(t.bonus,2))+"% lock bonus\n    "),t.multiplier>1?o("span",[t._v("(x"+t._s(t.getLocaleString(t.multiplier,2))+")")]):t._e()]):t._e()])}),[],!1,null,null,null);o.default=component.exports},1152:function(t,o,e){"use strict";e.r(o);var n={props:{icon:{type:String,required:!0},value:{type:String,default:""},label:{type:String,default:null},size:{type:String,default:"md"}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-flex d-md-inline-flex align-items-center my-2 my-md-0"},[o("i",{staticClass:"mdi round-icon text-black bg-primary mr-2 justify-content-center",class:"mdi-".concat(t.icon)}),t._v(" "),o("div",{staticClass:"d-flex align-items-center"},[o("span",{staticClass:"mb-0 mr-1",class:{h4:"md"===t.size}},[t._t("default",(function(){return[t._v(t._s(t.value))]}))],2),t._v(" "),t.label?o("span",{staticClass:"text-secondary",class:{"text-small":"sm"===t.size}},[t._v("\n      "+t._s(t.label)+"\n    ")]):t._e()])])}),[],!1,null,null,null);o.default=component.exports},1156:function(t,o,e){"use strict";e.r(o);var n={components:{TokenImg:e(416).default},props:{pool:{type:Object,required:!0}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-flex align-items-center"},[o("div",{staticClass:"d-none d-sm-block text-center mr-1",staticStyle:{width:"60px"}},[o("token-img",{attrs:{token:t.pool.depositToken}})],1),t._v(" "),o("div",{staticClass:"d-block d-sm-none text-center mr-1",staticStyle:{width:"45px"}},[o("token-img",{attrs:{token:t.pool.depositToken,size:"sm"}})],1),t._v(" "),o("div",[o("div",{staticClass:"d-flex align-items-center"},[o("h4",{staticClass:"text-truncate mb-0 d-flex align-items-center"},[t._v("\n        "+t._s(t.pool.depositToken.symbol)+"\n        "),o("span",{staticClass:"text-small text-primary position-relative ml-1"},[t._v("\n          "+t._s(t.pool.nftPool.isLPV2?"V2":t.pool.nftPool.isLPV3?"V3":"")+"\n        ")])])]),t._v(" "),t._t("subtitle")],2)])}),[],!1,null,null,null);o.default=component.exports},1159:function(t,o,e){"use strict";e.r(o);var n={components:{TokenImg:e(416).default},props:{pool:{type:Object,required:!0}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-flex align-items-center"},[o("token-img",{attrs:{token:t.pool.rewardToken,size:"sm"}}),t._v(" "),t.pool.rewardToken2&&Number(t.pool.rewardToken2AmountFormatted)>0?o("token-img",{attrs:{size:"sm",token:t.pool.rewardToken2}}):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1166:function(t,o,e){"use strict";e.r(o);var n={props:{position:{type:Object,required:!0},usdOnly:{type:Boolean,default:!1}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return t.usdOnly?o("div",{class:{"text-secondary":!t.position.amountUSD}},[t._v("\n  $"+t._s(t.getLocaleString(t.position.amountUSD,2,2))+"\n")]):o("div",[o("span",{class:{"text-secondary":!t.position.amountUSD}},[t._v("\n    "+t._s(t.getLocaleString(t.position.amountFormatted,3,3))+"\n  ")]),t._v(" "),o("br"),t._v(" "),t.position.amountUSD?o("span",{staticClass:"d-none d-lg-block text-secondary"},[t._v("\n    $"+t._s(t.getLocaleString(t.position.amountUSD,2,2))+"\n  ")]):t._e()])}),[],!1,null,null,null);o.default=component.exports},1173:function(t,o,e){"use strict";e.r(o);var n=e(1156),r=e(1159),l={components:{DataIconInline:e(1152).default,NitroId:n.default,NitroRewardsTokens:r.default},props:{index:{type:Number,default:null},isSelected:{type:Boolean,default:!1},pool:{type:Object,required:!0}},computed:{lockDurationDays(){return this.pool.requiredLockDurationDays%30},remainingDays(){const t=Math.round((1e3*this.pool.endTime-new Date)/24/60/60/1e3);return t<1?"<1":t}}},c=e(23),component=Object(c.a)(l,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"bg-darker border-width-2 hover-border-primary p-3 rounded-lg cursor-pointer",class:{"border-primary":t.isSelected,"border-lighter2":!t.isSelected},on:{click:function(o){return t.$emit("select")}}},[o("div",{staticClass:"d-flex align-items-center justify-content-between"},[o("NitroId",{attrs:{pool:t.pool}}),t._v(" "),o("div",[o("NitroRewardsTokens",{staticClass:"justify-content-center",attrs:{pool:t.pool}}),t._v(" "),o("span",{staticClass:"text-secondary text-small"},[t._v("rewards")])],1)],1),t._v(" "),o("div",{staticClass:"my-2"},[o("DataIconInline",{staticClass:"mr-3",attrs:{label:"TVL",icon:"currency-usd",size:"sm",value:"$".concat(t.getLocaleString(t.pool.tvlFormatted.value,t.pool.tvlFormatted.digits)).concat(t.pool.tvlFormatted.unit)}}),t._v(" "),o("DataIconInline",{staticClass:"mr-3",attrs:{label:"Bonus APR",icon:"percent-outline",size:"sm",value:"".concat(t.getLocaleString(t.pool.aprFormatted,2,2),"%")}})],1),t._v(" "),o("div",{staticClass:"text-secondary"},[o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-calendar font-size-16 mr-2"}),t._v(" "),o("span",[t._v("Ends in "+t._s(t.remainingDays)+" "+t._s(t.remainingDays>1?"days":"day"))])]),t._v(" "),t.pool.requiredLockDuration>0?o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-lock-outline font-size-16 mr-2"}),t._v(" "),o("span",[t._v("\n        "+t._s(t.lockDurationDays)+"\n        "+t._s(t.lockDurationDays>1?"days":"day")+" min. lock duration\n      ")])]):t._e(),t._v(" "),t.pool.requiredLockEnd>0?o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-calendar-lock-outline font-size-16 mr-2"}),t._v(" "),o("span",[t._v(t._s(new Date(1e3*t.pool.requiredLockEnd).toLocaleString())+" min. lock date")])]):t._e(),t._v(" "),Number(t.pool.requiredDepositAmountFormatted)>0?o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-calendar-lock-outline font-size-16 mr-2"}),t._v(" "),o("span",[t._v(t._s(t.getLocaleString(t.pool.requiredDepositAmountUSD,2,2))+" min. deposit")])]):t._e(),t._v(" "),Number(t.pool.whitelist)>0?o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-list-status font-size-16 mr-2"}),t._v(" "),o("span",[t._v("Whitelisted addresses only")])]):t._e(),t._v(" "),0===t.pool.requiredLockDuration&&0===t.pool.requiredLockEnd&&0===Number(t.pool.requiredDepositAmountFormatted)&&0===Number(t.pool.whitelist)?o("div",{staticClass:"d-flex align-items-center"},[o("i",{staticClass:"mdi mdi-lock-open-variant-outline font-size-16 mr-2"}),t._v(" "),o("span",[t._v("No requirement")])]):t._e()])])}),[],!1,null,null,null);o.default=component.exports},1185:function(t,o,e){"use strict";e.r(o);var n={props:{position:{type:Object,required:!0},usdOnly:{type:Boolean,default:!1}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return t.usdOnly?o("div",{class:{"text-secondary":!t.position.pendingRewardsUSD}},[t._v("\n  $"+t._s(t.getLocaleString(t.position.pendingRewardsUSD,2,2))+"\n")]):o("div",[o("span",{class:{"text-secondary":!t.position.pendingRewardsUSD}},[t._v("\n    $"+t._s(t.getLocaleString(t.position.pendingRewardsUSD,2,2))+"\n  ")]),t._v(" "),o("br"),t._v(" "),t.position.pendingRewardsUSD?o("span",{staticClass:"d-none d-lg-block text-secondary"},[t._v("\n    "+t._s(t.getLocaleString(t.position.pendingRewardsFormatted,3,3))+"\n    "),o("span",{staticClass:"text-small"},[t._v(t._s(t.GRAIL_SYMBOL_GLOBAL))])]):t._e()])}),[],!1,null,null,null);o.default=component.exports},1200:function(t,o,e){"use strict";e.r(o);var n=e(1133),r=e(417),l=e(1128),c={components:{Accordion:n.default,AnimatedNumber:r.default,DataRow:l.default},props:{position:{type:Object,default:null},lockDuration:{type:Number,default:0},nftPool:{type:Object,default:null},findAvailableNitroPools:{type:Boolean,default:!0},nitroPool:{type:Object,default:null},nitroPoolFactory:{type:Object,required:!0},amountValue:{type:Number,default:0}},computed:{newTotalAPR(){return this.nftPool.feesApr+this.newFarmAPR+this.nitroAPR},newFarmAPR(){const t=this.position?this.position.boostBonusFormatted/100:0,o=this.nftPool.getBonusByLockDuration(this.lockDuration),e=Math.min(this.nftPool.maxGlobalMultiplier/100+1,1+t+o);return this.nftPool.calculateAPR(this.amountValue,e)},bonusAPR(){return this.farmAPR-this.nftPool.aprFormatted},feesApr(){return this.nftPool.isLPV3?this.nftPool.baseAprFormatted:"feesApr"in this.nftPool.depositToken?this.nftPool.depositToken.feesApr:0},newBonusAPR(){return this.newFarmAPR-this.nftPool.aprFormatted},nitroAPR(){if(this.position)return this.position.nitroAprFormatted;if(this.nitroPool)return this.nitroPool.aprFormatted;if(this.findAvailableNitroPools){const t=this.nitroPoolFactory.allNitroPools.find((t=>null!==t.nftPool&&t.nftPool.address===this.nftPool.address&&t.aprFormatted>0&&t.endTime>new Date/1e3&&t.isValid&&t.published));if(null!=t)return t.aprFormatted}return 0}}},d=e(23),component=Object(d.a)(c,(function(){var t=this,o=t._self._c;return o("div",[o("data-row",{staticClass:"mb-1",scopedSlots:t._u([{key:"label",fn:function(){return[o("span",{staticClass:"text-white"},[t._v("Deposit value")])]},proxy:!0},{key:"value",fn:function(){return[t.position&&t.position.amountUSD+t.amountValue!==t.position.amountUSD&&t.position.amountUSD!==t.amountValue?o("span",[o("animated-number",{staticClass:"text-secondary",attrs:{value:t.position.amountUSD,digits:2,prefix:"$"}}),t._v(" "),o("i",{staticClass:"icam-arrow-right text-secondary"}),t._v(" "),o("animated-number",{attrs:{value:t.position.amountUSD+t.amountValue,digits:2,prefix:"$"}})],1):o("animated-number",{attrs:{value:t.amountValue,digits:2,prefix:"$"}})]},proxy:!0}])}),t._v(" "),o("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Total APR"},scopedSlots:t._u([{key:"value",fn:function(){return[o("div",[t.position&&Number(t.position.totalAprFormatted)!==Number(t.newTotalAPR)?o("span",[o("animated-number",{staticClass:"text-secondary",attrs:{value:t.position.totalAprFormatted,digits:2,suffix:"%"}}),t._v(" "),o("i",{staticClass:"icam-arrow-right text-secondary"})],1):t._e(),t._v(" "),o("animated-number",{staticClass:"text-primary",attrs:{value:t.newTotalAPR,digits:2,suffix:"%"}})],1)]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"px-2 rounded"},[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Swap fees APR")]},proxy:!0},{key:"value",fn:function(){return[t._v(t._s(t.getLocaleString(t.nftPool.feesApr,2))+"%")]},proxy:!0}])}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Farm base APR")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.nftPool.aprFormatted,digits:2,suffix:"%"}})]},proxy:!0}])}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t.position?o("span",[t._v("Farm bonus APR")]):o("span",[t._v("Lock bonus APR")])]},proxy:!0},{key:"value",fn:function(){return[t.position&&Number(t.position.bonusAprFormatted)!==Number(t.newBonusAPR)?o("span",[o("animated-number",{staticClass:"text-secondary",attrs:{value:t.position.bonusAprFormatted,digits:2,suffix:"%"}}),t._v(" "),o("i",{staticClass:"icam-arrow-right text-secondary"})],1):t._e(),t._v(" "),o("animated-number",{attrs:{value:t.newBonusAPR,digits:2,suffix:"%"}})]},proxy:!0}])}),t._v(" "),t.nitroAPR>0?o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Nitro APR")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{staticClass:"text-info",attrs:{value:t.nitroAPR,digits:2,prefix:"+",suffix:"%"}})]},proxy:!0}],null,!1,2179994576)}):t._e()],1)])],1)}),[],!1,null,null,null);o.default=component.exports},1251:function(t,o,e){"use strict";e.r(o);var n={props:{position:{type:Object,required:!0}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"text-secondary align-items-center d-flex"},[o("span",{staticStyle:{"margin-right":"0.15rem"}},[o("i",{staticClass:"iexc-coin2 icon-settings position-relative",class:{"text-primary":t.position.isGeneratingYield},attrs:{id:"yield-"+t.position.spNftId,type:"button","data-toggle":"tooltip"}}),t._v(" "),o("b-tooltip",{attrs:{target:"yield-"+t.position.spNftId,"no-fade":"",placement:"top"}},[t.position.isGeneratingYield?o("span",[t._v("Yield-bearing position")]):o("span",[t._v("Non-yield-bearing position")])])],1),t._v(" "),o("span",{staticClass:"ml-1"},[o("i",{staticClass:"mdi mdi-lock-outline icon-settings",class:{"text-primary":t.position.isLocked},attrs:{id:"lock-"+t.position.spNftId,type:"button","data-toggle":"tooltip"}}),t._v(" "),o("b-tooltip",{attrs:{target:"lock-"+t.position.spNftId,"no-fade":"",placement:"top"}},[t.position.isLocked?o("span",[t._v("\n        Active lock of "+t._s(t.position.lockDurationDays)+"\n        "+t._s(t.position.lockDurationDays>1?"days":"day")+"\n      ")]):o("span",[t._v("No active lock")])])],1),t._v(" "),o("span",{staticClass:"ml-1"},[o("i",{staticClass:"mdi mdi-rocket-launch-outline icon-settings",class:{"text-primary":t.position.isBoosted},attrs:{id:"boost-"+t.position.spNftId,type:"button","data-toggle":"tooltip"}}),t._v(" "),o("b-tooltip",{attrs:{target:"boost-"+t.position.spNftId,"no-fade":"",placement:"top"}},[t.position.isBoosted?o("span",[t._v("Active boost")]):o("span",[t._v("No active boost")])])],1),t._v(" "),o("span",{staticClass:"ml-1"},[o("i",{staticClass:"mdi mdi-fire icon-settings",class:{"text-info":t.position.isStacked},attrs:{id:"nitrostake-"+t.position.spNftId,type:"button","data-toggle":"tooltip"}}),t._v(" "),o("b-tooltip",{attrs:{target:"nitrostake-"+t.position.spNftId,"no-fade":"",placement:"top"}},[t.position.isStacked?o("span",[t._v("Staked in a Nitro Pool")]):o("span",[t._v("Not staked in a Nitro pool")])])],1)])}),[],!1,null,null,null);o.default=component.exports},1344:function(t,o,e){"use strict";e.r(o);e(8);var n=e(1699),details=e(1953),r=e(1703),l=e(1704),c=e(1705),d=e(1706),m=e(1707),h=e(1538),v=e(1539),f=e(1708),_=e(1709),y={components:{Pagination:e(1141).default,Position:n.default,DetailsPositionModal:details.default,WithdrawPositionModal:v.default,AddPositionModal:h.default,HarvestPositionModal:f.default,LockPositionModal:m.default,BoostPositionModal:d.default,TransferPositionModal:c.default,SplitPositionModal:l.default,MergePositionModal:r.default,NitroSelectPositionModal:_.default},props:{hidePagination:{type:Boolean,default:!1},positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({paginatedPositions:[],sortBy:"amount-desc",selectedPosition:null}),computed:{displayedPositions(){return this.hidePagination?this.sortedPositions:this.paginatedPositions},sortedPositions(){const t=[...this.positions];return"token-asc"===this.sortBy?t.sort(((a,b)=>a.depositToken.symbol.toLowerCase()<b.depositToken.symbol.toLowerCase()?-1:a.depositToken.symbol.toLowerCase()>b.depositToken.symbol.toLowerCase()?1:0)):"token-desc"===this.sortBy?t.sort(((a,b)=>a.depositToken.symbol.toLowerCase()>b.depositToken.symbol.toLowerCase()?-1:a.depositToken.symbol.toLowerCase()<b.depositToken.symbol.toLowerCase()?1:0)):"amount-asc"===this.sortBy?t.sort(((a,b)=>a.amountUSD<b.amountUSD?-1:a.amountUSD>b.amountUSD?1:0)):"amount-desc"===this.sortBy?t.sort(((a,b)=>a.amountUSD>b.amountUSD?-1:a.amountUSD<b.amountUSD?1:0)):"apr-asc"===this.sortBy?t.sort(((a,b)=>a.aprFormatted<b.aprFormatted?-1:a.aprFormatted>b.aprFormatted?1:0)):"apr-desc"===this.sortBy?t.sort(((a,b)=>a.aprFormatted>b.aprFormatted?-1:a.aprFormatted<b.aprFormatted?1:0)):t}},methods:{isSortedBy(t,o){return this.sortBy===t+"-"+o},setSortBy(t){this.sortBy===t+"-desc"?this.sortBy=t+"-asc":this.sortBy=t+"-desc"},updatePaginatedPositions(t){this.paginatedPositions=t},setPosition(t){let details=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=this.displayedPositions.find((o=>o.spNftId===t));this.selectedPosition=o,details&&this.$nextTick((()=>{this.$bvModal.show("details-position-modal")}))}}},x=y,k=e(23),component=Object(k.a)(x,(function(){var t=this,o=t._self._c;return o("div",[o("table",{staticClass:"data-table w-100 mt-2"},[o("tr",{key:1e3,staticClass:"d-none d-md-table-row"},[o("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("token","asc"),"sort-by-desc":t.isSortedBy("token","desc")},attrs:{scope:"col"},on:{click:function(o){return t.setSortBy("token")}}},[t._v("\n        Token\n      ")]),t._v(" "),o("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("amount","asc"),"sort-by-desc":t.isSortedBy("amount","desc")},attrs:{scope:"col"},on:{click:function(o){return t.setSortBy("amount")}}},[t._v("\n        Deposits\n      ")]),t._v(" "),o("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("apr","asc"),"sort-by-desc":t.isSortedBy("apr","desc")},attrs:{scope:"col"},on:{click:function(o){return t.setSortBy("apr")}}},[t._v("\n        APR\n      ")]),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("Properties")]),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("Pending rewards")])]),t._v(" "),t._l(t.displayedPositions,(function(e){return o("position",{key:e.spNftId,attrs:{position:e,"display-apr":"","display-rewards":""},on:{click:t.setPosition}})}))],2),t._v(" "),t.loading?t._l(5,(function(t){return o("div",{key:t,staticClass:"skeleton mt-2 py-3"})})):t._e(),t._v(" "),t.hidePagination?t._e():o("pagination",{staticClass:"mt-4",attrs:{objects:t.sortedPositions},on:{update:t.updatePaginatedPositions}}),t._v(" "),t._l(["add","boost","withdraw","harvest","details","lock","nitro-select","merge","split","transfer"],(function(e){return[t.selectedPosition?o("".concat(e,"-position-modal"),{key:e,tag:"component",attrs:{id:"".concat(e,"-position-modal"),position:t.selectedPosition},on:{close:function(o){t.selectedPosition=null}}}):t._e()]}))],2)}),[],!1,null,null,null);o.default=component.exports},1345:function(t,o,e){"use strict";e.r(o);var n={props:{id:{type:String,required:!0},position:{type:Object,required:!0}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("span",[o("i",{staticClass:"mdi mdi-help-circle-outline check-nav-icon text-secondary font-size-14",attrs:{id:t.id,type:"button","data-toggle":"tooltip"}}),t._v(" "),o("b-tooltip",{attrs:{target:t.id,"no-fade":"",placement:"righttop"}},[o("div",[o("strong",[t._v("Swap fees APR:")]),t._v("\n      "+t._s(t.getLocaleString(t.position.feesApr,2,2))+"%\n    ")]),t._v(" "),t.position.baseAprFormatted>0?o("div",[o("strong",{staticClass:"text-primary"},[t._v("Farm base APR:")]),t._v(" "),o("span",{staticClass:"text-primary"},[t._v(t._s(t.getLocaleString(t.position.baseAprFormatted,2))+"%")])]):t._e(),t._v(" "),t.position.bonusAprFormatted>0?o("div",[o("strong",{staticClass:"text-primary"},[t._v("Farm bonus APR:")]),t._v(" "),o("span",{staticClass:"text-primary"},[t._v(t._s(t.getLocaleString(t.position.bonusAprFormatted,2))+"%")])]):t._e(),t._v(" "),t.position.nftPool.campaignsApr>0?o("div",[o("strong",{staticClass:"text-primary"},[t._v("Market Maker APR:")]),t._v(" "),o("span",{staticClass:"text-primary"},[t._v(t._s(t.getLocaleString(t.position.nftPool.campaignsApr,2))+"%")])]):t._e(),t._v(" "),t.position.nftPool.merklAprFormatted>0?o("div",[o("strong",{staticClass:"text-merkl"},[t._v("Merkl APR:")]),t._v(" "),o("span",{staticClass:"text-merkl"},[t._v("\n        "+t._s(t.getLocaleString(t.position.nftPool.merklAprFormatted,2))+"%\n      ")])]):t._e(),t._v(" "),t.position.nitroAprFormatted>0?o("div",[o("strong",{staticClass:"text-info"},[t._v("Nitro rewards:")]),t._v(" "),o("span",{staticClass:"text-info"},[t._v(t._s(t.getLocaleString(t.position.nitroAprFormatted,2))+"%")])]):t._e()])],1)}),[],!1,null,null,null);o.default=component.exports},1535:function(t,o,e){"use strict";e.r(o);var n={props:{position:{type:Object,required:!0}},computed:{canDeposit(){const t=new Date;return this.position.stackedOn&&!this.position.isOwned?this.position.stackedOn.isXGrailTransferAllowed&&(!this.position.stackedOn.depositEndTime||t<new Date(1e3*this.position.stackedOn.depositEndTime)):this.position.isOwned},canWithdraw(){return!this.position.isLocked&&this.position.isOwned},canManage(){return this.position.isOwned}},methods:{action(t){this.$emit("click"),this.$nextTick((()=>{this.$bvModal.show("".concat(t,"-position-modal"))})),this.$bvModal.hide("details-position-modal")}}},r=e(23),component=Object(r.a)(n,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-flex align-items-center"},[o("b-button",{staticClass:"py-1 px-2",attrs:{variant:"secondary",title:"Deposit",disabled:!t.canDeposit},on:{click:function(o){return o.stopPropagation(),t.action("add")}}},[o("i",{staticClass:"mdi mdi-tray-arrow-down text-primary p-0 font-size-20"})]),t._v(" "),o("b-button",{staticClass:"py-1 px-2",class:{"bg-transparent":!t.canWithdraw},attrs:{variant:"secondary",title:"Withdraw",disabled:!t.canWithdraw},on:{click:function(o){return o.stopPropagation(),t.action("withdraw")}}},[o("i",{staticClass:"mdi mdi-tray-arrow-up text-primary p-0 font-size-20"})]),t._v(" "),o("b-button",{staticClass:"py-1 px-2",attrs:{variant:"secondary",title:"Harvest"},on:{click:function(o){return o.stopPropagation(),t.action("harvest")}}},[o("i",{staticClass:"mdi mdi-wallet-outline text-primary p-0 font-size-20"})]),t._v(" "),o("b-button",{staticClass:"py-1 px-2",attrs:{variant:"secondary",title:"Lock",disabled:!t.canManage},on:{click:function(o){return o.stopPropagation(),t.action("lock")}}},[o("i",{staticClass:"mdi mdi-lock-outline text-primary p-0 font-size-20"})]),t._v(" "),o("b-button",{staticClass:"py-1 px-2",attrs:{variant:"secondary",title:"Boost",disabled:!t.canManage},on:{click:function(o){return o.stopPropagation(),t.action("boost")}}},[o("i",{staticClass:"mdi mdi-rocket-launch-outline text-primary p-0 font-size-20"})])],1)}),[],!1,null,null,null);o.default=component.exports},1536:function(t,o,e){"use strict";e.r(o);var n={components:{AprTooltip:e(1345).default},props:{position:{type:Object,required:!0}},computed:{feesApr(){return"feesApr"in this.position.depositToken?this.position.depositToken.feesApr:0},campaignsApr(){return"campaignsApr"in this.position.depositToken?this.position.depositToken.campaignsApr:0},merklApr(){return"merklAprFormatted"in this.position.nftPool?this.position.nftPool.merklAprFormatted:0},totalApr(){let t=this.position.aprFormatted+this.feesApr+this.campaignsApr+this.merklApr;return this.position.isStacked&&Number(this.position.stackedOn.aprFormatted)>0&&(t+=this.position.stackedOn.aprFormatted),t}}},r=n,l=e(23),component=Object(l.a)(r,(function(){var t=this,o=t._self._c;return o("div",[o("div",{staticClass:"d-flex align-items-center"},[t._v("\n    "+t._s(t.getLocaleString(t.position.totalAprFormatted,2,2))+"%\n    "),o("apr-tooltip",{staticClass:"d-inline-block ml-1",attrs:{id:t.position.spNftId,position:t.position}})],1)])}),[],!1,null,null,null);o.default=component.exports},1537:function(t,o,e){"use strict";e.r(o);var n=e(1166),r=e(1251),l={components:{PositionAmount:n.default,PositionSettings:r.default},props:{filteredFromDefault:{type:Boolean,default:!0},defaultPosition:{type:Object,default:null},positions:{type:Array,required:!0},symbol:{type:String,required:!0}},data:()=>({selectedPositions:[]}),watch:{positions(){this.selectedPositions.forEach((t=>{if(!this.positions.find((o=>o.id===t))){const o=this.selectedPositions.indexOf(t);o>-1&&this.selectedPositions.splice(o,1)}})),this.$emit("onSelectedPositionsChange",this.selectedPositions)}},mounted(){this.defaultPosition&&this.selectedPositions.push(this.defaultPosition.id)},methods:{isSelected(t){return this.selectedPositions.includes(t)},selectAll(){this.selectedPositions.length>=this.positions.length?this.selectedPositions.splice(0,this.selectedPositions.length):(this.selectedPositions.splice(0,this.selectedPositions.length),this.positions.forEach((t=>{this.selectedPositions.push(t.id)}))),this.$emit("onSelectedPositionsChange",this.selectedPositions)},select(t){const o=this.selectedPositions.indexOf(t);o>-1?this.selectedPositions.splice(o,1):this.selectedPositions.push(t),this.$emit("onSelectedPositionsChange",this.selectedPositions)}}},c=e(23),component=Object(c.a)(l,(function(){var t=this,o=t._self._c;return o("div",[o("div",{staticClass:"d-flex justify-content-between align-items-center px-2"},[t.filteredFromDefault?o("span",{staticClass:"text-secondary text-small"},[t._v("*"+t._s(t.symbol)+" only")]):t._e(),t._v(" "),o("a",{staticClass:"btn-sm",attrs:{href:"#"},on:{click:function(o){return o.preventDefault(),t.selectAll()}}},[t.selectedPositions.length<t.positions.length?o("span",[t._v("Select all")]):o("span",[t._v("Unselect all")])])]),t._v(" "),o("table",{staticClass:"data-table modal-select-table w-100 mt-2"},[o("tbody",t._l(t.positions,(function(e){return o("tr",{key:e.spNftId,staticClass:"cursor-pointer",class:{"bg-dark":t.isSelected(e.id)},on:{click:function(o){return t.select(e.id)}}},[o("td",{staticClass:"text-weight-500"},[t._v("#ID-"+t._s(e.id))]),t._v(" "),o("td",[o("position-amount",{attrs:{position:e}})],1),t._v(" "),o("td",{staticClass:"text-secondary"},[o("position-settings",{attrs:{position:e}})],1),t._v(" "),o("td",{staticClass:"text-muted"},[o("i",{staticClass:"iexc-tick",class:{"text-primary":t.isSelected(e.id)}})])])})),0)])])}),[],!1,null,null,null);o.default=component.exports},1538:function(t,o,e){"use strict";e.r(o);var n=e(103),input=e(1131),r=e(1140),l=e(1200),c=e(1129),d=e(17),m=e(1130),h={components:{Processing:c.default,Modal:n.default,TokenInput:input.default,Estimates:l.default,SpNftId:r.default},mixins:[m.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({amount:"0",isApproved:!1,error:null,loading:!0}),computed:{inputPrice(){return this.amount*this.position.depositToken.price},inputMaxAmount(){return this.position.depositToken.accountBalanceFormatted}},watch:{amount(t){this.syncApproval(),this.checkInput(t)},"position.depositToken.allowance"(){this.syncApproval()}},async mounted(){await this.syncApproval()},methods:{async addToPosition(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[{description:"Adding liquidity...",label:"spnft",icon:"mdi mdi-tray-arrow-down"}],this.successMessage={title:'You\'ve successfully added <span class="text-primary text-weight-500">~$'.concat(Object(d.b)(this.inputPrice,2,2)," of ").concat(this.position.depositToken.symbol,"</span> liquidity."),subtitleLinks:[{url:"/positions",label:"Positions page"},{url:"/pools/".concat(this.position.nftPool.address),label:"pool page"}],subtitleMessage:"to check your positions"},this.initLoading(this.id);try{const t=await this.position.addToPosition(this.amount);await this.checkTx(t,!0)}catch(t){this.txError("Error while adding liquidity. If the issue persists, please contact our support.")}},async approve(){this.loading=!0,this.loading=await this.position.depositToken.approveMax(this.position.nftPool.address)},async syncApproval(){this.isApproved=await this.position.depositToken.hasAccountApproval(this.$store.getters["web3-provider/account"],this.position.nftPool.address,this.amount),this.loading&&(this.loading=!this.isApproved)},checkInput(t){(!t||Number(t)>0)&&this.position.depositToken.isValidAmount(t)?this.position.depositToken.hasSufficientAmount(t,this.inputMaxAmount)?this.error=null:this.error="not enough balance":this.error="invalid amount input"},reset(){this.amount="0",this.loading=!1,this.error=null}}},v=e(23),component=Object(v.a)(h,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},on:{shown:function(o){return t.reset()}},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",[o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h3",{staticClass:"mt-2 mb-1 text-center"},[o("span",{staticClass:"text-primary"},[t._v("Add")]),t._v("\n          to your position\n        ")]),t._v(" "),o("div",{staticClass:"text-large text-secondary text-center"},[t._v("\n          Deposit more into this spNFT to increase your yield.\n        ")])])],1)]},proxy:!0},{key:"action",fn:function(){return[t.isApproved?o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||!t.amount||null!==t.error},on:{click:t.addToPosition}},[t._v("\n      Add Liquidity\n    ")]):o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||null!==t.error},on:{click:t.approve}},[t.loading?o("Processing"):o("span",[t._v("Approve")])],1)]},proxy:!0}])},[t._v(" "),o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Amount")])]),t._v(" "),o("div",{staticClass:"text-small text-secondary px-1 mb-2"},[t._v("\n    You need to own "+t._s(t.position.depositToken.symbol)+" LP tokens to directly add more liquidity to\n    this position. If that's not the case, head to the\n    "),o("a",{staticClass:"text-secondary text-weight-600",attrs:{href:""},on:{click:function(o){return t.$router.push("/liquidity")}}},[t._v("\n      liquidity page\n    ")]),t._v("\n    first.\n  ")]),t._v(" "),o("token-input",{attrs:{unit:t.position.depositToken.symbol,label:"wallet balance","max-amount":t.inputMaxAmount,"display-bottom-infos":""},model:{value:t.amount,callback:function(o){t.amount=o},expression:"amount"}}),t._v(" "),t.error?o("b-alert",{staticClass:"mt-2 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):o("div",[o("h4",{staticClass:"mt-4 mb-3 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Estimates")])]),t._v(" "),o("div",{staticClass:"px-2"},[t.amount?o("estimates",{staticClass:"mt-3",attrs:{"nft-pool":t.position.nftPool,"amount-value":t.inputPrice,position:t.position,"lock-duration":t.position.lockDurationDays,"nitro-pool-factory":t.$contracts.nitroPoolFactory}}):t._e()],1),t._v(" "),t.position.isLocked?o("b-alert",{staticClass:"mt-3 mb-0 px-3 py-2 border-primary",attrs:{show:"",variant:"warning"}},[o("i",{staticClass:"mdi mdi-alert-circle-outline mr-1 text-primary"}),t._v("\n      By making a new deposit on this position, you will renew its lock for\n      "+t._s(t.position.lockDurationDays)+"\n      "+t._s(t.position.lockDurationDays>1?"days":"day")+" from now.\n    ")]):t._e()],1)],1)}),[],!1,null,null,null);o.default=component.exports},1539:function(t,o,e){"use strict";e.r(o);var n=e(103),input=e(1131),r=e(1128),l=e(417),c=e(21),d=e(1140),m=e(17),h=e(1130),v={components:{Modal:n.default,TokenInput:input.default,DataRow:r.default,SpNftId:d.default,AnimatedNumber:l.default},mixins:[h.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({amount:"0",nftPool:null,error:null,unbindLp:!1,stepWithdraw:{description:"Withdrawing liquidity...",label:"withdraw",icon:"mdi mdi-tray-arrow-up"},stepApproval:{description:"Approving unbind...",label:"sign",icon:"mdi mdi-file-sign"},stepUnbind:{description:"Unbinding LP...",label:"unbind",icon:"mdi mdi-arrange-send-to-back"}}),computed:{loadingId(){return"".concat(this.id,"-loading")},inputPrice(){return this.amount*this.position.depositToken.price},inputMaxAmount(){return this.position.amountFormatted},remainingAmount(){return this.position.amountUSD<this.inputPrice?0:this.position.amountUSD-this.inputPrice},unbindToken0amount(){return this.nftPool.depositToken.getToken0AmountFormatted(this.amount)},unbindToken1amount(){return this.nftPool.depositToken.getToken1AmountFormatted(this.amount)}},watch:{amount(t){this.checkInput(t)}},mounted(){this.nftPool=this.position.nftPool},methods:{async withdraw(){this.steps=[{description:"Withdrawing liquidity...",label:"withdraw",icon:"mdi mdi-tray-arrow-up"}],this.unbindLp&&(this.nftPool.isLPV2&&this.steps.push({description:"Approving unbind...",label:"sign",icon:"mdi mdi-file-sign"}),this.steps.push({description:"Unbinding LP...",label:"unbind",icon:"mdi mdi-arrange-send-to-back"})),this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.successMessage={title:"You've successfully withdrawn ".concat(this.unbindLp?"and unbound":"",'\n            <span class="text-primary text-weight-500">~$').concat(Object(m.b)(this.inputPrice,2,2)," of\n            ").concat(this.nftPool.depositToken.symbol,"</span> liquidity."),subtitleLinks:[{url:"/positions",label:"Positions page"},{url:"/pools/".concat(this.nftPool?this.nftPool.address:""),label:"pool page"}],subtitleMessage:"to check your positions"},this.initLoading(this.id);try{const t=await this.position.withdrawFromPosition(this.amount),o=await this.checkTx(t,!this.unbindLp);this.unbindLp&&!o&&(this.incrementStep(),this.nftPool.isLPV2?await this.unbindV2():this.nftPool.isLPV3&&await this.unbindV3())}catch(t){this.txError("Error while withdrawing liquidity. If the issue persists, please contact our support.")}},async unbindV2(){await Object(c.b)({store:this.$store,$contracts:this.$contracts},[this.nftPool.depositToken]);const t=this.$store.getters["web3-provider/account"];let o,e,n=null;try{if(this.isApproved=await this.nftPool.depositToken.hasAccountApproval(t,this.$contracts.router.address,this.amount),this.isApproved||(e=await this.$contracts.router.permitUnbind(t,this.position.depositToken,this.amount),n=e.signature,e.canSign||await this.nftPool.depositToken.approveMax(this.$contracts.router.address)),!n&&!this.isApproved)return void this.txError("Couldn't get the unbinding approval. Please retry directly from the LPV2 tab in the Positions page.");this.incrementStep(),n?o=await this.$contracts.router.unbindLiquidityWithPermit(this.nftPool.depositToken.token0,this.nftPool.depositToken.token1,this.nftPool.depositToken,this.amount,this.unbindToken0amount,this.unbindToken1amount,t,n):this.isApproved&&(o=await this.$contracts.router.unbindLiquidity(this.nftPool.depositToken.token0,this.nftPool.depositToken.token1,this.nftPool.depositToken,this.amount,this.unbindToken0amount,this.unbindToken1amount,t)),await this.checkTx(o,!0)}catch(t){this.txError("Error while unbinding liquidity. If the issue persists, please contact our support.")}},async unbindV3(){await Object(c.c)({store:this.$store,$contracts:this.$contracts},[this.nftPool.depositToken]);try{const t=await this.nftPool.depositToken.withdraw(this.amount);await this.checkTx(t,!0)}catch(t){this.txError("Error while unbinding liquidity from the vault. If the issue persists, please contact our support.")}},switchUnbindLp(){this.unbindLp=!this.unbindLp},checkInput(t){(!t||Number(t)>0)&&this.position.depositToken.isValidAmount(t)?this.position.depositToken.hasSufficientAmount(t,this.inputMaxAmount)?this.error=null:this.error="not enough balance":this.error="invalid amount input"},reset(){this.unbindLp=!1,this.amount=null}}},f=e(23),component=Object(f.a)(v,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},on:{shown:function(o){return t.reset()}},scopedSlots:t._u([{key:"title",fn:function(){return[t.position?o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}):t._e(),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h2",{staticClass:"mt-2 mb-1"},[o("span",{staticClass:"text-primary"},[t._v("Unwrap")]),t._v("\n        your position\n      ")]),t._v(" "),o("span",{staticClass:"text-large text-secondary"},[t._v("Recover underlying tokens from a spNFT")])])]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:!t.amount||null!==t.error||t.position.isLocked},on:{click:t.withdraw}},[o("span",[t._v("Withdraw")])])]},proxy:!0}])},[t._v(" "),o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Amount")])]),t._v(" "),o("token-input",{attrs:{unit:t.position.depositToken.symbol,label:"total deposit","max-amount":t.inputMaxAmount,"display-bottom-infos":""},model:{value:t.amount,callback:function(o){t.amount=o},expression:"amount"}}),t._v(" "),!t.error&&t.amount>0?o("div",[o("h4",{staticClass:"mt-4 mb-3 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Estimates")])]),t._v(" "),o("div",{staticClass:"px-2"},[o("data-row",{staticClass:"mt-3",scopedSlots:t._u([{key:"label",fn:function(){return[o("span",{staticClass:"text-white"},[t._v("Withdrawal amount")])]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.inputPrice,digits:2,prefix:"$"}})]},proxy:!0}],null,!1,2727856663)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[o("span",{staticClass:"text-white"},[t._v("Remaining amount")])]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.position.amountUSD-t.inputPrice,digits:2,prefix:"$"}})]},proxy:!0}],null,!1,3911029488)})],1)]):t._e(),t._v(" "),t.error?o("b-alert",{staticClass:"mt-4 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1699:function(t,o,e){"use strict";e.r(o);var n=e(1535),r=e(1166),l=e(1536),c=e(1140),d=e(1185),m=e(1251),h={components:{PositionActions:n.default,PositionAmount:r.default,PositionApr:l.default,PositionId:c.default,PositionRewards:d.default,PositionSettings:m.default},props:{displayApr:{type:Boolean,default:!1},displayRewards:{type:Boolean,default:!1},isAccordion:{type:Boolean,default:!0},position:{type:Object,required:!0}},data:()=>({isOpen:!1}),computed:{compatibleNitros:()=>[]},methods:{setOpen(){this.isAccordion&&(this.isOpen=!this.isOpen)}}},v=e(23),component=Object(v.a)(h,(function(){var t=this,o=t._self._c;return o("div",{staticClass:"d-block d-md-table-row-group",on:{click:function(o){return t.$emit("click",t.position.spNftId,!0)}}},[o("tr",{staticClass:"d-none d-md-table-row clickable position-relative"},[o("td",[o("PositionId",{attrs:{position:t.position}})],1),t._v(" "),o("td",[o("PositionAmount",{attrs:{position:t.position,"usd-only":""}})],1),t._v(" "),t.displayApr?o("td",[o("PositionApr",{attrs:{position:t.position}})],1):t._e(),t._v(" "),o("td",[o("PositionSettings",{attrs:{position:t.position}})],1),t._v(" "),t.displayRewards?o("td",{staticClass:"action-td-hide"},[o("div",{staticClass:"d-flex align-items-center justify-content-between hover-hide"},[o("PositionRewards",{attrs:{position:t.position}}),t._v(" "),o("i",{staticClass:"mdi mdi-dots-vertical font-size-20 text-secondary"})],1)]):t._e(),t._v(" "),t._t("default"),t._v(" "),o("td",{staticClass:"hover-show position-absolute",staticStyle:{top:"1px",right:"0"}},[o("PositionActions",{attrs:{position:t.position},on:{click:function(o){return t.$emit("click",t.position.spNftId)}}})],1)],2),t._v(" "),o("div",{staticClass:"d-md-none bg-darker border-lighter rounded-lg p-2 my-3"},[o("a",{staticClass:"data-table-link",attrs:{href:""},on:{click:function(o){return o.preventDefault(),t.$bvModal.show("details-position-modal")}}},[o("div",{staticClass:"d-block d-sm-flex align-items-center justify-content-sm-between my-1 mb-sm-3 px-2"},[o("div",{staticClass:"d-flex align-items-center justify-content-center"},[o("PositionId",{attrs:{position:t.position}})],1),t._v(" "),o("div",{staticClass:"d-flex d-sm-block align-items-center justify-content-between"},[o("PositionSettings",{staticClass:"justify-content-end mb-1",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-end my-2 my-sm-0"},[o("div",{staticClass:"d-none d-sm-block text-secondary mr-2 text-small"},[t._v("APR")]),t._v(" "),o("PositionApr",{attrs:{position:t.position,"hide-tooltip":""}})],1)],1)]),t._v(" "),o("div",{staticClass:"bg-dark rounded-lg p-2"},[o("b-row",[o("b-col",{staticClass:"text-center",attrs:{cols:"4"}},[o("PositionAmount",{attrs:{position:t.position}}),t._v(" "),o("span",{staticClass:"text-secondary text-small"},[t._v("Deposit")])],1),t._v(" "),o("b-col",{staticClass:"text-center",attrs:{cols:"4"}},[o("PositionRewards",{attrs:{position:t.position}}),t._v(" "),o("span",{staticClass:"text-secondary text-small"},[t._v("Pending")])],1)],1)],1)])])])}),[],!1,null,null,null);o.default=component.exports},1703:function(t,o,e){"use strict";e.r(o);var n=e(1147),r=e.n(n),l=e(1537),c=e(417),d=e(1128),m=e(103),h=e(1140),v=e(416),f=e(1130),_={components:{TokenImg:v.default,SpNftId:h.default,SelectableList:l.default,Modal:m.default,Countdown:r.a,AnimatedNumber:c.default,DataRow:d.default},mixins:[f.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({selectedPositions:[],stepMerge:{description:"Merging positions...",label:"transfer",icon:"mdi mdi-set-merge"}}),computed:{resultantPositionSettings(){const t=new Date;let o=0,e=0,n=0,r=0,l=0,c=!1;this.selectedPositions.forEach((t=>{const d=this.position.nftPool.accountSpNfts.find((o=>o.id===t));d&&(d.lockDuration>n&&(n=d.lockDuration),d.startLockTime>r&&(r=d.startLockTime),d.lockBonusFormatted>l&&(l=d.lockBonusFormatted),d.isBoosted&&(c=!0),o+=Number(d.amountFormatted),e+=d.amountUSD)}));const d=1e3*(r+n);return{remainingLockDuration:d>t?d-t:0,lockBonus:l,lockDuration:n,amount:o,amountUSD:e,isBoosted:c}}},methods:{async merge(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[this.stepMerge],this.successMessage={title:'You\'ve successfully merged your <span class="text-primary">'.concat(this.selectedPositions.length,"</span>\n            ").concat(this.position.depositToken.symbol," positions")},this.initLoading(this.id);try{const t=await this.position.nftPool.mergePositions(this.selectedPositions,this.resultantPositionSettings.lockDuration);await this.checkTx(t,!0)}catch(t){this.txError("Error while merging your positions. If the issue persists, please contact our support.")}},onSelectedPositionsChange(t){this.selectedPositions=t},reset(){this.selectedPositions=[]}}},y=e(23),component=Object(y.a)(_,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},on:{shown:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",[o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h3",{staticClass:"mt-2 mb-1 text-center"},[o("span",{staticClass:"text-primary"},[t._v("Merge")]),t._v("\n          multiple positions\n        ")]),t._v(" "),o("div",{staticClass:"text-large text-secondary text-center"},[t._v("Regroup spNFTs into a single one")])])],1)]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.selectedPositions.length<2},on:{click:t.merge}},[t._v("\n      Merge\n    ")])]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"mt-2"},[o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Select positions")])]),t._v(" "),o("selectable-list",{attrs:{positions:t.position.nftPool.accountSpNfts,symbol:t.position.depositToken.symbol,"default-position":t.position},on:{onSelectedPositionsChange:t.onSelectedPositionsChange}})],1),t._v(" "),t.selectedPositions.length>1?o("div",{staticClass:"mt-4"},[o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Projected merged position")])]),t._v(" "),o("div",{staticClass:"px-2"},[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("USD value")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{staticClass:"text-primary",attrs:{value:t.resultantPositionSettings.amountUSD,digits:2,prefix:"$"}})]},proxy:!0}],null,!1,3597058238)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.position.depositToken.symbol))]},proxy:!0},{key:"value",fn:function(){return[o("div",{staticClass:"d-flex align-items-center"},[o("animated-number",{attrs:{value:t.resultantPositionSettings.amount,digits:2}}),t._v(" "),o("token-img",{staticClass:"ml-2",attrs:{token:t.position.depositToken,size:"xs"}})],1)]},proxy:!0}],null,!1,99778166)}),t._v(" "),t.resultantPositionSettings.remainingLockDuration>0?o("div",[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Remaining lock time")]},proxy:!0},{key:"value",fn:function(){return[o("countdown",{attrs:{time:t.resultantPositionSettings.remainingLockDuration},scopedSlots:t._u([{key:"default",fn:function(e){return[e.days>0?o("span",[t._v(t._s(e.days)+"D")]):t._e(),t._v(" "),e.hours>0?o("span",[t._v(t._s(e.hours)+"h")]):t._e(),t._v(" "),e.minutes>0?o("span",[t._v(t._s(e.minutes)+"min")]):t._e(),t._v("\n                "+t._s(e.seconds)+"s\n              ")]}}],null,!1,1402348359)})]},proxy:!0}],null,!1,4179308703)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Lock bonus")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.resultantPositionSettings.lockBonus,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,1889711491)})],1):t._e()],1),t._v(" "),t.resultantPositionSettings.isBoosted?o("b-alert",{staticClass:"mt-4 mb-0 px-3 py-2 border-primary rounded",attrs:{show:"",variant:"warning"}},[o("i",{staticClass:"mdi mdi-alert-circle-outline mr-1 text-primary"}),t._v("\n      Some of the selected positions are boosted. Merging will automatically unboost them, and\n      consequently send you back your allocated\n      "+t._s(t.XGRAIL_SYMBOL_GLOBAL)+" for those positions.\n    ")]):t._e()],1):t._e()])}),[],!1,null,null,null);o.default=component.exports},1704:function(t,o,e){"use strict";e.r(o);var n=e(103),input=e(1131),r=e(1140),l=e(1130),c={components:{SpNftId:r.default,Modal:n.default,TokenInput:input.default},mixins:[l.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({amount:null,error:null,stepSplit:{description:"Splitting position...",label:"transfer",icon:"mdi mdi-set-split"}}),computed:{inputMaxAmount(){return this.position.depositToken.getFormattedAmountFromFull(this.position.amount.sub(1))},projectedRemainingAmount(){return this.amount?this.position.depositToken.getFormattedAmountFromFull(this.position.amount.sub(this.position.depositToken.getFullAmountFromFormatted(this.amount))):0}},watch:{amount(t){this.checkInput(t)}},methods:{async split(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[this.stepSplit],this.successMessage={title:"You've successfully split your ".concat(this.position.depositToken.symbol,' position\n                <span class="text-primary">#').concat(this.position.id,"</span>")},this.initLoading(this.id);try{const t=await this.position.splitPosition(this.amount);await this.checkTx(t,!0)}catch(t){this.txError("Error while splitting your position. If the issue persists, please contact our support.")}},checkInput(t){(!t||Number(t)>0)&&this.position.depositToken.isValidAmount(t)?this.position.depositToken.hasSufficientAmount(t,this.inputMaxAmount)?this.error=null:this.error="not enough balance":this.error="invalid amount input"},reset(){this.amount=null,this.error=null}}},d=e(23),component=Object(d.a)(c,(function(){var t=this,o=t._self._c;return o("Modal",{attrs:{id:t.id},on:{show:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",[o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h3",{staticClass:"mt-2 mb-1 text-center"},[o("span",{staticClass:"text-primary"},[t._v("Split")]),t._v("\n          your position\n        ")]),t._v(" "),o("div",{staticClass:"text-large text-secondary text-center"},[t._v("\n          Break your spNFT in two smaller positions\n        ")])])],1)]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:!t.amount||null!==t.error},on:{click:t.split}},[t._v("\n      Split\n    ")])]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"mt-2"},[o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Amount to split")])]),t._v(" "),o("token-input",{attrs:{unit:t.position.depositToken.symbol,label:"splittable amount","max-amount":t.inputMaxAmount,"display-bottom-infos":""},model:{value:t.amount,callback:function(o){t.amount=o},expression:"amount"}})],1),t._v(" "),t.error?o("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):!t.error&&t.amount?o("div",{staticClass:"mt-3 mb-0"},[o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Projected result")])]),t._v(" "),o("div",{staticClass:"d-flex flex-row align-items-center justify-content-around"},[o("div",{staticClass:"flex-grow-1"},[o("div",{staticClass:"d-flex justify-content-center bg-darker border-lighter border-width-3 rounded-lg p-3"},[o("div",{staticClass:"text-center"},[o("div",{staticClass:"text-weight-500"},[t._v("$"+t._s(t.getLocaleString(t.position.amountUSD,2,2)))]),t._v(" "),o("div",{staticClass:"text-small text-secondary"},[t._v("\n              "+t._s(t.getLocaleString(t.position.amountFormatted,2))+"\n            ")])])])]),t._v(" "),o("div",{staticClass:"text-center text-primary px-3"},[o("i",{staticClass:"mdi mdi-arrow-right font-size-16"}),t._v(" "),o("br"),t._v(" "),o("span",{staticClass:"text-small text-uppercase text-weight-500"},[t._v("Split")])]),t._v(" "),o("div",{staticClass:"flex-grow-1"},[o("div",{staticClass:"d-flex justify-content-center bg-darker border-lighter border-width-3 rounded-lg p-3"},[o("div",{staticClass:"text-center"},[o("div",{staticClass:"text-weight-500"},[t._v("\n              $"+t._s(t.getLocaleString(t.projectedRemainingAmount*t.position.depositToken.price,2,2))+"\n            ")]),t._v(" "),o("div",{staticClass:"text-small text-secondary"},[t._v("\n              "+t._s(t.getLocaleString(t.projectedRemainingAmount,2))+"\n            ")])])]),t._v(" "),o("div",{staticClass:"d-flex justify-content-center bg-darker border-lighter border-width-3 rounded-lg p-3 mt-1"},[o("div",{staticClass:"text-center"},[o("div",{staticClass:"text-weight-500"},[t._v("\n              $"+t._s(t.getLocaleString(t.amount*t.position.depositToken.price,2,2))+"\n            ")]),t._v(" "),o("div",{staticClass:"text-small text-secondary"},[t._v("\n              "+t._s(t.getLocaleString(t.amount,2))+"\n            ")])])])])])]):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1705:function(t,o,e){"use strict";e.r(o);var n=e(13),r=e(103),l=e(1140),c=e(1130),d={components:{SpNftId:l.default,Modal:r.default},mixins:[c.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({destinationAddress:null,error:null}),watch:{destinationAddress(t){if(t)try{const o=Object(n.getAddress)(t);o!==this.destinationAddress&&(this.destinationAddress=o),this.error=null}catch(t){this.error="invalid address"}else this.error=null}},methods:{async transfer(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[{description:"Transferring position...",label:"transfer",icon:"mdi mdi-transfer"}],this.successMessage={title:"You've successfully transferred your ".concat(this.position.depositToken.symbol,' position\n            <span class="text-primary">#').concat(this.position.id,'</span> to <span class="text-weight-400">').concat(this.destinationAddress,"</span>")},this.initLoading(this.id);try{const t=await this.position.transferPosition(this.destinationAddress);await this.checkTx(t,!0)}catch(t){this.txError("Error while transferring your position. If the issue persists, please contact our support.")}},reset(){this.destinationAddress=null}}},m=e(23),component=Object(m.a)(d,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},on:{shown:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",[o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h3",{staticClass:"mt-2 mb-1 text-center"},[o("span",{staticClass:"text-primary"},[t._v("Transfer")]),t._v("\n          your position\n        ")]),t._v(" "),o("div",{staticClass:"text-large text-secondary text-center"},[t._v("Send your spNFT to a new address")])])],1)]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:!t.destinationAddress||null!==t.error},on:{click:t.transfer}},[t._v("\n      Transfer\n    ")])]},proxy:!0}])},[t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.destinationAddress,expression:"destinationAddress"}],staticClass:"form-control token-input px-2",attrs:{placeholder:"0x..."},domProps:{value:t.destinationAddress},on:{input:function(o){o.target.composing||(t.destinationAddress=o.target.value)}}}),t._v(" "),t.error?o("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1706:function(t,o,e){"use strict";e.r(o);var n=e(417),r=e(1128),l=e(103),input=e(1131),c=e(1129),d=e(1140),m=e(1133),h=e(1130),v={components:{Accordion:m.default,SpNftId:d.default,Processing:c.default,AnimatedNumber:n.default,DataRow:r.default,Modal:l.default,TokenInput:input.default},mixins:[h.a],props:{id:{type:String,required:!0},initBoost:{type:Boolean,default:!0},fixedAmount:{type:String,default:null},position:{type:Object,default:null}},data:()=>({amount:null,boost:!0,error:null,isApproved:!1,loading:!1,invalidInputMsg:"invalid amount input"}),computed:{actionString(){return this.boost?"Boost":"Unboost"},availableXGrailBalance(){return this.$contracts.xGrailToken.accountBalance},deallocationFee(){return this.boost?0:Number(this.amount)*this.$contracts.yieldBooster.deallocationFeePercent/100},newAllocation(){if(this.error===this.invalidInputMsg)return"0";const t=this.$contracts.xGrailToken.getFullAmountFromFormatted(this.position.accountBoostPointsFormatted),o=this.$contracts.xGrailToken.getFullAmountFromFormatted(this.amount),e=this.boost?t.add(o):t.sub(o);return this.$contracts.xGrailToken.getFormattedAmountFromFull(e)},inputMaxAmount(){return this.boost?this.$contracts.xGrailToken.accountBalanceFormatted:this.position.accountBoostPointsFormatted},allocationPoolShare(){if(this.error===this.invalidInputMsg)return"0";let t=this.amount;this.amount||(t="0");const o=this.boost?t:"0",e=this.boost?"0":t;return this.position.nftPool.getAllocationShareFromAllocationAmount(this.newAllocation,o,e)},bonusValue(){if(this.error===this.invalidInputMsg)return"0";const t=this.boost?this.$contracts.xGrailToken.getFullAmountFromFormatted(this.amount):0,o=this.boost?0:this.$contracts.xGrailToken.getFullAmountFromFormatted(this.amount);return this.position.nftPool.getExpectedBoostMultiplierByBoostPoints(this.$contracts.xGrailToken.getFullAmountFromFormatted(this.newAllocation),t,o,this.position.amount)},multiplier(){return 1+this.bonusValue/100},newBonusApr(){return this.position.baseAprFormatted*(this.multiplier+this.position.lockBonusMultiplier-1)-this.position.baseAprFormatted},newTotalApr(){return this.position.baseAprFormatted+this.position.nitroAprFormatted+this.feesApr+this.newBonusApr},feesApr(){return this.position.depositToken.feesApr?this.position.depositToken.feesApr:0}},watch:{amount(t){this.syncApproval(),this.checkInput(t)},initBoost(){this.boost=this.initBoost},"$contracts.dividends.accountApproval"(){this.syncApproval()}},mounted(){this.boost=this.initBoost},methods:{async setBoost(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[{description:"".concat(this.boost?"Boosting":"Unboosting"," position..."),label:"boost",icon:"mdi mdi-rocket-launch-outline"}],this.successMessage={title:"You've successfully ".concat(this.boost?"allocated":"deallocated",' <span class="text-primary">').concat(this.amount," ").concat(this.XGRAIL_SYMBOL_GLOBAL,"</span>\n            ").concat(this.boost?"to":"from"," your ").concat(this.position.depositToken.symbol," position.")},this.initLoading(this.id);try{const t=this.boost?await this.$contracts.yieldBooster.allocate(this.position,this.amount):await this.$contracts.yieldBooster.deallocate(this.position,this.amount);if(!t)return void this.txError("Transaction rejected.");const o=await t.wait();if(!o.status||Number(1!==o.status))return void this.txError("Transaction rejected.");this.$store.commit("loading-modal/PUSH_PASSED_TX",t),this.txSuccess()}catch(t){this.txError("Error while transferring your position. If the issue persists, please contact our support.")}},getMaxBonus(){this.amount=this.position.nftPool.getBoostPointToAddToGetMaxBoost(this.position.amount,this.position.boostPoints)},async approve(){this.loading=!0,this.loading=await this.$contracts.yieldBooster.approveMax()},async syncApproval(){this.isApproved=await this.$contracts.yieldBooster.hasApproved(this.amount),this.loading&&!1===this.isApproved&&(this.loading=!this.isApproved)},checkInput(t){(!t||Number(t)>0)&&this.$contracts.xGrailToken.isValidAmount(t)?this.$contracts.xGrailToken.hasSufficientAmount(t,this.inputMaxAmount)?this.error=null:this.error="not enough balance":this.error="invalid amount input"},reset(){this.boost=this.initBoost,this.error=null,this.amount=this.fixedAmount}}},f=e(23),component=Object(f.a)(v,(function(){var t=this,o=t._self._c;return o("Modal",{attrs:{id:t.id},on:{shown:t.reset},scopedSlots:t._u([{key:"title",fn:function(){return[t.position?o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}):t._e(),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h2",{staticClass:"mt-2 mb-1"},[o("span",{staticClass:"text-primary"},[t._v(t._s(t.actionString))]),t._v("\n        your position\n      ")]),t._v(" "),t.boost?o("span",{staticClass:"text-large text-secondary"},[t._v("\n        Allocate "+t._s(t.XGRAIL_SYMBOL_GLOBAL)+" to your spNFT for more yield\n      ")]):o("span",{staticClass:"text-large text-secondary"},[t._v("\n        Deallocate "+t._s(t.XGRAIL_SYMBOL_GLOBAL)+" boost from your spNFT\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[!t.isApproved&&t.boost?o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||null!==t.error},on:{click:t.approve}},[t.loading?o("Processing"):o("span",[t._v("Approve")])],1):o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:!t.amount||Number(t.amount)<=0||null!==t.error},on:{click:t.setBoost}},[t._v("\n      "+t._s(t.actionString)+"\n    ")])]},proxy:!0}])},[t._v(" "),o("div",{staticClass:"d-flex align-items-center justify-content-evenly w-100 mx-auto",staticStyle:{"max-width":"100%"}},[o("b-button",{staticClass:"btn-tab-left w-100",class:{active:t.boost},attrs:{variant:"tab"},on:{click:function(o){t.boost=!0}}},[t._v("\n      Boost\n    ")]),t._v(" "),o("b-button",{staticClass:"btn-tab-right w-100",class:{active:!t.boost},attrs:{variant:"tab",disabled:!t.position.isBoosted},on:{click:function(o){t.boost=!1}}},[t._v("\n      Unboost\n    ")])],1),t._v(" "),o("div",{staticClass:"mt-4"},[o("h4",{staticClass:"d-flex align-items-center justify-content-between mb-2 text-weight-400 bg-dark rounded-sm pl-2",class:{"py-1 pr-1":t.boost,"p-2":!t.boost}},[o("span",[t._v("Amount")]),t._v(" "),t.boost&&null===t.fixedAmount&&t.position.boostBonusFormatted<100?o("b-button",{staticClass:"btn-sm text-primary",attrs:{variant:"link"},on:{click:function(o){return o.preventDefault(),t.getMaxBonus.apply(null,arguments)}}},[t._v("\n        Get max bonus\n      ")]):t._e()],1),t._v(" "),o("token-input",{attrs:{unit:t.$contracts.xGrailToken.symbol,label:t.boost?"".concat(t.XGRAIL_SYMBOL_GLOBAL," balance"):"allocated ".concat(t.XGRAIL_SYMBOL_GLOBAL),"max-amount":t.inputMaxAmount,"display-bottom-infos":null===t.fixedAmount,disabled:null!==t.fixedAmount},model:{value:t.amount,callback:function(o){t.amount=o},expression:"amount"}})],1),t._v(" "),null!==t.amount&&t.amount>0?o("div",{staticClass:"mt-3"},[o("h4",{staticClass:"d-flex align-items-center justify-content-between mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Estimates")])]),t._v(" "),o("div",{staticClass:"px-2"},[o("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Boost multiplier"},scopedSlots:t._u([{key:"value",fn:function(){return[o("span",{directives:[{name:"show",rawName:"v-show",value:t.position.boostBonusMultiplier!==t.multiplier,expression:"position.boostBonusMultiplier !== multiplier"}],staticClass:"text-secondary"},[t._v("\n            x"+t._s(t.getLocaleString(t.position.boostBonusMultiplier,2,2))+"\n          ")]),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.position.boostBonusMultiplier!==t.multiplier,expression:"position.boostBonusMultiplier !== multiplier"}],staticClass:"mdi mdi-arrow-right text-secondary"}),t._v(" "),o("animated-number",{attrs:{value:t.multiplier,digits:2,prefix:"x"}})]},proxy:!0}],null,!1,1607063485)},[t._v(" "),o("div",{staticClass:"py-1 px-2 bg-darker rounded"},[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Boost allocation")]},proxy:!0},{key:"value",fn:function(){return[o("span",{staticClass:"text-secondary"},[t._v("\n                "+t._s(t.getLocaleString(t.position.accountBoostPointsFormatted,3))+"\n              ")]),t._v(" "),o("i",{staticClass:"mdi mdi-arrow-right text-secondary"}),t._v(" "),o("animated-number",{attrs:{value:t.newAllocation,digits:3,suffix:" ".concat(t.XGRAIL_SYMBOL_GLOBAL)}})]},proxy:!0}],null,!1,821006436)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Position pool share")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.position.poolShare,suffix:"%"}})]},proxy:!0}],null,!1,2503196045)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Pool boost share")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.allocationPoolShare,suffix:"%"}})]},proxy:!0}],null,!1,823376374)})],1)]),t._v(" "),o("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"APR"},scopedSlots:t._u([{key:"value",fn:function(){return[o("span",{directives:[{name:"show",rawName:"v-show",value:t.position.totalAprFormatted!==t.newTotalApr,expression:"position.totalAprFormatted !== newTotalApr"}],staticClass:"text-secondary"},[t._v("\n            "+t._s(t.getLocaleString(t.position.totalAprFormatted,2,2))+"%\n          ")]),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.position.totalAprFormatted!==t.newTotalApr,expression:"position.totalAprFormatted !== newTotalApr"}],staticClass:"mdi mdi-arrow-right text-secondary"}),t._v(" "),o("animated-number",{staticClass:"text-primary",attrs:{value:t.newTotalApr,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,3461432012)},[t._v(" "),o("div",{staticClass:"py-1 px-2 bg-darker rounded"},[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Farm base APR")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.position.baseAprFormatted,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,1315559194)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Bonus APR")]},proxy:!0},{key:"value",fn:function(){return[o("span",{directives:[{name:"show",rawName:"v-show",value:t.position.bonusAprFormatted!==t.newBonusApr,expression:"position.bonusAprFormatted !== newBonusApr"}],staticClass:"text-secondary"},[t._v("\n                "+t._s(t.getLocaleString(t.position.bonusAprFormatted,2,2))+"%\n              ")]),t._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:t.position.bonusAprFormatted!==t.newBonusApr,expression:"position.bonusAprFormatted !== newBonusApr"}],staticClass:"mdi mdi-arrow-right text-secondary"}),t._v(" "),o("animated-number",{staticClass:"text-primary",attrs:{value:t.newBonusApr,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,3443600824)}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Swap fees APR")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.feesApr,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,580257430)}),t._v(" "),t.position.nitroAprFormatted>0?o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Nitro APR")]},proxy:!0},{key:"value",fn:function(){return[o("animated-number",{attrs:{value:t.position.nitroAprFormatted,digits:2,suffix:"%"}})]},proxy:!0}],null,!1,74746338)}):t._e()],1)]),t._v(" "),t.boost?t._e():o("data-row",{staticClass:"mt-2",scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Deallocation fee")]},proxy:!0},{key:"value",fn:function(){return[t._v("\n          "+t._s(t.getLocaleString(t.deallocationFee,4))+"\n          "),o("span",{staticClass:"text-small"},[t._v(t._s(t.XGRAIL_SYMBOL_GLOBAL))])]},proxy:!0}],null,!1,2720664740)})],1)]):t._e(),t._v(" "),t.error?o("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1707:function(t,o,e){"use strict";e.r(o);var n=e(103),r=e(1145),l=e(1200),c=e(1140),d=e(1130),m={components:{SpNftId:c.default,LockDuration:r.default,Modal:n.default,Estimates:l.default},mixins:[d.a],props:{id:{type:String,required:!0},position:{type:Object,default:null}},data:()=>({loading:!1,lockDuration:0,error:null}),watch:{lockDuration(t){t<this.position.lockedRemainingDays?this.error="the new lock duration can't be lower than the active remaining lock duration\n          (".concat(this.position.lockedRemainingDays," ").concat(this.position.lockedRemainingDays>1?"days":"day",")."):this.error=null}},methods:{async lock(){this.steps=[{description:"Locking position...",label:"lock",icon:"mdi mdi-lock-outline"}],this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.successMessage={title:'You\'ve successfully locked for <span class="text-primary">'.concat(this.lockDuration," days</span> your\n            ").concat(this.position.depositToken.symbol," position.")},this.initLoading(this.id);try{const t=await this.position.lockPosition(this.lockDuration);await this.checkTx(t,!0)}catch(t){this.txError("Error while locking your position. If the issue persists, please contact our support.")}}}},h=e(23),component=Object(h.a)(m,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[t.position?o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}):t._e(),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h2",{staticClass:"mt-2 mb-1"},[t.position.isLocked?o("span",[o("span",{staticClass:"text-primary"},[t._v("Renew")]),t._v("\n          the lock of your position\n        ")]):o("span",[o("span",{staticClass:"text-primary"},[t._v("Lock")]),t._v("\n          your position\n        ")])]),t._v(" "),o("span",{staticClass:"text-large text-secondary"},[t._v("\n        Provide long-term liquidity to increase your yield\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:null!==t.error},on:{click:t.lock}},[t._v("\n      Lock\n    ")])]},proxy:!0}])},[t._v(" "),o("div",[o("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Settings")])]),t._v(" "),o("lock-duration",{attrs:{"nft-pool":t.position.nftPool,min:t.position.lockedRemainingDays,max:t.position.nftPool.maxLockDurationDays},model:{value:t.lockDuration,callback:function(o){t.lockDuration=o},expression:"lockDuration"}})],1),t._v(" "),t.error?o("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t.lockDuration?o("div",{staticClass:"mt-4"},[o("h4",{staticClass:"mb-3 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Estimates")])]),t._v(" "),o("estimates",{staticClass:"px-2",attrs:{"nft-pool":t.position.nftPool,"amount-value":t.position.amountUSD,"lock-duration":t.lockDuration,position:t.position,"nitro-pool-factory":t.$contracts.nitroPoolFactory}})],1):t._e()],1)}),[],!1,null,null,null);o.default=component.exports},1708:function(t,o,e){"use strict";e.r(o);var n=e(103),r=e(1140),l=e(1128),c=e(416),d=e(17),m=e(1130),h={components:{TokenImg:c.default,DataRow:l.default,SpNftId:r.default,Modal:n.default},mixins:[m.a],props:{id:{type:String,required:!0},position:{type:Object,required:!0}},data:()=>({harvestAll:!1}),computed:{canHarvest(){return this.position.pendingRewardsUSD>0},canHarvestAll(){return this.totalPendingRewardsUSD>0},totalPendingRewardsUSD(){return this.position.isStacked?this.position.pendingRewardsUSD+this.position.stackedOn.accountTotalPendingRewardsUSD:this.position.pendingRewardsUSD}},methods:{async harvest(){const t={description:"Harvesting position...",label:"spNFT",icon:"iexc-coin2"};this.steps=this.harvestAll?[t,{description:"Harvesting Nitro pool...",label:"nitro",icon:"mdi mdi-fire"}]:[t],this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.successMessage={title:'You\'ve successfully harvested <span class="text-primary text-weight-500">\n            ~$'.concat(Object(d.b)(this.totalPendingRewardsUSD,2,2)," rewards.")},this.initLoading(this.id);try{const t=await this.position.harvestPosition(),o=await this.checkTx(t,!this.harvestAll);if(this.harvestAll&&!o){this.incrementStep();const t=await this.position.stackedOn.harvest();if(!t)return void this.txError("Transaction rejected.");const o=await t.wait();if(!o.status||Number(1!==o.status))return void this.txError("Transaction rejected.");this.$store.commit("loading-modal/PUSH_PASSED_TX",t),this.txSuccess()}}catch(t){this.txError("Error while harvesting your position. If the issue persists, please contact our support.")}}}},v=e(23),component=Object(v.a)(h,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[t.position?o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}):t._e(),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h2",{staticClass:"mt-2 mb-1"},[o("span",{staticClass:"text-primary"},[t._v("Harvest")]),t._v("\n        your position\n      ")]),t._v(" "),o("span",{staticClass:"text-large text-secondary"},[t._v("Collect your farming & Nitro rewards")])])]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.harvestAll&&!t.canHarvestAll||!t.harvestAll&&!t.canHarvest},on:{click:t.harvest}},[t._v("\n      Harvest\n    ")])]},proxy:!0}])},[t._v(" "),o("div",[o("div",{staticClass:"d-flex align-items-center justify-content-between bg-dark border-lighter2 rounded-lg p-3",class:{"border-primary":t.harvestAll,"cursor-pointer hover-border-primary":t.position.isStacked,"opacity-50":!t.position.isStacked},on:{click:function(o){t.harvestAll=t.position.isStacked}}},[o("div",[o("h4",{staticClass:"mb-0"},[t._v("All Rewards")]),t._v(" "),o("span",{staticClass:"text-secondary"},[t._v("Harvest farming and Nitro rewards")])]),t._v(" "),t.position.isStacked?o("h4",{staticClass:"mb-0 text-primary"},[t._v("\n        $"+t._s(t.getLocaleString(t.totalPendingRewardsUSD,2,2))+"\n      ")]):t._e()]),t._v(" "),o("div",{staticClass:"d-flex align-items-center justify-content-between bg-dark border-lighter2 rounded-lg p-3 mt-2 cursor-pointer hover-border-primary",class:{"border-primary":!t.harvestAll},on:{click:function(o){t.harvestAll=!1}}},[o("div",[o("h4",{staticClass:"mb-0"},[t._v("spNFT Rewards")]),t._v(" "),o("span",{staticClass:"text-secondary"},[t._v("Harvest farming rewards only")])]),t._v(" "),o("h4",{staticClass:"mb-0 text-primary"},[t._v("$"+t._s(t.getLocaleString(t.position.pendingRewardsUSD,2,2)))])])]),t._v(" "),o("div",{staticClass:"mt-4"},[o("h4",{staticClass:"mb-3 text-weight-400 bg-dark rounded-sm p-2"},[o("span",[t._v("Rewards breakdown")])]),t._v(" "),o("div",{staticClass:"px-2"},[o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          "+t._s(t.GRAIL_SYMBOL_GLOBAL)+"\n          "),o("span",{staticClass:"text-secondary text-small ml-1"},[t._v("farm")])]},proxy:!0},{key:"value",fn:function(){return[o("span",{staticClass:"d-flex align-items-center"},[o("span",[o("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                ($"+t._s(t.getLocaleString(t.position.pendingGRAILUSD,2,2))+")\n              ")]),t._v("\n              "+t._s(t.getLocaleString(t.position.pendingGRAILFormatted))+"\n            ")]),t._v(" "),o("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.grailToken,size:"xs"}})],1)]},proxy:!0}])}),t._v(" "),o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          "+t._s(t.XGRAIL_SYMBOL_GLOBAL)+"\n          "),o("span",{staticClass:"text-secondary text-small ml-1"},[t._v("farm")])]},proxy:!0},{key:"value",fn:function(){return[o("span",{staticClass:"d-flex align-items-center"},[o("span",[o("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                ($"+t._s(t.getLocaleString(t.position.pendingXGRAILUSD,2,2))+")\n              ")]),t._v("\n              "+t._s(t.getLocaleString(t.position.pendingXGRAILFormatted))+"\n            ")]),t._v(" "),o("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.xGrailToken,size:"xs"}})],1)]},proxy:!0}])}),t._v(" "),t.harvestAll&&t.position.isStacked?o("div",[t.position.stackedOn.rewardToken?o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n            "+t._s(t.position.stackedOn.rewardToken.symbol)+"\n            "),o("span",{staticClass:"text-secondary text-small ml-1"},[t._v("nitro")])]},proxy:!0},{key:"value",fn:function(){return[o("span",{staticClass:"d-flex align-items-center"},[o("span",[o("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                  ($"+t._s(t.getLocaleString(t.position.stackedOn.accountPendingRewardsUSD,2,2))+")\n                ")]),t._v("\n                "+t._s(t.getLocaleString(t.position.stackedOn.accountPendingRewardsFormatted))+"\n              ")]),t._v(" "),o("token-img",{staticClass:"ml-2",attrs:{token:t.position.stackedOn.rewardToken,size:"xs"}})],1)]},proxy:!0}],null,!1,1686487956)}):t._e(),t._v(" "),t.position.stackedOn.rewardToken2?o("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n            "+t._s(t.position.stackedOn.rewardToken2.symbol)+"\n            "),o("span",{staticClass:"text-secondary text-small ml-1"},[t._v("nitro")])]},proxy:!0},{key:"value",fn:function(){return[o("span",{staticClass:"d-flex align-items-center"},[o("span",[o("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                  ($"+t._s(t.getLocaleString(t.position.stackedOn.accountPendingRewards2USD,2,2))+")\n                ")]),t._v("\n                "+t._s(t.getLocaleString(t.position.stackedOn.accountPendingRewards2Formatted))+"\n              ")]),t._v(" "),o("token-img",{staticClass:"ml-2",attrs:{token:t.position.stackedOn.rewardToken2,size:"xs"}})],1)]},proxy:!0}],null,!1,2181939636)}):t._e()],1):t._e()],1)])])}),[],!1,null,null,null);o.default=component.exports},1709:function(t,o,e){"use strict";e.r(o);var n=e(103),r=e(1173),l=e(1140),c=e(1130),d={components:{SpNftId:l.default,Modal:n.default,NitroPoolWidget:r.default},mixins:[c.a],props:{id:{type:String,required:!0},nitros:{type:Array,default:()=>[]},position:{type:Object,required:!0}},data:()=>({selectedNitro:null}),methods:{select(t){this.selectedNitro=t},async stake(){this.header={title:this.position.depositToken.symbol,token:this.position.depositToken,version:this.position.version},this.steps=[{description:"Staking position in a Nitro pool...",label:"nitro",icon:"mdi mdi-fire"}],this.successMessage={title:"You've successfully staked your ".concat(this.position.depositToken.symbol," position in a Nitro pool.")},this.initLoading(this.id);try{if(!this.selectedNitro.isPositionCompatible(this.position))return void this.txError("Your newly created isn't compatible with the Nitro pool requirements. Please adjust your position properties and try again.");const t=await this.position.transferPosition(this.selectedNitro.address);await this.checkTx(t,!0)}catch(t){this.txError("Error while depositing in a Nitro pool. If the issue persists, please contact our support.")}},reset(){this.selectedNitro=null}}},m=e(23),component=Object(m.a)(d,(function(){var t=this,o=t._self._c;return o("modal",{attrs:{id:t.id},on:{shown:function(o){return t.reset()}},scopedSlots:t._u([{key:"title",fn:function(){return[o("div",[o("SpNftId",{staticClass:"justify-content-center",attrs:{position:t.position}}),t._v(" "),o("div",{staticClass:"text-center mt-3"},[o("h3",{staticClass:"mt-2 mb-1 text-center"},[o("span",{staticClass:"text-primary"},[t._v("Stake")]),t._v("\n          into a Nitro pool\n        ")]),t._v(" "),o("div",{staticClass:"text-large text-secondary text-center"},[t._v("\n          Deposit your spNFT into a Nitro to earn additional yield\n        ")])])],1)]},proxy:!0},{key:"action",fn:function(){return[o("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:!t.selectedNitro},on:{click:t.stake}},[t._v("\n      Stake\n    ")])]},proxy:!0}])},[t._v(" "),0===t.nitros.length?o("div",{staticClass:"bg-darker text-weight-300 rounded p-3 text-center"},[t._v("\n    No compatible Nitro pool\n  ")]):t._e(),t._v(" "),t._l(t.nitros,(function(e,i){return o("NitroPoolWidget",{key:i,staticClass:"my-2",class:{"mt-2":0!==i},attrs:{pool:e,"is-selected":e===t.selectedNitro},on:{select:function(o){return t.select(e)}}})}))],2)}),[],!1,null,null,null);o.default=component.exports}}]);
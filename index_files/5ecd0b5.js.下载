(window.webpackJsonp=window.webpackJsonp||[]).push([[318,11,21,42,44,187,188,190,191,192,223,224,226,237,279,287,293,294],{1138:function(t,e,n){var content=n(1150);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(193).default)("1739ca87",content,!0,{sourceMap:!1})},1143:function(t,e,n){"use strict";n(8);e.a={data:()=>({lastRefreshTime:0,refreshIntervalId:null,defaultLoaded:!1,loadDefaultOnCreatedOrInitialized:!0,refreshPeriod:15e3,refreshOnAccountChanged:!1,refreshDefaultsOnAccountChanged:!1}),computed:{account(){return this.$store.getters["web3-provider/account"]},defaultRegistrationList:()=>[],registrationList:()=>[],isIdle(){return this.$store._vm.isAppIdle},isInitialized(){return this.$store.getters["general/isDataInitialized"]}},watch:{isIdle(t,e){e&&this.refresh()},isInitialized(){this.loadDefaultOnCreatedOrInitialized&&this.refreshDefaults()},async account(){this.defaultLoaded&&(this.refreshDefaultsOnAccountChanged&&await this.refreshDefaults(),this.refreshOnAccountChanged&&(this.$store.commit("general/setIsTokenDataInitialized",!1),await this.refresh()))}},methods:{registerTo(t,e){this.registrationList.push({func:t,params:e})},initRefreshInterval(){this.refreshIntervalId=setInterval((async()=>{await this.refresh()}),this.refreshPeriod)},async refresh(){if(this.isIdle)return;const t=[];for(const e of this.registrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.lastRefreshTime=Number(new Date)}))},async refreshDefaults(){const t=[];for(const e of this.defaultRegistrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.defaultLoaded=!0}))}},created(){this.loadDefaultOnCreatedOrInitialized&&this.isInitialized&&this.refreshDefaults()},mounted(){this.initRefreshInterval()},beforeDestroy(){this.defaultLoaded=!1,this.refreshIntervalId&&clearInterval(this.refreshIntervalId)}}},1148:function(t,e,n){"use strict";n.r(e);var o={props:{title:{type:String,default:""}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-title container-fluid mt-3 px-2"},[e("div",{staticClass:"d-flex align-items-center justify-content-center justify-content-md-between"},[e("h1",{staticClass:"mb-1"},[t._v(t._s(t.title))])]),t._v(" "),e("div",{staticClass:"subtitle mt-0 text-center text-md-left"},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports},1149:function(t,e,n){"use strict";n(1138)},1150:function(t,e,n){var o=n(192)((function(i){return i[1]}));o.push([t.i,'.vue-switcher{display:inline-block;position:relative}.vue-switcher__label{display:block;font-size:10px;margin-bottom:5px}.vue-switcher input{cursor:pointer;height:100%;opacity:0;position:absolute;width:100%;z-index:1}.vue-switcher div{align-items:center;border-radius:30px;cursor:pointer;display:-ms-flex;display:flex;height:15px;justify-content:flex-start;position:relative;transition:.2s linear,background-color .2s linear;width:36px}.vue-switcher div:after{border-radius:100px;box-shadow:0 1px 5px 0 rgba(0,0,0,.1);content:"";cursor:pointer;display:block;height:20px;left:100%;margin-left:-18px;position:absolute;top:-3px;transition:.15s linear,background-color .15s linear;width:20px}.vue-switcher--unchecked div{justify-content:flex-end}.vue-switcher--unchecked div:after{left:15px}.vue-switcher--disabled div{opacity:.3}.vue-switcher--disabled input{cursor:not-allowed}.vue-switcher--bold div{height:26px;top:-8px;width:51px}.vue-switcher--bold div:after{margin-left:-24px;top:3px}.vue-switcher--bold--unchecked div:after{left:28px}.vue-switcher--bold .vue-switcher__label span{display:inline-block;padding-bottom:7px}.vue-switcher-theme--default.vue-switcher-color--default div{background-color:#b7b7b7}.vue-switcher-theme--default.vue-switcher-color--default div:after{background-color:#9d9d9d}.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div{background-color:#aaa}.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div:after{background-color:#c4c4c4}.vue-switcher-theme--default.vue-switcher-color--blue div{background-color:#77b0c8}.vue-switcher-theme--default.vue-switcher-color--blue div:after{background-color:#539bb9}.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div{background-color:#c0dae5}.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div:after{background-color:#77b0c8}.vue-switcher-theme--default.vue-switcher-color--red div{background-color:#c87777}.vue-switcher-theme--default.vue-switcher-color--red div:after{background-color:#b95353}.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div{background-color:#e5c0c0}.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div:after{background-color:#c87777}.vue-switcher-theme--default.vue-switcher-color--yellow div{background-color:#c9c377}.vue-switcher-theme--default.vue-switcher-color--yellow div:after{background-color:#bab353}.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div{background-color:#e6e3c0}.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div:after{background-color:#c9c377}.vue-switcher-theme--default.vue-switcher-color--orange div{background-color:#c89577}.vue-switcher-theme--default.vue-switcher-color--orange div:after{background-color:#b97953}.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div{background-color:#e5cec0}.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div:after{background-color:#c89577}.vue-switcher-theme--default.vue-switcher-color--green div{background-color:#77c88d}.vue-switcher-theme--default.vue-switcher-color--green div:after{background-color:#53b96e}.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div{background-color:#c0e5ca}.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div:after{background-color:#77c88d}.vue-switcher-theme--bulma.vue-switcher-color--default div{background-color:#dcdcdc}.vue-switcher-theme--bulma.vue-switcher-color--default div:after{background-color:#f5f5f5}.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div{background-color:#e8e8e8}.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div:after{background-color:#f5f5f5}.vue-switcher-theme--bulma.vue-switcher-color--primary div{background-color:#05ffda}.vue-switcher-theme--bulma.vue-switcher-color--primary div:after{background-color:#00d1b2}.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div{background-color:#6bffe9}.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div:after{background-color:#05ffda}.vue-switcher-theme--bulma.vue-switcher-color--blue div{background-color:#5e91e3}.vue-switcher-theme--bulma.vue-switcher-color--blue div:after{background-color:#3273dc}.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div{background-color:#b5ccf2}.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div:after{background-color:#5e91e3}.vue-switcher-theme--bulma.vue-switcher-color--red div{background-color:#ff6b89}.vue-switcher-theme--bulma.vue-switcher-color--red div:after{background-color:#ff3860}.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div{background-color:#ffd1da}.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div:after{background-color:#ff6b89}.vue-switcher-theme--bulma.vue-switcher-color--yellow div{background-color:#ffe78a}.vue-switcher-theme--bulma.vue-switcher-color--yellow div:after{background-color:#ffdd57}.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div{background-color:#fffcf0}.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div:after{background-color:#ffe78a}.vue-switcher-theme--bulma.vue-switcher-color--green div{background-color:#3dde75}.vue-switcher-theme--bulma.vue-switcher-color--green div:after{background-color:#22c65b}.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div{background-color:#94edb3}.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div:after{background-color:#3dde75}.vue-switcher-theme--bootstrap.vue-switcher-color--default div{background-color:#e6e6e6}.vue-switcher-theme--bootstrap.vue-switcher-color--default div:after{background-color:#f0f0f0}.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div{background-color:#f5f5f5}.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div:after{background-color:#f0f0f0}.vue-switcher-theme--bootstrap.vue-switcher-color--primary div{background-color:#4f93ce}.vue-switcher-theme--bootstrap.vue-switcher-color--primary div:after{background-color:#337ab7}.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div{background-color:#9fc4e4}.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div:after{background-color:#4f93ce}.vue-switcher-theme--bootstrap.vue-switcher-color--success div{background-color:#80c780}.vue-switcher-theme--bootstrap.vue-switcher-color--success div:after{background-color:#5cb85c}.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div{background-color:#c7e6c7}.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div:after{background-color:#80c780}.vue-switcher-theme--bootstrap.vue-switcher-color--info div{background-color:#85d0e7}.vue-switcher-theme--bootstrap.vue-switcher-color--info div:after{background-color:#5bc0de}.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div{background-color:#daf1f8}.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div:after{background-color:#85d0e7}.vue-switcher-theme--bootstrap.vue-switcher-color--warning div{background-color:#f4c37d}.vue-switcher-theme--bootstrap.vue-switcher-color--warning div:after{background-color:#f0ad4e}.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div{background-color:#fceedb}.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div:after{background-color:#f4c37d}.vue-switcher-theme--bootstrap.vue-switcher-color--danger div{background-color:#d9534f}.vue-switcher-theme--bootstrap.vue-switcher-color--danger div:after{background-color:#c9302c}.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div{background-color:#eba5a3}.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div:after{background-color:#d9534f}',""]),o.locals={},t.exports=o},1158:function(t,e,n){"use strict";var o={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger(t){this.$emit("input",t.target.checked)}},computed:{classObject(){const{color:t,value:e,theme:n,typeBold:o,disabled:r}=this;return{"vue-switcher":!0,"vue-switcher--unchecked":!e,"vue-switcher--disabled":r,"vue-switcher--bold":o,"vue-switcher--bold--unchecked":o&&!e,["vue-switcher-theme--".concat(n)]:t,["vue-switcher-color--".concat(t)]:t}},shouldShowLabel(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},r=(n(1149),n(23)),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("label",{class:t.classObject},[t.shouldShowLabel?e("span",{staticClass:"vue-switcher__label"},[t.label?e("span",{domProps:{textContent:t._s(t.label)}}):t._e(),t._v(" "),!t.label&&t.value?e("span",{domProps:{textContent:t._s(t.textEnabled)}}):t._e(),t._v(" "),t.label||t.value?t._e():e("span",{domProps:{textContent:t._s(t.textDisabled)}})]):t._e(),t._v(" "),e("input",{attrs:{type:"checkbox",disabled:t.disabled},domProps:{checked:t.value},on:{change:t.trigger}}),t._v(" "),e("div")])}),[],!1,null,null,null);e.a=component.exports},1164:function(t,e,n){"use strict";n.r(e);var o=n(23),component=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("div",[t._t("default",(function(){return[e("h3",{staticClass:"px-4 mb-0 text-center text-secondary text-weight-400"},[t._v("Coming Soon")])]})),t._v(" "),e("img",{staticClass:"d-block mx-auto w-75",staticStyle:{"max-height":"600px"},attrs:{src:"/images/coming_soon.svg",alt:"coming soon"}})],2)}),[],!1,null,null,null);e.default=component.exports},1177:function(t,e,n){"use strict";n.r(e);var o=n(642),r={components:{Modal:n(103).default},data:()=>({deadlineDuration:null,maxHops:null,slippage:null,error:null,warning:null}),watch:{slippage(){if(!this.slippage||this.slippage<0||this.slippage>50)return this.error="Invalid slippage amount",void(this.warning=null);this.slippage>5&&(this.warning="Your transaction may be frontrun"),this.slippage<.5?this.warning="Your transaction may fail":this.warning=null,this.error=null}},methods:{init(){this.deadlineDuration=this.$store.getters["exchange-config/deadlineDuration"]/1e3/60,this.maxHops=this.$store.getters["exchange-config/maxHops"],this.slippage=this.$store.getters["exchange-config/slippage"]},resetToDefaults(){this.deadlineDuration=o.DEFAULT_DEADLINE/1e3/60,this.maxHops=o.DEFAULT_MAX_HOPS,this.slippage=o.DEFAULT_SLIPPAGE},save(){this.$store.commit("exchange-config/setDeadLineDuration",1e3*this.deadlineDuration*60),this.$store.commit("exchange-config/setmaxHops",this.maxHops),this.$store.commit("exchange-config/setSlippage",this.slippage),this.$bvModal.hide("exchange-settings")}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:"exchange-settings",title:"Settings"},on:{shown:function(e){return t.init()}},scopedSlots:t._u([{key:"cancel",fn:function(){return[e("b-button",{staticClass:"w-50 mr-3",attrs:{variant:"secondary"},on:{click:t.resetToDefaults}},[t._v("\n      Reset to defaults\n    ")])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:null!==t.error},on:{click:t.save}},[t._v("\n      Save settings\n    ")])]},proxy:!0}])},[e("b-form-group",{staticClass:"mb-3",attrs:{label:"Slippage (%)"}},[e("b-form-input",{attrs:{type:"number",step:"0.5"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-3",attrs:{label:"Deadline (mins)"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.deadlineDuration,callback:function(e){t.deadlineDuration=e},expression:"deadlineDuration"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-0",attrs:{label:"Max hops"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.maxHops,callback:function(e){t.maxHops=e},expression:"maxHops"}})],1),t._v(" "),t.error?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e(),t._v(" "),t.warning?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"iexc-danger mr-1 icon-fix"}),t._v("\n    Warning: "+t._s(t.warning)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1181:function(t,e,n){"use strict";n.r(e);var o={props:{value:{type:String,default:null},tabs:{type:Object,default:null}},computed:{incentivesEnabled(){return this.$store.getters["web3-provider/chainConfig"].frontend.featureFlags.incentives[this.$config.ENV_TYPE]}},methods:{isDeprecated(t){const e=[];return this.incentivesEnabled&&e.push("spNFTs"),e.includes(t)}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs-title d-flex align-items-center text-center"},t._l(t.tabs,(function(n,i){return e("a",{key:i,staticClass:"p-2 d-flex align-items-center justify-content-center",class:{active:t.value===i},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("input",i)}}},[e("span",{staticClass:"px-1"},[t._v(t._s(n))]),t._v(" "),t.isDeprecated(n)?e("b-badge",{staticClass:"mx-2 text-warning bg-black"},[t._v("Deprecated")]):t._e()],1)})),0)}),[],!1,null,null,null);e.default=component.exports},1194:function(t,e,n){"use strict";n.r(e);var o={props:{pair:{type:Object,required:!0}},methods:{openModal(){this.$emit("open-modal")}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center"},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"unbind-modal",expression:"'unbind-modal'"}],staticClass:"btn-utility w-100 mr-1",attrs:{variant:"secondary",disabled:0===Number(t.pair.accountBalanceFormatted)},on:{click:function(e){return e.stopPropagation(),t.openModal.apply(null,arguments)}}},[e("i",{staticClass:"icam-minus p-1"}),t._v(" "),e("span",{staticClass:"d-flex d-lg-none"},[t._v("Unbind")])]),t._v(" "),e("NuxtLink",{staticClass:"btn btn-secondary btn-utility w-100 ml-1",attrs:{to:{name:"liquidity",query:{token1:t.pair.token0.address,token2:t.pair.token1.address,type:"v3"}}}},[e("i",{staticClass:"icam-add p-1"}),t._v(" "),e("span",{staticClass:"d-flex d-lg-none"},[t._v("Add")])])],1)}),[],!1,null,null,null);e.default=component.exports},1195:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return t.pair.accountBalanceUSD>0?e("div",[t._v("\n  "+t._s(t.getLocaleString(t.pair.accountBalanceFormatted,4,6))+"\n  "),e("br"),t._v(" "),e("span",{staticClass:"text-secondary"},[t._v("$"+t._s(t.getLocaleString(t.pair.accountBalanceUSD,2,2)))])]):e("div",{staticClass:"text-secondary"},[t._v("0")])}),[],!1,null,null,null);e.default=component.exports},1196:function(t,e,n){"use strict";n.r(e);var o={components:{PoolAprTooltip:n(1135).default},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-weight-500 text-primary"},[t._v("\n  "+t._s(t.getLocaleString(t.pair.totalApr,2))+"%\n  "),e("PoolAprTooltip",{staticClass:"d-none d-sm-inline-block ml-1",attrs:{id:"positionv2-apr-".concat(t.pair.address),"fees-apr":t.pair.feesApr,"campaigns-apr":t.pair.campaignsApr,"merkl-apr":t.pair.merklApr}})],1)}),[],!1,null,null,null);e.default=component.exports},1197:function(t,e,n){"use strict";n.r(e);var o={components:{TokenImg:n(416).default},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-start align-items-center"},[e("div",{staticClass:"d-none d-sm-block text-center mr-1",staticStyle:{width:"70px"}},[e("token-img",{attrs:{token:t.pair}})],1),t._v(" "),e("div",{staticClass:"d-block d-sm-none text-center mr-1",staticStyle:{width:"45px"}},[e("token-img",{attrs:{token:t.pair,size:"sm"}})],1),t._v(" "),e("div",{staticClass:"ml-0 ml-sm-1"},[e("h4",{staticClass:"text-truncate mb-0 d-flex align-items-center"},[t._v("\n      "+t._s(t.pair.symbol)+"\n      "),e("span",{staticClass:"text-small text-primary ml-1"},[t._v("V3")])]),t._v(" "),e("span",{staticClass:"text-secondary"},[t._v(t._s(t.pair.providerName)+" "+t._s(t.pair.strategyName))])])])}),[],!1,null,null,null);e.default=component.exports},1198:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1130),r=n(416),l=n(1128),c=n(1133),d=n(17),v={components:{Accordion:c.default,DataRow:l.default,TokenImg:r.default},mixins:[o.a],props:{hasRewards:{type:Boolean,required:!0}},computed:{connectedAccount(){return this.$store.getters["web3-provider/account"]},nitroPools(){return this.connectedAccount?this.$contracts.nitroPoolFactory.allNitroPools.filter((t=>this.nftPool?t.accountTotalPendingRewardsUSD>.1&&t.nftPool===this.nftPool:t.accountTotalPendingRewardsUSD>.1)):[]},totalPendingRewards(){let t=0;for(const e of this.nitroPools)t+=e.accountTotalPendingRewardsUSD;return t},pendingRewards(){const t={},e={};let n=0;for(const o of this.nitroPools)o.accountTotalPendingRewardsUSD>1&&(n+=Number(o.accountTotalPendingRewardsUSD),o.nftPoolAddress in t||(t[o.nftPoolAddress]={totalPendingRewardsUSD:0,pool:o.nftPool}),t[o.nftPoolAddress].totalPendingRewardsUSD+=Number(o.accountTotalPendingRewardsUSD),o.rewardToken&&(o.rewardTokenAddress in e||(e[o.rewardTokenAddress]={pendingTokens:0,pendingTokensUSD:0,token:o.rewardToken}),e[o.rewardTokenAddress].pendingTokens+=Number(o.accountPendingRewardsFormatted),e[o.rewardTokenAddress].pendingTokensUSD+=Number(o.accountPendingRewardsUSD)),o.rewardToken2&&(o.rewardToken2Address in e||(e[o.rewardToken2Address]={pendingTokens:0,pendingTokensUSD:0,token:o.rewardToken2}),e[o.rewardToken2Address].pendingTokens+=Number(o.accountPendingRewards2Formatted),e[o.rewardToken2Address].pendingTokensUSD+=Number(o.accountPendingRewards2USD)));return{tokens:Object.fromEntries(Object.entries(e).sort(((t,e)=>{let[,a]=t,[,b]=e;return a.token.symbol.localeCompare(b.token.symbol)}))),pools:Object.fromEntries(Object.entries(t).sort(((t,e)=>{let[,a]=t,[,b]=e;return a.pool.depositToken.symbol.localeCompare(b.pool.depositToken.symbol)}))),totalUSD:n}}},methods:{async harvestAll(){this.header={title:"Harvest all Nitro"},this.steps=[{description:"Harvesting Nitro pools...",label:"nitro",icon:"mdi mdi-fire"}],this.successMessage={title:"You have successfully harvested\n        <span class='text-primary text-weight-500'>~$".concat(Object(d.b)(this.pendingRewards.totalUSD,2,2),"</span>\n        rewards from Nitro pools.")},this.initLoading(this.id),this.setTxsLength(this.nitroPools.length);try{for(const t of this.nitroPools){const e=await t.harvest();if(!e)return void this.txError("Transaction rejected.");const n=await e.wait();if(!n.status||Number(1!==n.status))return void this.txError("Transaction rejected.");this.confirmPassedTx(e)}this.txSuccess()}catch(t){this.txError("Error while harvesting Nitro pools. If the issue persists, please contact our support.")}}}},m=n(23),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return t.hasRewards?e("div",{staticClass:"d-flex flex-column"},[t._m(0),t._v(" "),e("div",[t._m(1),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-1",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("$"+t._s(t.getLocaleString(t.pendingRewards.totalUSD,2,2)))])]},proxy:!0}],null,!1,3637058154)},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},t._l(t.pendingRewards.tokens,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.token.symbol))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(n.pendingTokens,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:n.token,size:"xs"}})],1)]},proxy:!0}],null,!0)})})),1)]),t._v(" "),e("accordion",{staticClass:"rounded-1",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(Object.keys(t.pendingRewards.pools).length)+"\n          "+t._s(Object.keys(t.pendingRewards.pools).length>1?"pools":"pool")+"\n        ")]},proxy:!0}],null,!1,278712541)},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},t._l(t.pendingRewards.pools,(function(n,i){return e("div",{key:i},[n.totalPendingRewardsUSD?e("data-row",{attrs:{centered:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:n.pool.depositToken,size:"sm"}}),t._v("\n                  "+t._s(n.pool.depositToken.symbol)+"\n                ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("\n                $"+t._s(t.getLocaleString(n.totalPendingRewardsUSD,2,2))+"\n              ")]},proxy:!0}],null,!0)}):t._e()],1)})),0)])],1)]),t._v(" "),e("b-button",{staticClass:"w-50 mt-4 align-self-center",attrs:{variant:"primary"},on:{click:t.harvestAll}},[t._v("\n    Harvest all Nitro\n  ")])],1):e("div",[t._m(2)])}),[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"circle-badge circle-badge-info mr-3"},[e("i",{staticClass:"mdi mdi-fire text-info font-size-35"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n      Harvest all\n      "),e("span",{staticClass:"text-primary"},[t._v("Nitro")]),t._v("\n      rewards\n    ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n      Claim rewards from all the Nitro pools you've staked into.\n    ")])])},function(){var t=this._self._c;return t("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-1 p-2"},[t("span",[this._v("Data breakdown")])])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"circle-badge circle-badge-info mr-3"},[e("i",{staticClass:"mdi mdi-fire text-info font-size-35"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n      Harvest all\n      "),e("span",{staticClass:"text-primary"},[t._v("Nitro")]),t._v("\n      rewards\n    ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n      Sorry, you do not have any active Nitro rewards.\n    ")])])}],!1,null,null,null);e.default=component.exports},1199:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1130),r=n(416),l=n(1128),c=n(1133),d=n(17),v={components:{Accordion:c.default,DataRow:l.default,TokenImg:r.default},mixins:[o.a],props:{id:{type:String,required:!0},positions:{type:Array,required:!0},hasRewards:{type:Boolean,required:!0}},computed:{rewards(){const t=[];let e=0,n=0,o=0;for(const p of this.positions)!t.includes(p.nftPool)&&p.nftPool.accountTotalPendingUSD>0&&(t.push(p.nftPool),e+=p.nftPool.accountTotalPendingUSD,n+=Number(p.nftPool.accountTotalPendingGrailFormatted),o+=Number(p.nftPool.accountTotalPendingXGrailFormatted));return{nftPools:t.sort(((a,b)=>a.depositToken.symbol.toLowerCase()<b.depositToken.symbol.toLowerCase()?-1:a.depositToken.symbol.toLowerCase()>b.depositToken.symbol.toLowerCase()?1:0)),totalUSD:e,totalGrail:n,totalGrailUSD:n*this.$contracts.grailToken.price,totalXGrail:o,totalXGrailUSD:o*this.$contracts.grailToken.price}}},methods:{async harvestAll(){this.header={title:"Harvest all spNFTs"},this.steps=[{description:"Harvesting spNFTs...",label:"spNFT",icon:"mdi mdi-fire"}],this.successMessage={title:"You have successfully harvested\n        <span class='text-primary text-weight-500'>~$".concat(Object(d.b)(this.rewards.totalUSD,2,2),"</span>\n        rewards from your spNFTs.")},this.initLoading(this.id),this.setTxsLength(this.rewards.nftPools.length);try{for(const t of this.rewards.nftPools){const e=[];Object.keys(t.spNFTs).forEach((n=>{const o=t.spNFTs[n];o&&(o.isOwned||o.isStacked)&&o.pendingRewardsUSD>0&&e.push(o)}));const n=await t.harvestAll(e);if(await this.checkTx(n))return void this.txError("Transaction failed.")}this.txSuccess()}catch(t){this.txError("Error while harvesting spNFTs rewards. If the issue persists, please contact our support.")}}}},m=n(23),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return t.hasRewards?e("div",{staticClass:"d-flex flex-column"},[t._m(0),t._v(" "),e("div",[t._m(1),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-1",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("$"+t._s(t.getLocaleString(t.rewards.totalUSD,2,2)))])]},proxy:!0}],null,!1,253119573)},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.GRAIL_SYMBOL_GLOBAL))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(t.rewards.totalGrailUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(t.rewards.totalGrail,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.grailToken,size:"xs"}})],1)]},proxy:!0}],null,!1,1591111783)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.XGRAIL_SYMBOL_GLOBAL))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(t.rewards.totalXGrailUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(t.rewards.totalXGrail,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.xGrailToken,size:"xs"}})],1)]},proxy:!0}],null,!1,316841575)})],1)]),t._v(" "),e("accordion",{staticClass:"rounded-1",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(t.rewards.nftPools.length)+"\n          "+t._s(t.rewards.nftPools.length>1?"pools":"pool")+"\n        ")]},proxy:!0}],null,!1,3638074653)},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},t._l(t.rewards.nftPools,(function(n,i){return e("div",{key:i},[n.accountTotalPendingUSD>0?e("data-row",{attrs:{centered:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:n.depositToken,size:"sm"}}),t._v("\n                  "+t._s(n.depositToken.symbol)+"\n                ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("\n                $"+t._s(t.getLocaleString(n.accountTotalPendingUSD,2,2))+"\n              ")]},proxy:!0}],null,!0)}):t._e()],1)})),0)])],1)]),t._v(" "),e("b-button",{staticClass:"w-50 mt-4 align-self-center mb-2",attrs:{variant:"primary"},on:{click:t.harvestAll}},[t._v("\n    Harvest all spNFTs\n  ")])],1):e("div",[t._m(2)])}),[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[e("i",{staticClass:"iexc-coin2 text-primary font-size-30"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n      Harvest all\n      "),e("span",{staticClass:"text-primary"},[t._v("spNFT")]),t._v("\n      rewards\n    ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n      Claim rewards from all your incentivized spNFTs.\n    ")])])},function(){var t=this._self._c;return t("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-1 p-2"},[t("span",[this._v("Data breakdown")])])},function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[e("i",{staticClass:"iexc-coin2 text-primary font-size-30"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n      Harvest all\n      "),e("span",{staticClass:"text-primary"},[t._v("spNFT")]),t._v("\n      rewards\n    ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n      Sorry, you do not have any active spNFTs rewards.\n    ")])])}],!1,null,null,null);e.default=component.exports},1228:function(t,e,n){"use strict";n.r(e);var o={props:{pair:{type:Object,required:!0}},methods:{openModal(){this.$emit("open-modal")}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center"},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"unbind-modal",expression:"'unbind-modal'"}],staticClass:"btn-utility w-100 mr-1",attrs:{variant:"secondary",disabled:0===Number(t.pair.accountBalanceFormatted)},on:{click:function(e){return e.stopPropagation(),t.openModal.apply(null,arguments)}}},[e("i",{staticClass:"icam-minus p-1"}),t._v(" "),e("span",{staticClass:"d-flex d-lg-none"},[t._v("Unbind")])]),t._v(" "),e("NuxtLink",{staticClass:"btn btn-secondary btn-utility w-100 ml-1",attrs:{to:{name:"liquidity",query:{token1:t.pair.token0.address,token2:t.pair.token1.address,type:"v2",position:"lp"}}}},[e("i",{staticClass:"icam-add p-1"}),t._v(" "),e("span",{staticClass:"d-flex d-lg-none"},[t._v("Add")])])],1)}),[],!1,null,null,null);e.default=component.exports},1229:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return t.pair.accountBalanceUSD>0?e("div",[t._v("\n  "+t._s(t.getLocaleString(t.pair.accountBalanceFormatted,4,6))+"\n  "),e("br"),t._v(" "),e("span",{staticClass:"text-secondary"},[t._v("$"+t._s(t.getLocaleString(t.pair.accountBalanceUSD,2,2)))])]):e("div",{staticClass:"text-secondary"},[t._v("0")])}),[],!1,null,null,null);e.default=component.exports},1230:function(t,e,n){"use strict";n.r(e);var o={components:{PoolAprTooltip:n(1135).default},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-weight-500 text-primary"},[t._v("\n  "+t._s(t.getLocaleString(t.pair.totalApr,2))+"%\n  "),e("PoolAprTooltip",{staticClass:"d-none d-sm-inline-block ml-1",attrs:{id:"positionv2-apr-".concat(t.pair.address),"fees-apr":t.pair.feesApr,"campaigns-apr":t.pair.campaignsApr}})],1)}),[],!1,null,null,null);e.default=component.exports},1231:function(t,e,n){"use strict";n.r(e);var o={components:{TokenImg:n(416).default},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-small"},[e("div",{staticClass:"d-flex align-items-center pb-1"},[e("token-img",{staticClass:"mr-1",attrs:{token:t.pair.token0,size:"xs"}}),t._v("\n    "+t._s(t.getLocaleString(t.pair.accountToken0AmountFormatted,4))+"\n  ")],1),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:t.pair.token1,size:"xs"}}),t._v("\n    "+t._s(t.getLocaleString(t.pair.accountToken1AmountFormatted,4))+"\n  ")],1)])}),[],!1,null,null,null);e.default=component.exports},1232:function(t,e,n){"use strict";n.r(e);var o={components:{TokenImg:n(416).default},props:{pair:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex justify-content-start align-items-center"},[e("token-img",{staticClass:"mr-0 mr-sm-2",attrs:{token:t.pair}}),t._v(" "),e("div",{staticClass:"ml-0 ml-sm-1"},[e("h4",{staticClass:"text-truncate mb-0 d-flex align-items-center"},[t._v("\n      "+t._s(t.pair.symbol)+"\n      "),e("span",{staticClass:"text-small text-primary ml-1"},[t._v("V2")])])])],1)}),[],!1,null,null,null);e.default=component.exports},1233:function(t,e,n){"use strict";n.r(e);var o={components:{},props:{pair:{type:Object,required:!0}},computed:{poolShare(){var t;return null===(t=this.pair)||void 0===t?void 0:t.getPoolShareFromPairTokens(this.pair.accountToken0Amount,this.pair.accountToken1Amount)}}},r=n(23),component=Object(r.a)(o,(function(){var t=this;return(0,t._self._c)("div",[t._v(t._s(t.getLocaleString(t.poolShare,2))+"%")])}),[],!1,null,null,null);e.default=component.exports},1234:function(t,e,n){"use strict";n.r(e);var input=n(1131),o=n(421),r=n(103),l=n(1129),c=n(21),d={components:{Modal:r.default,Processing:l.default,TokenInput:input.default},props:{modalId:{type:String,default:null},position:{type:Object,required:!0}},data:()=>({loading:!1,token0Amount:null,token1Amount:null,token0MinAmount:null,token1MinAmount:null,liquidity:null,error:null,token0Approved:!1,token1Approved:!1,token0Approving:!1,token1Approving:!1}),computed:{account(){return this.$store.getters["web3-provider/account"]},slippage(){return this.$store.getters["exchange-config/slippage"]},deadlineDuration(){return this.$store.getters["exchange-config/deadlineDuration"]},token0(){return this.position.clPool.token0},token1(){return this.position.clPool.token1},maxToken0Amount(){return this.position.clPool.token0&&this.account?this.position.clPool.token0.accountBalanceFormatted:null},maxToken1Amount(){return this.position.clPool.token1&&this.account?this.position.clPool.token1.accountBalanceFormatted:null},token0AmountDisabled(){return this.position.isOutOfRange&&this.position.tickCurrent.tick>this.position.tickEnd.tick},token1AmountDisabled(){return this.position.isOutOfRange&&this.position.tickStart.tick>this.position.tickCurrent.tick}},methods:{clearAddModalValues(){this.token0Amount=null,this.token0MinAmount=null,this.token1Amount=null,this.token1MinAmount=null,this.loading=!1,this.token0Approved=!1,this.token1Approved=!1,this.token0Approving=!1,this.token1Approving=!1,Object(c.c)({store:this.$store,$contracts:this.$contracts},[this.token0,this.token1])},onUserInputToken0Amount(t){null!==t&&(this.token1Amount=null,this.ratioBasedOnToken0=!0,this.reloadSelectedTokenData())},onUserInputToken1Amount(t){null!=t&&(this.token0Amount=null,this.ratioBasedOnToken0=!1,this.reloadSelectedTokenData())},reloadSelectedTokenData(){if(this.error=null,this.liquidity=null,null!==this.token0Amount&&!this.token0.isValidAmount(this.token0Amount)||null!==this.token1Amount&&!this.token1.isValidAmount(this.token1Amount))this.error="Invalid amount";else{if(this.ratioBasedOnToken0)if(0===Number(this.token0Amount)||this.token1AmountDisabled)this.token1Amount=null,this.token1MinAmount="0",this.token0MinAmount="0",this.liquidity=this.position.maxLiquidityFromAmount0(this.token0Amount);else{const t=this.token0.getFullAmountFromFormatted(this.token0Amount),data=this.position.amount1AndLiquidityFromAmount0(t);this.liquidity=data.liquidity,this.token1Amount=data.amount1Formatted,this.updateAmountsMin(t,data.amount1)}else if(0===Number(this.token1Amount)||this.token0AmountDisabled)this.token0Amount=null,this.token0MinAmount="0",this.token1MinAmount="0",this.liquidity=this.position.maxLiquidityFromAmount1(this.token1Amount);else{const t=this.token1.getFullAmountFromFormatted(this.token1Amount),data=this.position.amount0AndLiquidityFromAmount1(t);this.liquidity=data.liquidity,this.token0Amount=data.amount0Formatted,this.updateAmountsMin(data.amount0,t)}(this.token0Amount&&Number(this.token0Amount)>0&&!this.token0.hasSufficientBalance(this.token0Amount)||this.token1Amount&&Number(this.token1Amount)>0&&!this.token1.hasSufficientBalance(this.token1Amount))&&(this.error="Insufficient balance"),this.refreshApprove()}},updateAmountsMin(t,e){const n=o.a.getMinAmountsWithSlippage(this.token0,this.position.tickCurrent,this.position.tickStart,this.position.tickEnd,t,e,this.slippage);this.token0MinAmount=this.token0.getFormattedAmountFromFull(n.amount0Min),this.token1MinAmount=this.token1.getFormattedAmountFromFull(n.amount1Min)},async approve(t){let e=this.$contracts.clPoolPositionManager.address;this.createPosition&&(e=this.$contracts.positionHelper.address),t.address===this.token0.address?(this.token0Approving=!0,this.token0Approving=await t.approveMax(e)):(this.token1Approving=!0,this.token1Approving=await t.approveMax(e)),setTimeout(this.refreshApprove(),5e3)},async refreshApprove(){if(this.account){let t=this.$contracts.clPoolPositionManager.address;this.createPosition&&(t=this.$contracts.positionHelper.address),this.token0Approved=!!this.token0&&await this.token0.hasAccountApproval(this.account,t,this.token0Amount),this.token0Approving&&this.token0Approved&&(this.token0Approving=!1),this.token1Approved=!!this.token1&&await this.token1.hasAccountApproval(this.account,t,this.token1Amount),this.token1Approving&&this.token1Approved&&(this.token1Approving=!1)}},async add(){this.loading=!0;try{const t=await this.position.add(this.token0Amount,this.token1Amount,this.token0MinAmount,this.token1MinAmount,this.liquidity,this.deadlineDuration);t&&(await t.wait(),this.$bvModal.hide(this.modalId))}catch(t){}this.loading=!1}}},v=n(23),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.modalId,title:"Add ".concat(t.position.clPool.symbol)},on:{shown:function(e){return t.clearAddModalValues()}},scopedSlots:t._u([{key:"action",fn:function(){return[!t.token0Approved&&t.token0Amount&&Number(t.token0Amount)>=0?e("b-button",{staticClass:"btn-lg w-50",attrs:{variant:"primary",disabled:!t.account||t.token0Approving},on:{click:function(e){return t.approve(t.token0)}}},[t.token0Approving?e("Processing"):e("span",[t._v("Approve "+t._s(t.token0.symbol))])],1):!t.token1Approved&&t.token1Amount&&Number(t.token1Amount)>=0?e("b-button",{staticClass:"btn-lg w-50",attrs:{variant:"primary",disabled:!t.account||t.token1Approving},on:{click:function(e){return t.approve(t.token1)}}},[t.token1Approving?e("Processing"):e("span",[t._v("Approve "+t._s(t.token1.symbol))])],1):e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||null!==t.error||!Number(t.token0Amount)&&!Number(t.token1Amount)},on:{click:function(e){return t.add()}}},[t.loading?e("Processing"):e("span",[t._v("Add")])],1)]},proxy:!0}])},[e("div",[e("token-input",{staticClass:"flex-grow-1 ml-1 mb-4",attrs:{id:"token-input-0",disabled:t.token0AmountDisabled,unit:t.position.clPool.token0.symbol,label:"balance","display-bottom-infos":!0,"max-amount":t.maxToken0Amount,"safe-max":!!t.position.clPool.token0&&t.position.clPool.token0.isNative},on:{input:t.onUserInputToken0Amount},model:{value:t.token0Amount,callback:function(e){t.token0Amount=e},expression:"token0Amount"}}),t._v(" "),e("token-input",{staticClass:"flex-grow-1 ml-1",attrs:{id:"token-input-1",disabled:t.token1AmountDisabled,unit:t.position.clPool.token1.symbol,label:"balance","display-bottom-infos":!0,"max-amount":t.maxToken1Amount,"safe-max":!!t.position.clPool.token1&&t.position.clPool.token1.isNative},on:{input:t.onUserInputToken1Amount},model:{value:t.token1Amount,callback:function(e){t.token1Amount=e},expression:"token1Amount"}})],1),t._v(" "),e("b-alert",{staticClass:"mt-3 mb-3",attrs:{show:null!==t.error,variant:"danger"}},[t._v("Error: "+t._s(t.error))])],1)}),[],!1,null,null,null);e.default=component.exports},1235:function(t,e,n){"use strict";n.r(e);var o=n(1158),r=n(417),l=n(1128),c=n(103),d={components:{Processing:n(1129).default,AnimatedNumber:r.default,DataRow:l.default,Modal:c.default,Switches:o.a},props:{modalId:{type:String,default:null},position:{type:Object,required:!0}},data:()=>({loading:!1,unbindAmount:0,unbindToken0amount:null,unbindToken1amount:null,error:null,signature:null,burnPosition:!0}),computed:{slippage(){return this.$store.getters["exchange-config/slippage"]},deadlineDuration(){return this.$store.getters["exchange-config/deadlineDuration"]},unbindData(){let t=this.unbindAmount;return(!this.unbindAmount||Number(this.unbindAmount)<0)&&(t=0),this.position.getUnbindAmounts(t,this.slippage)}},methods:{clearUnbindModalValues(){this.unbindAmount=0,this.signature=null,this.loading=!1,this.burnPosition=!0},async unbind(){this.loading=!0;try{const t=await this.position.unbind(this.unbindData.amount0Min,this.unbindData.amount1Min,this.unbindData.liquidity,this.deadlineDuration,this.burnPosition);t&&(await t.wait(),this.$bvModal.hide(this.modalId))}catch(t){}this.loading=!1}}},v=n(23),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.modalId,title:"Unbind ".concat(t.position.clPool.symbol)},on:{shown:function(e){return t.clearUnbindModalValues()}},scopedSlots:t._u([{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||!t.unbindAmount||t.unbindAmount<=0||null!==t.error},on:{click:function(e){return t.unbind()}}},[t.loading?e("Processing"):e("span",[t._v("Unbind")])],1)]},proxy:!0}])},[e("div",[e("h4",{staticClass:"mb-3"},[t._v("Unbind amount")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:25===t.unbindAmount},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=25}}},[t._v("\n      25%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:50===t.unbindAmount},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=50}}},[t._v("\n      50%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:75===t.unbindAmount},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=75}}},[t._v("\n      75%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:100===t.unbindAmount},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=100}}},[t._v("\n      100%\n    ")]),t._v(" "),e("b-input",{staticClass:"mt-2",attrs:{type:"number",max:100},model:{value:t.unbindAmount,callback:function(e){t.unbindAmount=e},expression:"unbindAmount"}})],1),t._v(" "),e("b-alert",{staticClass:"mt-3 mb-3",attrs:{show:null!==t.error,variant:"danger"}},[t._v("Error: "+t._s(t.error))]),t._v(" "),e("div",{staticClass:"text-small mt-3"},[e("h4",[t._v("Withdraw summary")]),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Total amount USD")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindData.usdValue,digits:2,prefix:"$"}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.position.clPool.token0.isWNative?t.$contracts.nativeToken.symbol:t.position.clPool.token0.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindData.amount0Formatted,suffix:" ".concat(t.position.clPool.token0.isWNative?t.$contracts.nativeToken.symbol:t.position.clPool.token0.symbol)}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.position.clPool.token1.isWNative?t.$contracts.nativeToken.symbol:t.position.clPool.token1.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindData.amount1Formatted,suffix:" ".concat(t.position.clPool.token1.isWNative?t.$contracts.nativeToken.symbol:t.position.clPool.token1.symbol)}})]},proxy:!0}])})],1),t._v(" "),t.unbindAmount&&Number(t.unbindAmount)>=100?e("div",{staticClass:"d-flex justify-content-end align-items-center px-3"},[e("span",{staticClass:"text-secondary mr-2"},[t._v("Burn position")]),t._v(" "),e("switches",{staticClass:"ml-1 mb-0 modal-switch",attrs:{id:"active","type-bold":"false",color:"primary"},model:{value:t.burnPosition,callback:function(e){t.burnPosition=e},expression:"burnPosition"}})],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1236:function(t,e,n){"use strict";n.r(e);var o=n(1194),r=n(1195),l=n(1196),c=n(1197),d={components:{LpV3Actions:o.default,LpV3Amount:r.default,LpV3Apr:l.default,LpV3Id:c.default},props:{isLastElement:{type:Boolean,default:!1},pair:{type:Object,required:!0}},data:()=>({collapsed:!1}),computed:{arrowClass(){return this.collapsed?"iexc-arrow-up":"iexc-arrow-down"}},methods:{openModal(){this.$emit("open-modal",this.pair.address)}}},v=n(23),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-block d-lg-table-row"},[e("td",{staticClass:"d-none d-lg-table-cell"},[e("lp-v3-id",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("lp-v3-amount",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("lp-v3-apr",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("div",{staticClass:"d-flex justify-content-end"},[e("lp-v3-actions",{staticClass:"justify-content-end w-100",staticStyle:{"max-width":"80px"},attrs:{pair:t.pair},on:{"open-modal":t.openModal}})],1)]),t._v(" "),e("div",{staticClass:"d-flex d-lg-none align-items-center justify-content-between py-2",class:{"bg-darker":t.collapsed},attrs:{role:"button"},on:{click:function(e){t.collapsed=!t.collapsed}}},[e("b-row",{staticClass:"flex-grow-1 pr-2"},[e("b-col",{staticClass:"d-flex justify-content-start align-items-center",attrs:{cols:"7"}},[e("lp-v3-id",{attrs:{pair:t.pair}})],1),t._v(" "),e("b-col",{attrs:{cols:"5"}},[e("lp-v3-amount",{attrs:{pair:t.pair}})],1)],1),t._v(" "),e("div",{staticClass:"text-right"},[e("b-button",{staticClass:"p-0 ml-2",attrs:{variant:"unstyled"}},[e("i",{staticClass:"text-secondary font-size-15 px-1",class:t.arrowClass})])],1)],1),t._v(" "),e("b-collapse",{staticClass:"d-lg-none",model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[e("div",{staticClass:"bg-darker px-2 py-3"},[e("b-row",{staticClass:"align-items-center py-2 mx-1"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",[e("span",{staticClass:"text-secondary"},[t._v("APR")]),t._v(" "),e("br"),t._v(" "),e("lp-v3-apr",{attrs:{pair:t.pair}})],1)])],1),t._v(" "),e("lp-v3-actions",{staticClass:"mt-2 mx-1",attrs:{pair:t.pair},on:{"open-modal":t.openModal}})],1)])],1)}),[],!1,null,null,null);e.default=component.exports},1237:function(t,e,n){"use strict";n.r(e);var o=n(417),r=n(1128),l=n(103),input=n(1131),c={components:{Processing:n(1129).default,AnimatedNumber:o.default,DataRow:r.default,Modal:l.default,TokenInput:input.default},props:{modalId:{type:String,default:null},pair:{type:Object,required:!0}},data:()=>({loading:!1,unbindAmount:null,unbindToken0amount:null,unbindToken1amount:null,error:null,signature:null}),computed:{},watch:{async unbindAmount(t){if(this.pair.isValidAmount(t))if(this.pair.hasSufficientBalance(t)){this.error=null;const t=await this.pair.getWithdrawAmounts(this.unbindAmount);this.unbindToken0amount=t.amount0,this.unbindToken1amount=t.amount1,this.signature=null,this.loading=!1}else this.error="Insufficient balance";else this.error="Invalid amount"}},methods:{computeAmount(t){return this.pair.getFormattedAmountFromFull(this.pair.accountBalance.mul(t).div(100))},async clearUnbindModalValues(){this.unbindAmount=null,this.signature=null,this.loading=!1,await this.pair.syncTokenInfos()},async unbind(t){this.loading=!0;const e=await this.pair.withdraw(t);e.tx&&await e.tx.wait(),this.loading=!1,this.error||this.$bvModal.hide(this.id)}}},d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.modalId,title:"Unbind ".concat(t.pair.symbol)},on:{shown:function(e){return t.clearUnbindModalValues()}},scopedSlots:t._u([{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||!t.unbindAmount||t.unbindAmount<=0||null!==t.error},on:{click:function(e){return t.unbind(t.unbindAmount)}}},[t.loading?e("Processing"):e("span",[t._v("Unbind")])],1)]},proxy:!0}])},[e("div",[e("h4",{staticClass:"mb-3"},[t._v("Unbind amount")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(25)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(25)}}},[t._v("\n      25%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(50)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(50)}}},[t._v("\n      50%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(75)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(75)}}},[t._v("\n      75%\n    ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.pair.accountBalanceFormatted},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.pair.accountBalanceFormatted}}},[t._v("\n      100%\n    ")]),t._v(" "),e("token-input",{staticClass:"mt-2",attrs:{"max-amount":t.pair.accountBalanceFormatted,"display-bottom-infos":""},model:{value:t.unbindAmount,callback:function(e){t.unbindAmount=e},expression:"unbindAmount"}})],1),t._v(" "),e("b-alert",{staticClass:"mt-3 mb-3",attrs:{show:null!==t.error,variant:"danger"}},[t._v("Error: "+t._s(t.error))]),t._v(" "),e("div",{staticClass:"text-small mt-3"},[e("h4",[t._v("Withdraw summary")]),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Total amount USD")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.pair.price*t.unbindAmount,digits:2,prefix:"$"}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.pair.token0.isWNative?t.$contracts.nativeToken.symbol:t.pair.token0.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindToken0amount,suffix:" ".concat(t.pair.token0.isWNative?t.$contracts.nativeToken.symbol:t.pair.token0.symbol)}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.pair.token1.isWNative?t.$contracts.nativeToken.symbol:t.pair.token1.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindToken1amount,suffix:" ".concat(t.pair.token1.isWNative?t.$contracts.nativeToken.symbol:t.pair.token1.symbol)}})]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},1238:function(t,e,n){"use strict";n.r(e);n(8);var o=n(103),r=n(1130),l=n(416),c=n(1128),d=n(1133),v=n(17),m={components:{Accordion:d.default,DataRow:c.default,TokenImg:l.default,Modal:o.default},mixins:[r.a],props:{id:{type:String,required:!0},positions:{type:Array,required:!0}},computed:{rewards(){const t=[],e={};let n=0;for(const p of this.positions)p.clPool.accountPositionsTotalPendingRewardsUSD>1&&(t.includes(p.clPool)||t.push(p.clPool),n+=p.pendingFeeAmountUSD,p.clPool.token0Address in e||(e[p.clPool.token0Address]={pendingTokens:0,pendingTokensUSD:0,token:p.clPool.token0}),e[p.clPool.token0Address].pendingTokens+=Number(p.pendingFeeAmountFormatted.feeAmount0),e[p.clPool.token0Address].pendingTokensUSD+=Number(p.pendingFeeAmount0USD),p.clPool.token1Address in e||(e[p.clPool.token1Address]={pendingTokens:0,pendingTokensUSD:0,token:p.clPool.token1}),e[p.clPool.token1Address].pendingTokens+=Number(p.pendingFeeAmountFormatted.feeAmount1),e[p.clPool.token1Address].pendingTokensUSD+=Number(p.pendingFeeAmount1USD));const o=Object.fromEntries(Object.entries(e).sort(((t,e)=>{let[,a]=t,[,b]=e;return a.token.symbol.localeCompare(b.token.symbol)})));return{pools:t.sort(((a,b)=>a.symbol.localeCompare(b.symbol))),tokens:o,totalUSD:n}}},methods:{async harvestAll(){this.header={title:"Harvest all LPv3 rewards"},this.steps=[{description:"Harvesting LPv3 rewards...",label:"LPv3",icon:"mdi mdi-fire"}],this.successMessage={title:"You have successfully harvested\n        <span class='text-primary text-weight-500'>~$".concat(Object(v.b)(this.rewards.totalUSD,2,2),"</span>\n        rewards from your LPv3 positions.")},this.initLoading(this.id);try{const t=await this.$contracts.clPoolPositionManager.collectAllPositionsFees();await this.checkTx(t,!0)}catch(t){this.txError("Error while harvesting LPv3 rewards. If the issue persists, please contact our support.")}}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[e("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[e("i",{staticClass:"mdi mdi-crown text-primary font-size-35"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n        Harvest all\n        "),e("span",{staticClass:"text-primary"},[t._v("LPv3")]),t._v("\n        rewards\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("Claim rewards from all your LPv3 positions.")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.harvestAll}},[t._v("Harvest")])]},proxy:!0}])},[t._v(" "),e("div",[e("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("Data breakdown")])]),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("$"+t._s(t.getLocaleString(t.rewards.totalUSD,2,2)))])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.rewards.tokens,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.token.symbol))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(n.pendingTokens,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:n.token,size:"xs"}})],1)]},proxy:!0}],null,!0)})})),1)]),t._v(" "),e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(t.rewards.pools.length)+"\n          "+t._s(t.rewards.pools.length>1?"pools":"pool")+"\n        ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.rewards.pools,(function(n,i){return e("data-row",{key:i,attrs:{centered:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:n,size:"sm"}}),t._v("\n                "+t._s(n.symbol)+"\n              ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("\n              $"+t._s(t.getLocaleString(n.accountPositionsTotalPendingRewardsUSD,2,2))+"\n            ")]},proxy:!0}],null,!0)})})),1)])],1)])])}),[],!1,null,null,null);e.default=component.exports},1239:function(t,e,n){"use strict";n.r(e);var o=n(103),r=n(1130),l=n(1198),c=n(1199),d={components:{Modal:o.default,Nitro:l.default,Spnfts:c.default},mixins:[r.a],props:{id:{type:String,required:!0},positions:{type:Array,required:!0},hasSpnftsRewards:{type:Boolean,required:!0},hasNitroRewards:{type:Boolean,required:!0}}},v=n(23),component=Object(v.a)(d,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id,"hide-footer":""}},[e("nitro",{attrs:{"has-rewards":t.hasNitroRewards}}),t._v(" "),e("spnfts",{staticClass:"mt-5 mb-4",attrs:{id:t.id,"has-rewards":t.hasSpnftsRewards,positions:t.positions}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Spnfts:n(1214).default})},1272:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1273),r=n(1274),l={components:{Pagination:n(1141).default,PositionV2:o.default,UnbindModal:r.default},props:{hidePagination:{type:Boolean,default:!1},positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({isSearching:!1,paginatedPositions:[],sortBy:"amount-desc",selectedPosition:null}),computed:{displayedPositions(){return this.hidePagination?this.sortedPositions:this.paginatedPositions},sortedPositions(){const t=[...this.positions];return"token-asc"===this.sortBy?t.sort(((a,b)=>a.symbol.toLowerCase()<b.symbol.toLowerCase()?-1:a.symbol.toLowerCase()>b.symbol.toLowerCase()?1:0)):"token-desc"===this.sortBy?t.sort(((a,b)=>a.symbol.toLowerCase()>b.symbol.toLowerCase()?-1:a.symbol.toLowerCase()<b.symbol.toLowerCase()?1:0)):"amount-asc"===this.sortBy?t.sort(((a,b)=>a.accountBalanceUSD<b.accountBalanceUSD?-1:a.accountBalanceUSD>b.accountBalanceUSD?1:0)):"amount-desc"===this.sortBy?t.sort(((a,b)=>a.accountBalanceUSD>b.accountBalanceUSD?-1:a.accountBalanceUSD<b.accountBalanceUSD?1:0)):"apr-asc"===this.sortBy?t.sort(((a,b)=>a.totalApr<b.totalApr?-1:a.totalApr>b.totalApr?1:0)):"apr-desc"===this.sortBy?t.sort(((a,b)=>a.totalApr>b.totalApr?-1:a.totalApr<b.totalApr?1:0)):this.positions}},methods:{isSortedBy(t,e){return this.sortBy===t+"-"+e},setSortBy(t){this.sortBy===t+"-desc"?this.sortBy=t+"-asc":this.sortBy=t+"-desc"},updatePaginatedPositions(t){this.paginatedPositions=t},updateSelectedToken(t){this.selectedToken=t},setPosition(t){const e=this.displayedPositions.find((e=>e.address===t));this.selectedPosition=e}}},c=l,d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"data-table w-100 mt-2"},[e("tr",{staticClass:"d-none d-lg-table-row"},[e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("token","asc"),"sort-by-desc":t.isSortedBy("token","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("token")}}},[t._v("\n        Token\n      ")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("amount","asc"),"sort-by-desc":t.isSortedBy("amount","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("amount")}}},[t._v("\n        Amount\n      ")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("apr","asc"),"sort-by-desc":t.isSortedBy("apr","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("apr")}}},[t._v("\n        APR\n      ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Composition")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Pool share")]),t._v(" "),e("th",{attrs:{scope:"col"}})]),t._v(" "),t._l(t.displayedPositions,(function(n){return e("PositionV2",t._g({key:n.address,attrs:{pair:n},on:{"open-modal":t.setPosition}},t.$listeners))}))],2),t._v(" "),t.loading?t._l(5,(function(t){return e("div",{key:t,staticClass:"skeleton mt-2 py-3"})})):t._e(),t._v(" "),t.hidePagination?t._e():e("pagination",{staticClass:"mt-4",attrs:{objects:t.sortedPositions},on:{update:t.updatePaginatedPositions}}),t._v(" "),t.selectedPosition?e("unbind-modal",{attrs:{"modal-id":"unbind-modal",pair:t.selectedPosition},on:{close:function(e){t.selectedPosition=null}}}):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1273:function(t,e,n){"use strict";n.r(e);var o=n(1228),r=n(1229),l=n(1230),c=n(1231),d=n(1232),v=n(1233),m={components:{LPV2Actions:o.default,LPV2Amount:r.default,LPV2Apr:l.default,LPV2Composition:c.default,LPV2Id:d.default,LPV2Share:v.default},props:{isLastElement:{type:Boolean,default:!1},pair:{type:Object,required:!0}},data:()=>({collapsed:!1}),computed:{arrowClass(){return this.collapsed?"iexc-arrow-up":"iexc-arrow-down"}},methods:{openModal(){this.$emit("open-modal",this.pair.address)}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-block d-lg-table-row"},[e("td",{staticClass:"d-none d-lg-table-cell"},[e("LPV2Id",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("LPV2Amount",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("LPV2Apr",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("LPV2Composition",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("LPV2Share",{attrs:{pair:t.pair}})],1),t._v(" "),e("td",{staticClass:"d-none d-lg-table-cell"},[e("div",{staticClass:"d-flex justify-content-end"},[e("LPV2Actions",{staticClass:"justify-content-end w-100",staticStyle:{"max-width":"80px"},attrs:{pair:t.pair},on:{"open-modal":t.openModal}})],1)]),t._v(" "),e("div",{staticClass:"d-flex d-lg-none align-items-center justify-content-between py-2",class:{"bg-darker":t.collapsed},attrs:{role:"button"},on:{click:function(e){t.collapsed=!t.collapsed}}},[e("b-row",{staticClass:"flex-grow-1 pr-2"},[e("b-col",{staticClass:"d-flex justify-content-start align-items-center",attrs:{cols:"7"}},[e("LPV2Id",{attrs:{pair:t.pair}})],1),t._v(" "),e("b-col",{attrs:{cols:"5"}},[e("LPV2Amount",{attrs:{pair:t.pair}})],1)],1),t._v(" "),e("div",{staticClass:"text-right"},[e("b-button",{staticClass:"p-0 ml-2",attrs:{variant:"unstyled"}},[e("i",{staticClass:"text-secondary font-size-15 px-1",class:t.arrowClass})])],1)],1),t._v(" "),e("b-collapse",{staticClass:"d-lg-none",model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[e("div",{staticClass:"bg-darker px-2 py-3"},[e("b-row",{staticClass:"align-items-center py-2 mx-1"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",[e("span",{staticClass:"text-secondary"},[t._v("Composition")]),t._v(" "),e("LPV2Composition",{attrs:{pair:t.pair}})],1)]),t._v(" "),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",[e("span",{staticClass:"text-secondary"},[t._v("APR")]),t._v(" "),e("br"),t._v(" "),e("LPV2Apr",{attrs:{pair:t.pair}})],1)]),t._v(" "),e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",[e("span",{staticClass:"text-secondary"},[t._v("Pool share")]),t._v(" "),e("br"),t._v(" "),e("LPV2Share",{attrs:{pair:t.pair}})],1)])],1),t._v(" "),e("LPV2Actions",{staticClass:"mt-2 mx-1",attrs:{pair:t.pair},on:{"open-modal":t.openModal}})],1)])],1)}),[],!1,null,null,null);e.default=component.exports},1274:function(t,e,n){"use strict";n.r(e);var o=n(417),r=n(1128),l=n(103),input=n(1131),c={components:{Processing:n(1129).default,AnimatedNumber:o.default,DataRow:r.default,Modal:l.default,TokenInput:input.default},props:{modalId:{type:String,default:null},pair:{type:Object,required:!0}},data:()=>({loading:!1,unbindAmount:null,unbindToken0amount:null,unbindToken1amount:null,error:null,isApproved:!1,signature:null,nativeUnbind:!0}),computed:{poolShare(){var t;return null===(t=this.pair)||void 0===t?void 0:t.getPoolShareFromPairTokens(this.pair.accountToken0Amount,this.pair.accountToken1Amount)}},watch:{async"$contracts.factory.lastPairsUpdate"(){this.unbindAmount&&(await this.refreshApprove(),await this.refreshUnbindData())},async unbindAmount(){await this.refreshUnbindData()}},methods:{async refreshUnbindData(){this.pair.isValidAmount(this.unbindAmount)?this.pair.hasSufficientBalance(this.unbindAmount)?(this.error=null,this.unbindToken0amount=this.pair.getToken0AmountFormatted(this.unbindAmount),this.unbindToken1amount=this.pair.getToken1AmountFormatted(this.unbindAmount),this.signature=null,this.loading=!1,this.isApproved=await this.pair.hasAccountApproval(this.$store.getters["web3-provider/account"],this.$contracts.router.address,this.unbindAmount)):this.error="Insufficient balance":this.error="Invalid amount"},computeAmount(t){return this.pair.getFormattedAmountFromFull(this.pair.accountBalance.mul(t).div(100))},async clearUnbindModalValues(){this.unbindAmount=null,this.signature=null,this.loading=!1,this.isApproved=!1,(this.pair.token0.buyTax>0||this.pair.token0.sellTax>0||this.pair.token1.buyTax>0||this.pair.token1.sellTax>0)&&(this.nativeUnbind=!1),await this.pair.syncTokenInfos()},async refreshApprove(){this.isApproved=await this.pair.hasAccountApproval(this.$store.getters["web3-provider/account"],this.$contracts.router.address,this.unbindAmount),this.loading&&this.isApproved&&(this.loading=!1),this.signature&&this.signature.deadline<=Math.ceil(Date.now()/1e3)&&(this.signature=null)},async approve(t){const e=this.$store.getters["web3-provider/account"];this.loading=!0;const n=await this.$contracts.router,o=await n.permitUnbind(e,this.pair,t);this.signature=o.signature,o.canSign?this.loading=!1:this.loading=await this.pair.approveMax(n.address)},async unbind(t){this.loading=!0;const e=this.$store.getters["web3-provider/account"],n=await this.$contracts.router;let o;this.signature?o=await n.unbindLiquidityWithPermit(this.pair.token0,this.pair.token1,this.pair,t,this.unbindToken0amount,this.unbindToken1amount,e,this.signature,this.nativeUnbind):this.isApproved&&(o=await n.unbindLiquidity(this.pair.token0,this.pair.token1,this.pair,t,this.unbindToken0amount,this.unbindToken1amount,e,this.nativeUnbind)),o.error&&(this.error=o.error),this.loading=!1,this.error||this.$bvModal.hide(this.id)}}},d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.modalId,title:"Unbind ".concat(t.pair.symbol)},on:{shown:function(e){return t.clearUnbindModalValues()}},scopedSlots:t._u([{key:"action",fn:function(){return[t.isApproved||t.signature?e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading||!t.unbindAmount||t.unbindAmount<=0||null!==t.error},on:{click:function(e){return t.unbind(t.unbindAmount)}}},[t.loading?e("Processing"):e("span",[t._v("Unbind")])],1):e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading},on:{click:function(e){return t.approve(t.unbindAmount)}}},[t.loading?e("Processing"):e("span",[t._v("Approve")])],1)]},proxy:!0}])},[e("div",[e("h4",{staticClass:"mb-3"},[t._v("Unbind amount")]),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[e("div",[e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(25)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(25)}}},[t._v("\n          25%\n        ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(50)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(50)}}},[t._v("\n          50%\n        ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.computeAmount(75)},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.computeAmount(75)}}},[t._v("\n          75%\n        ")]),t._v(" "),e("b-button",{staticClass:"py-1",class:{selected:t.unbindAmount===t.pair.accountBalanceFormatted},attrs:{variant:"secondary"},on:{click:function(e){t.unbindAmount=t.pair.accountBalanceFormatted}}},[t._v("\n          100%\n        ")])],1),t._v(" "),t.pair.token1.isWNative||t.pair.token1.isNative||t.pair.token0.isWNative||t.pair.token0.isNative?e("div",{staticClass:"d-flex align-items-center justify-content-evenly bg-darker text-secondary rounded p-1 cursor-pointer",on:{click:function(e){t.nativeUnbind=!t.nativeUnbind}}},[e("div",{staticClass:"w-100 rounded p-2",class:{"bg-dark text-white":t.nativeUnbind}},[t._v("ETH")]),t._v(" "),e("div",{staticClass:"w-100 rounded p-2",class:{"bg-dark text-white":!t.nativeUnbind}},[t._v("wETH")])]):t._e()]),t._v(" "),e("token-input",{staticClass:"mt-2",attrs:{"max-amount":t.pair.accountBalanceFormatted,"display-bottom-infos":""},model:{value:t.unbindAmount,callback:function(e){t.unbindAmount=e},expression:"unbindAmount"}})],1),t._v(" "),e("b-alert",{staticClass:"mt-3 mb-3",attrs:{show:null!==t.error,variant:"danger"}},[t._v("Error: "+t._s(t.error))]),t._v(" "),e("div",{staticClass:"text-small mt-3"},[e("h4",[t._v("Withdraw summary")]),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Total amount USD")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.pair.price*t.unbindAmount,digits:2,prefix:"$"}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.pair.token0.isWNative?t.$contracts.nativeToken.symbol:t.pair.token0.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindToken0amount,suffix:" ".concat(t.pair.token0.isWNative?t.$contracts.nativeToken.symbol:t.pair.token0.symbol)}})]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n        "+t._s(t.pair.token1.isWNative?t.$contracts.nativeToken.symbol:t.pair.token1.symbol)+"\n        amount\n      ")]},proxy:!0},{key:"value",fn:function(){return[e("animated-number",{attrs:{value:t.unbindToken1amount,suffix:" ".concat(t.pair.token1.isWNative?t.$contracts.nativeToken.symbol:t.pair.token1.symbol)}})]},proxy:!0}])})],1)],1)}),[],!1,null,null,null);e.default=component.exports},1275:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1333),r=n(1141),l=n(1234),c=n(1235),d={components:{Pagination:r.default,PositionV3:o.default,AddModal:l.default,UnbindModal:c.default},props:{hidePagination:{type:Boolean,default:!1},positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({isSearching:!1,paginatedPositions:[],sortBy:"amount-desc",selectedPosition:null}),computed:{displayedPositions(){return this.hidePagination?this.sortedPositions:this.paginatedPositions},sortedPositions(){const t=[...this.positions];return"token-asc"===this.sortBy?t.sort(((a,b)=>a.clPool.symbol.toLowerCase()<b.clPool.symbol.toLowerCase()?-1:a.clPool.symbol.toLowerCase()>b.clPool.symbol.toLowerCase()?1:0)):"token-desc"===this.sortBy?t.sort(((a,b)=>a.clPool.symbol.toLowerCase()>b.clPool.symbol.toLowerCase()?-1:a.clPool.symbol.toLowerCase()<b.clPool.symbol.toLowerCase()?1:0)):"amount-asc"===this.sortBy?t.sort(((a,b)=>a.totalAmountUSD<b.totalAmountUSD?-1:a.totalAmountUSD>b.totalAmountUSD?1:0)):"amount-desc"===this.sortBy?t.sort(((a,b)=>a.totalAmountUSD>b.totalAmountUSD?-1:a.totalAmountUSD<b.totalAmountUSD?1:0)):"fees-asc"===this.sortBy?t.sort(((a,b)=>a.pendingFeeAmountUSD<b.pendingFeeAmountUSD?-1:a.pendingFeeAmountUSD>b.pendingFeeAmountUSD?1:0)):"fees-desc"===this.sortBy?t.sort(((a,b)=>a.pendingFeeAmountUSD>b.pendingFeeAmountUSD?-1:a.pendingFeeAmountUSD<b.pendingFeeAmountUSD?1:0)):this.positions}},methods:{isSortedBy(t,e){return this.sortBy===t+"-"+e},setSortBy(t){this.sortBy===t+"-desc"?this.sortBy=t+"-asc":this.sortBy=t+"-desc"},updatePaginatedPositions(t){this.paginatedPositions=t},setPosition(t){const e=this.positions.find((e=>"".concat(e.clPool.address,"-").concat(e.tokenId)===t));this.selectedPosition=e}}},v=d,m=n(23),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"data-table w-100 mt-2"},[e("tr",{staticClass:"d-none d-lg-table-row"},[e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("token","asc"),"sort-by-desc":t.isSortedBy("token","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("token")}}},[t._v("\n        Token\n      ")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("amount","asc"),"sort-by-desc":t.isSortedBy("amount","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("amount")}}},[t._v("\n        Amount\n      ")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Est. APR")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Range")]),t._v(" "),e("th",{attrs:{scope:"col"}},[t._v("Composition")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("fees","asc"),"sort-by-desc":t.isSortedBy("fees","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("fees")}}},[t._v("\n        Pending fees\n      ")]),t._v(" "),e("th",{attrs:{scope:"col"}})]),t._v(" "),t._l(t.displayedPositions,(function(n,i){return e("PositionV3",t._g({key:i,attrs:{position:n},on:{"open-modal":t.setPosition}},t.$listeners))}))],2),t._v(" "),t.loading?t._l(5,(function(t){return e("div",{key:t,staticClass:"skeleton mt-2 py-3"})})):t._e(),t._v(" "),t.hidePagination?t._e():e("pagination",{staticClass:"mt-4",attrs:{objects:t.sortedPositions},on:{update:t.updatePaginatedPositions}}),t._v(" "),t.selectedPosition?e("unbind-modal",{attrs:{"modal-id":"unbind-modal",position:t.selectedPosition},on:{close:function(e){t.selectedPosition=null}}}):t._e(),t._v(" "),t.selectedPosition?e("add-modal",{attrs:{"modal-id":"add-modal",position:t.selectedPosition},on:{close:function(e){t.selectedPosition=null}}}):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1276:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1236),r=n(1237),l={components:{Pagination:n(1141).default,PositionV3:o.default,UnbindModal:r.default},props:{hidePagination:{type:Boolean,default:!1},positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},data:()=>({isSearching:!1,paginatedPositions:[],sortBy:"amount-desc",selectedPosition:null}),computed:{displayedPositions(){return this.hidePagination?this.sortedPositions:this.paginatedPositions},sortedPositions(){const t=[...this.positions];return"token-asc"===this.sortBy?t.sort(((a,b)=>a.symbol.toLowerCase()<b.symbol.toLowerCase()?-1:a.symbol.toLowerCase()>b.symbol.toLowerCase()?1:0)):"token-desc"===this.sortBy?t.sort(((a,b)=>a.symbol.toLowerCase()>b.symbol.toLowerCase()?-1:a.symbol.toLowerCase()<b.symbol.toLowerCase()?1:0)):"amount-asc"===this.sortBy?t.sort(((a,b)=>a.accountBalanceUSD<b.accountBalanceUSD?-1:a.accountBalanceUSD>b.accountBalanceUSD?1:0)):"amount-desc"===this.sortBy?t.sort(((a,b)=>a.accountBalanceUSD>b.accountBalanceUSD?-1:a.accountBalanceUSD<b.accountBalanceUSD?1:0)):"apr-asc"===this.sortBy?t.sort(((a,b)=>a.feesApr<b.feesApr?-1:a.feesApr>b.feesApr?1:0)):"apr-desc"===this.sortBy?t.sort(((a,b)=>a.feesApr>b.feesApr?-1:a.feesApr<b.feesApr?1:0)):this.positions}},methods:{isSortedBy(t,e){return this.sortBy===t+"-"+e},setSortBy(t){this.sortBy===t+"-desc"?this.sortBy=t+"-asc":this.sortBy=t+"-desc"},updatePaginatedPositions(t){this.paginatedPositions=t},updateSelectedToken(t){this.selectedToken=t},setPosition(t){const e=this.displayedPositions.find((e=>e.address===t));this.selectedPosition=e}}},c=l,d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("table",{staticClass:"data-table w-100 mt-2"},[e("tr",{staticClass:"d-none d-lg-table-row"},[e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("token","asc"),"sort-by-desc":t.isSortedBy("token","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("token")}}},[t._v("\n        Token\n      ")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("amount","asc"),"sort-by-desc":t.isSortedBy("amount","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("amount")}}},[t._v("\n        Amount\n      ")]),t._v(" "),e("th",{staticClass:"sorted",class:{"sort-by-asc":t.isSortedBy("apr","asc"),"sort-by-desc":t.isSortedBy("apr","desc")},attrs:{scope:"col"},on:{click:function(e){return t.setSortBy("apr")}}},[t._v("\n        Fees APR\n      ")]),t._v(" "),e("th",{attrs:{scope:"col"}})]),t._v(" "),t._l(t.displayedPositions,(function(n,i){return e("position-v3",t._g({key:i,attrs:{pair:n},on:{"open-modal":t.setPosition}},t.$listeners))}))],2),t._v(" "),t.loading?t._l(5,(function(t){return e("div",{key:t,staticClass:"skeleton mt-2 py-3"})})):t._e(),t._v(" "),t.hidePagination?t._e():e("pagination",{staticClass:"mt-4",attrs:{objects:t.sortedPositions},on:{update:t.updatePaginatedPositions}}),t._v(" "),t.selectedPosition?e("unbind-modal",{attrs:{"modal-id":"unbind-modal",pair:t.selectedPosition},on:{close:function(e){t.selectedPosition=null}}}):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1277:function(t,e,n){"use strict";n.r(e);n(8);var o={components:{LPV3HarvestAllModal:n(1238).default},props:{harvestAction:{type:Boolean,default:!0},positions:{type:Array,default:()=>[]}},data:()=>({harvestAllMinAmount:.1}),computed:{rewardsData(){const t=[];let e=0;for(const p of this.positions)!t.includes(p.clPool)&&p.clPool.accountPositionsTotalPendingRewardsUSD>.1&&t.push(p.clPool),p.pendingFeeAmountUSD>.1&&(e+=p.pendingFeeAmountUSD);return{pools:t,totalUSD:e}},rewardsFeesLabel(){return this.rewardsData.pools.length&&this.rewardsData.totalUSD<this.harvestAllMinAmount?"< ".concat(this.harvestAllMinAmount):this.getLocaleString(this.rewardsData.totalUSD,2,2)}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":t.rewardsData.totalUSD<t.harvestAllMinAmount}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[t._m(0),t._v(" "),e("span",[e("div",{staticClass:"text-uppercase text-primary"},[t._v("LPv3 fees")]),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("$"+t._s(t.rewardsFeesLabel))])])]),t._v(" "),t.harvestAction?e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.lpv3-harvest-all-modal",modifiers:{"lpv3-harvest-all-modal":!0}}],attrs:{disabled:t.rewardsData.totalUSD<t.harvestAllMinAmount,variant:"secondary"}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("\n        Harvest\n        "),t.rewardsData.totalUSD>=t.harvestAllMinAmount?e("span",{staticClass:"bg-darker rounded text-small ml-2",staticStyle:{padding:"3px 6px"}},[t._v("\n          "+t._s(t.rewardsData.pools.length)+"\n        ")]):t._e()]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("LPV3HarvestAllModal",{attrs:{id:"lpv3-harvest-all-modal",positions:t.positions}})],1):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[t("i",{staticClass:"mdi mdi-crown text-primary font-size-30"})])}],!1,null,null,null);e.default=component.exports},1278:function(t,e,n){"use strict";n.r(e);n(8);var o={components:{HarvestAllNitroSpnftsModal:n(1239).default},props:{positions:{type:Array,default:()=>[]}},computed:{rewardsData(){const t=[];let e=0;for(const p of this.positions)!t.includes(p.nftPool)&&p.nftPool.accountTotalPendingUSD>.1&&(t.push(p.nftPool),e+=p.nftPool.accountTotalPendingUSD);return{nftPools:t,totalUSD:e}},connectedAccount(){return this.$store.getters["web3-provider/account"]},nitroPools(){return this.connectedAccount?this.$contracts.nitroPoolFactory.allNitroPools.filter((t=>this.nftPool?t.accountTotalPendingRewardsUSD>.1&&t.nftPool===this.nftPool:t.accountTotalPendingRewardsUSD>.1)):[]},totalPendingNitroRewards(){let t=0;for(const e of this.nitroPools)t+=e.accountTotalPendingRewardsUSD;return t},hasNoPendingRewards(){return 0===this.rewardsData.totalUSD&&0===this.totalPendingNitroRewards}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":t.hasNoPendingRewards}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[e("div",{staticClass:"d-flex"},[t._m(0),t._v(" "),e("div",{staticClass:"circle-badge circle-badge-deactivated mr-3",style:{marginLeft:"-20px"}},[e("i",{staticClass:"mdi mdi-fire text-secondary font-size-30"})])]),t._v(" "),e("div",{staticClass:"d-flex flex-column"},[t._m(1),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("\n        $"+t._s(t.getLocaleString(t.rewardsData.totalUSD+t.totalPendingNitroRewards,2,2))+"\n      ")])])]),t._v(" "),e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.spnfts-harvest-all-modal",modifiers:{"spnfts-harvest-all-modal":!0}}],attrs:{variant:"secondary",disabled:t.hasNoPendingRewards}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("\n        Harvest\n        "),t.rewardsData.nftPools.length>0?e("span",{staticClass:"bg-darker rounded-2 text-small ml-2",staticStyle:{padding:"3px 6px"}},[t._v("\n          "+t._s(t.rewardsData.nftPools.length)+"\n        ")]):t._e()]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("harvest-all-nitro-spnfts-modal",{attrs:{id:"spnfts-harvest-all-modal",positions:t.positions,"has-nitro-rewards":t.totalPendingNitroRewards>0,"has-spnfts-rewards":t.rewardsData.totalUSD>0}})],1)])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-deactivated mr-3",staticStyle:{"z-index":"1"}},[t("i",{staticClass:"iexc-coin2 text-secondary font-size-24"})])},function(){var t=this._self._c;return t("div",{staticClass:"d-flex"},[t("div",{staticClass:"text-uppercase text-secondary"},[this._v("spNFTs + Nitro")])])}],!1,null,null,null);e.default=component.exports},1280:function(t,e,n){n(419)("flatMap")},1332:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1139),r=n(1272),l=n(1144),c={components:{LPV2List:r.default,TokenListModal:l.default,ConnectWallet:o.default},props:{positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},isWalletConnected:{type:Boolean,default:!1}},data:()=>({search:"",sortBy:"token-desc"}),computed:{processedPositions(){let t=[...this.positions];return t=this.searchInPositions(t),t}},methods:{searchInPositions(t){return""!==this.search&&this.search?t.filter((t=>t.symbol.toLowerCase().includes(this.search.toLowerCase()))):t}}},d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.isWalletConnected?e("div",{staticClass:"d-flex align-items-center justify-content-between"},[t._t("filters",(function(){return[e("b-form",{staticClass:"d-flex align-items-center justify-content-between flex-grow-1 mr-3",attrs:{inline:""}},[e("div",{staticClass:"flex-grow-1"},[e("b-input",{attrs:{type:"text",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])]})),t._v(" "),t._t("buttons",(function(){return[e("div",[e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.isWalletConnected,expression:"isWalletConnected"},{name:"b-modal",rawName:"v-b-modal",value:"import-token",expression:"'import-token'"}],attrs:{variant:"secondary"}},[e("i",{staticClass:"mdi mdi-import mr-0 mr-sm-1"}),t._v(" "),e("span",{staticClass:"d-none d-sm-block"},[t._v("Import token")])]),t._v(" "),e("token-list-modal",{ref:"selectedTokenModal",attrs:{"modal-id":"import-token","import-mode":""}}),t._v(" "),t.isWalletConnected?e("NuxtLink",{staticClass:"btn btn-primary ml-2",attrs:{to:{name:"liquidity",query:{type:"v2",position:"lp"}}}},[e("i",{staticClass:"mdi mdi-plus-circle-outline mr-0 mr-sm-1"}),t._v(" "),e("span",{staticClass:"d-none d-sm-block"},[t._v("New position")])]):t._e()],1)]}))],2):e("div",{staticClass:"text-center my-3"},[e("connect-wallet",{staticStyle:{"max-width":"175px"}})],1),t._v(" "),t.isWalletConnected?[t.loading||t.positions.length?e("LPV2List",{attrs:{loading:t.loading,"is-wallet-connected":t.isWalletConnected,positions:t.processedPositions}}):e("div",{staticClass:"my-4 text-large text-center"},[e("div",{staticClass:"text-secondary mb-1"},[t._v("You don't own any V2 position.")]),t._v(" "),e("NuxtLink",{attrs:{to:{name:"liquidity",query:{type:"v2",position:"lp"}}}},[e("i",{staticClass:"mdi mdi-arrow-right-thin mr-1"}),t._v("\n        Provide liquidity now\n      ")])],1)]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1340:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1139),r={components:{LpV3List:n(1276).default,ConnectWallet:o.default},props:{positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},isWalletConnected:{type:Boolean,default:!0}},data:()=>({search:"",sortBy:"token-desc"}),computed:{processedPositions(){let t=[...this.positions];return t=this.searchInPositions(t),t}},methods:{searchInPositions(t){return""!==this.search&&this.search?t.filter((t=>t.symbol.toLowerCase().includes(this.search.toLowerCase()))):t}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.isWalletConnected?e("div",{staticClass:"d-flex align-items-center justify-content-between"},[t._t("filters",(function(){return[e("b-form",{staticClass:"d-flex align-items-center justify-content-between flex-grow-1",attrs:{inline:""}},[e("div",{staticClass:"flex-grow-1"},[e("b-input",{attrs:{type:"text",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])]}))],2):e("div",{staticClass:"text-center my-3"},[e("connect-wallet",{staticStyle:{"max-width":"175px"}})],1),t._v(" "),t.isWalletConnected?[t.loading||t.positions.length?e("lp-v3-list",{attrs:{loading:t.loading,positions:t.processedPositions}}):e("div",{staticClass:"my-4 text-large text-center"},[e("div",{staticClass:"text-secondary mb-1"},[t._v("You don't own any V3 vault position.")]),t._v(" "),e("NuxtLink",{attrs:{to:{name:"liquidity",query:{type:"v3"}}}},[e("i",{staticClass:"mdi mdi-arrow-right-thin mr-1"}),t._v("\n        Provide liquidity now\n      ")])],1)]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1341:function(t,e,n){"use strict";n.r(e);var o=n(103),r=n(1130),l=n(416),c=n(1128),d=n(17),v=n(244),m={components:{DataRow:c.default,TokenImg:l.default,Modal:o.default},mixins:[r.a],props:{id:{type:String,required:!0}},data:()=>({MERKL:v.c.MERKL}),methods:{async harvest(){this.header={title:"Merkl rewards"},this.steps=[{description:"Harvesting all Merkl rewards...",label:"",icon:""}],this.successMessage={title:"You've successfully harvested your\n        $".concat(Object(d.b)(this.$contracts.clPoolsFactory.accountMerklTotalPendingRewardsUSD,2,2),"\n        Merkl rewards.")},this.initLoading(this.id);try{const t=await this.$contracts.clPoolsFactory.claimMerklIncentives();await this.checkTx(t,!0),this.$store.commit("loading-modal/PUSH_PASSED_TX",t.tx),this.txSuccess()}catch(t){this.txError("Error while claiming your Merkl rewards. If the issue persists, please contact our support.")}}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[e("div",{staticClass:"circle-badge circle-badge-merkl"},[e("i",{staticClass:"iexc-coin2 text-merkl font-size-30"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n        Harvest all\n        "),e("span",{staticClass:"text-primary"},[t._v("Merkl")]),t._v("\n        rewards\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n        Claim extra yield from your active V3 manual positions.\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.harvest}},[t._v("Harvest")])]},proxy:!0}])},[t._v(" "),e("div",[e("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("Data breakdown")])]),t._v(" "),e("div",{staticClass:"px-2"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("Pending rewards")]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("\n            $"+t._s(t.getLocaleString(t.$contracts.clPoolsFactory.accountMerklTotalPendingRewardsUSD,2,2))+"\n          ")])]},proxy:!0}])}),t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.$contracts.clPoolsFactory.accountMerklPendingRewards,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.token.symbol))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                  ($"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2))+")\n                ")]),t._v("\n                "+t._s(t.getLocaleString(n.pendingTokens,3))+"\n              ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:n.token,size:"xs"}})],1)]},proxy:!0}],null,!0)})})),1)],1)]),t._v(" "),e("div",{staticClass:"bg-darker border-lighter p-2 rounded-sm mt-4"},[e("div",{staticClass:"text-small text-secondary"},[e("p",{staticClass:"mb-1"},[t._v("\n        Merkl incentives are based on Merkl protocol, which uses an offchain script looking at the\n        onchain data of the incentivized pools.\n      ")]),t._v(" "),e("p",{staticClass:"mb-1"},[t._v("\n        Rewards allocation are based on distribution periods, and use the amount of tokens and\n        fees earned by the position during the epoch.\n      ")]),t._v(" "),e("p",[t._v("\n        When claiming your Merkl incentives,\n        "),e("span",{staticClass:"text-primary opacity-75"},[t._v("\n          all of your Merkl pending rewards across every\n          "+t._s(t.APP_NAME_GLOBAL)+" pool will be automatically harvested.\n        ")])])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center text-weight-300 text-small mt-3"},[t._v("\n      powered by\n      "),e("a",{attrs:{href:t.MERKL,target:"_blank"}},[e("img",{staticClass:"ml-3",attrs:{src:"/images/ext/merkl.svg",height:"20"}})])])])])}),[],!1,null,null,null);e.default=component.exports},1342:function(t,e,n){"use strict";n.r(e);n(8);var o=n(103),r=n(1130),l=n(416),c=n(1128),d=n(1133),v=n(17),m={components:{Accordion:d.default,DataRow:c.default,TokenImg:l.default,Modal:o.default},mixins:[r.a],props:{id:{type:String,required:!0},nitroPools:{type:Array,required:!0}},computed:{pendingRewards(){const t={},e={};let n=0;for(const o of this.nitroPools)o.accountTotalPendingRewardsUSD>1&&(n+=Number(o.accountTotalPendingRewardsUSD),o.nftPoolAddress in t||(t[o.nftPoolAddress]={totalPendingRewardsUSD:0,pool:o.nftPool}),t[o.nftPoolAddress].totalPendingRewardsUSD+=Number(o.accountTotalPendingRewardsUSD),o.rewardToken&&(o.rewardTokenAddress in e||(e[o.rewardTokenAddress]={pendingTokens:0,pendingTokensUSD:0,token:o.rewardToken}),e[o.rewardTokenAddress].pendingTokens+=Number(o.accountPendingRewardsFormatted),e[o.rewardTokenAddress].pendingTokensUSD+=Number(o.accountPendingRewardsUSD)),o.rewardToken2&&(o.rewardToken2Address in e||(e[o.rewardToken2Address]={pendingTokens:0,pendingTokensUSD:0,token:o.rewardToken2}),e[o.rewardToken2Address].pendingTokens+=Number(o.accountPendingRewards2Formatted),e[o.rewardToken2Address].pendingTokensUSD+=Number(o.accountPendingRewards2USD)));return{tokens:Object.fromEntries(Object.entries(e).sort(((t,e)=>{let[,a]=t,[,b]=e;return a.token.symbol.localeCompare(b.token.symbol)}))),pools:Object.fromEntries(Object.entries(t).sort(((t,e)=>{let[,a]=t,[,b]=e;return a.pool.depositToken.symbol.localeCompare(b.pool.depositToken.symbol)}))),totalUSD:n}}},methods:{async harvestAll(){this.header={title:"Harvest all Nitro"},this.steps=[{description:"Harvesting Nitro pools...",label:"nitro",icon:"mdi mdi-fire"}],this.successMessage={title:"You have successfully harvested\n        <span class='text-primary text-weight-500'>~$".concat(Object(v.b)(this.pendingRewards.totalUSD,2,2),"</span>\n        rewards from Nitro pools.")},this.initLoading(this.id),this.setTxsLength(this.nitroPools.length);try{for(const t of this.nitroPools){const e=await t.harvest();if(!e)return void this.txError("Transaction rejected.");const n=await e.wait();if(!n.status||Number(1!==n.status))return void this.txError("Transaction rejected.");this.confirmPassedTx(e)}this.txSuccess()}catch(t){this.txError("Error while harvesting Nitro pools. If the issue persists, please contact our support.")}}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[e("div",{staticClass:"circle-badge circle-badge-info mr-3"},[e("i",{staticClass:"mdi mdi-fire text-info font-size-35"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n        Harvest all\n        "),e("span",{staticClass:"text-primary"},[t._v("Nitro")]),t._v("\n        rewards\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n        Claim rewards from all the Nitro pools you've staked into.\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.harvestAll}},[t._v("Harvest")])]},proxy:!0}])},[t._v(" "),e("div",[e("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("Data breakdown")])]),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("$"+t._s(t.getLocaleString(t.pendingRewards.totalUSD,2,2)))])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.pendingRewards.tokens,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.token.symbol))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(n.pendingTokens,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:n.token,size:"xs"}})],1)]},proxy:!0}],null,!0)})})),1)]),t._v(" "),e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(Object.keys(t.pendingRewards.pools).length)+"\n          "+t._s(Object.keys(t.pendingRewards.pools).length>1?"pools":"pool")+"\n        ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.pendingRewards.pools,(function(n,i){return e("div",{key:i},[n.totalPendingRewardsUSD?e("data-row",{attrs:{centered:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:n.pool.depositToken,size:"sm"}}),t._v("\n                  "+t._s(n.pool.depositToken.symbol)+"\n                ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("\n                $"+t._s(t.getLocaleString(n.totalPendingRewardsUSD,2,2))+"\n              ")]},proxy:!0}],null,!0)}):t._e()],1)})),0)])],1)])])}),[],!1,null,null,null);e.default=component.exports},1343:function(t,e,n){"use strict";n.r(e);n(8);var o=n(103),r=n(1130),l=n(416),c=n(1128),d=n(1133),v=n(17),m={components:{Accordion:d.default,DataRow:c.default,TokenImg:l.default,Modal:o.default},mixins:[r.a],props:{id:{type:String,required:!0},positions:{type:Array,required:!0}},computed:{rewards(){const t=[];let e=0,n=0,o=0;for(const p of this.positions)!t.includes(p.nftPool)&&p.nftPool.accountTotalPendingUSD>0&&(t.push(p.nftPool),e+=p.nftPool.accountTotalPendingUSD,n+=Number(p.nftPool.accountTotalPendingGrailFormatted),o+=Number(p.nftPool.accountTotalPendingXGrailFormatted));return{nftPools:t.sort(((a,b)=>a.depositToken.symbol.toLowerCase()<b.depositToken.symbol.toLowerCase()?-1:a.depositToken.symbol.toLowerCase()>b.depositToken.symbol.toLowerCase()?1:0)),totalUSD:e,totalGrail:n,totalGrailUSD:n*this.$contracts.grailToken.price,totalXGrail:o,totalXGrailUSD:o*this.$contracts.grailToken.price}}},methods:{async harvestAll(){this.header={title:"Harvest all spNFTs"},this.steps=[{description:"Harvesting spNFTs...",label:"spNFT",icon:"mdi mdi-fire"}],this.successMessage={title:"You have successfully harvested\n        <span class='text-primary text-weight-500'>~$".concat(Object(v.b)(this.rewards.totalUSD,2,2),"</span>\n        rewards from your spNFTs.")},this.initLoading(this.id),this.setTxsLength(this.rewards.nftPools.length);try{for(const t of this.rewards.nftPools){const e=[];Object.keys(t.spNFTs).forEach((n=>{const o=t.spNFTs[n];o&&(o.isOwned||o.isStacked)&&o.pendingRewardsUSD>0&&e.push(o)}));const n=await t.harvestAll(e);if(await this.checkTx(n))return void this.txError("Transaction failed.")}this.txSuccess()}catch(t){this.txError("Error while harvesting spNFTs rewards. If the issue persists, please contact our support.")}}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[e("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[e("i",{staticClass:"iexc-coin2 text-primary font-size-30"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n        Harvest all\n        "),e("span",{staticClass:"text-primary"},[t._v("spNFT")]),t._v("\n        rewards\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n        Claim rewards from all your incentivized spNFTs.\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.harvestAll}},[t._v("Harvest")])]},proxy:!0}])},[t._v(" "),e("div",[e("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-sm p-2"},[e("span",[t._v("Data breakdown")])]),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("$"+t._s(t.getLocaleString(t.rewards.totalUSD,2,2)))])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.GRAIL_SYMBOL_GLOBAL))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(t.rewards.totalGrailUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(t.rewards.totalGrail,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.grailToken,size:"xs"}})],1)]},proxy:!0}])}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.XGRAIL_SYMBOL_GLOBAL))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(t.rewards.totalXGrailUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(t.rewards.totalXGrail,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:t.$contracts.xGrailToken,size:"xs"}})],1)]},proxy:!0}])})],1)]),t._v(" "),e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(t.rewards.nftPools.length)+"\n          "+t._s(t.rewards.nftPools.length>1?"pools":"pool")+"\n        ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded"},t._l(t.rewards.nftPools,(function(n,i){return e("div",{key:i},[n.accountTotalPendingUSD>0?e("data-row",{attrs:{centered:""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-1",attrs:{token:n.depositToken,size:"sm"}}),t._v("\n                  "+t._s(n.depositToken.symbol)+"\n                ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("\n                $"+t._s(t.getLocaleString(n.accountTotalPendingUSD,2,2))+"\n              ")]},proxy:!0}],null,!0)}):t._e()],1)})),0)])],1)])])}),[],!1,null,null,null);e.default=component.exports},1346:function(t,e,n){"use strict";n.r(e);var o=n(103),r=n(1130),l=n(416),c=n(1128),d=n(17),v={components:{Accordion:n(1133).default,DataRow:c.default,TokenImg:l.default,Modal:o.default},mixins:[r.a],props:{id:{type:String,required:!0}},methods:{async harvest(){this.header={title:"Market Maker rewards"},this.steps=[{description:"Harvesting all Market Maker rewards...",label:"",icon:""}],this.successMessage={title:"You've successfully harvested your\n        $".concat(Object(d.b)(this.$contracts.distributor.totalPendingUSD,2,2),"\n        Market Making rewards.")},this.initLoading(this.id);try{const t=await this.$contracts.distributor.harvestAll();await this.checkTx(t,!0),this.$store.commit("loading-modal/PUSH_PASSED_TX",t.tx),this.txSuccess()}catch(t){this.txError("Error while claiming your Market Maker rewards. If the issue persists, please contact our support.")}}}},m=n(23),component=Object(m.a)(v,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",[e("div",{staticClass:"circle-badge circle-badge-primary"},[e("i",{staticClass:"iexc-coin2 text-primary font-size-30"})]),t._v(" "),e("h2",{staticClass:"mt-3 mb-2"},[t._v("\n        Harvest all\n        "),e("span",{staticClass:"text-primary"},[t._v("Market Maker")]),t._v("\n        rewards\n      ")]),t._v(" "),e("span",{staticClass:"text-large text-secondary"},[t._v("\n        Claim extra yield from your active manual positions.\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary"},on:{click:t.harvest}},[t._v("Harvest")])]},proxy:!0}])},[t._v(" "),e("div",[e("h4",{staticClass:"mb-2 text-weight-400 bg-dark rounded-1 p-2"},[e("span",[t._v("Data breakdown")])]),t._v(" "),e("div",{staticClass:"px-2"},[e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Pending rewards"},scopedSlots:t._u([{key:"value",fn:function(){return[e("span",{staticClass:"text-primary"},[t._v("\n            $"+t._s(t.getLocaleString(t.$contracts.distributor.totalPendingUSD,2,2))+"\n          ")])]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},t._l(t.$contracts.distributor.pendingRewardsByToken,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(n.token.symbol))]},proxy:!0},{key:"value",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("span",[e("span",{staticClass:"text-small text-secondary mr-1"},[t._v("\n                    ($"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2))+")\n                  ")]),t._v("\n                  "+t._s(t.getLocaleString(n.pendingTokensFormatted,3))+"\n                ")]),t._v(" "),e("token-img",{staticClass:"ml-2",attrs:{token:n.token,size:"xs"}})],1)]},proxy:!0}],null,!0)})})),1)]),t._v(" "),e("accordion",{staticClass:"rounded-sm",attrs:{"flex-grow-right":"",label:"Rewards per pool"},scopedSlots:t._u([{key:"value",fn:function(){return[t._v("\n          "+t._s(t.$contracts.distributor.pendingRewardsByPool.length)+"\n          "+t._s(t.$contracts.distributor.pendingRewardsByPool.length>1?"pools":"pool")+"\n        ")]},proxy:!0}])},[t._v(" "),e("div",{staticClass:"py-1 px-2 bg-darker rounded-2"},t._l(t.$contracts.distributor.pendingRewardsByPool,(function(n,i){return e("data-row",{key:i,scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"d-flex align-items-center"},[e("token-img",{attrs:{token:n.pool,size:"xs"}}),t._v("\n                "+t._s(n.pool.symbol)+"\n              ")],1)]},proxy:!0},{key:"value",fn:function(){return[t._v("$"+t._s(t.getLocaleString(n.pendingTokensUSD,2,2)))]},proxy:!0}],null,!0)})})),1)])],1)])])}),[],!1,null,null,null);e.default=component.exports},1390:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1139),r=n(1275),l=n(1144),c={components:{LPV3List:r.default,TokenListModal:l.default,ConnectWallet:o.default},props:{displayHarvestAllWidgets:{type:Boolean,default:!1},positions:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},isWalletConnected:{type:Boolean,default:!1}},data:()=>({filtersCounter:0,filterOpen:!0,search:"",sortBy:"token-desc"}),computed:{processedPositions(){let t=[...this.positions];return t=this.searchInPositions(t),t=this.filterPositions(t),t}},methods:{filterPositions(t){return this.filterOpen&&(t=t.filter((t=>!t.isClosed))),t},setFilterOpen(){this.filterOpen?this.filtersCounter-=1:this.filtersCounter+=1,this.filterOpen=!this.filterOpen},searchInPositions(t){return""!==this.search&&this.search?t.filter((t=>t.clPool.symbol.toLowerCase().includes(this.search.toLowerCase()))):t}}},d=n(23),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[t.isWalletConnected?e("div",{staticClass:"d-flex align-items-center justify-content-between"},[t._t("filters",(function(){return[e("b-form",{staticClass:"d-flex align-items-center justify-content-between mr-3 flex-grow-1",attrs:{inline:""}},[e("div",{staticClass:"flex-grow-1"},[e("b-input",{attrs:{type:"text",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),e("div",{staticClass:"d-none d-lg-block ml-2"},[e("b-dropdown",{attrs:{variant:"black","toggle-class":"select-dropdown"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("span",{staticClass:"text-secondary mr-3"},[t._v("Filters")]),t._v(" "),t.filtersCounter>0?e("span",{staticClass:"mr-2 badge"},[t._v("\n                "+t._s(t.filtersCounter)+"\n              ")]):t._e()]},proxy:!0}],null,!1,3108893102)},[t._v(" "),e("b-dropdown-item",{staticClass:"dropdown-switch-item",attrs:{"link-class":"d-flex justify-content-start"},nativeOn:{"!click":function(e){return e.preventDefault(),e.stopPropagation(),t.setFilterOpen()}}},[e("i",{staticClass:"mdi mdi-check text-secondary opacity-50 mr-2",class:{"text-primary opacity-100":t.filterOpen}}),t._v(" "),e("span",[t._v("Open positions only")])])],1)],1),t._v(" "),e("div",{staticClass:"d-block d-lg-none ml-1"},[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.farms-filter-modal",modifiers:{"farms-filter-modal":!0}}],attrs:{variant:"black"}},[e("i",{staticClass:"icam-setting-4 font-size-20 text-muted p-0"})]),t._v(" "),e("b-modal",{attrs:{id:"lpv3-filter-modal",centered:"","hide-header":""},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("b-button",{staticClass:"w-100 mr-3",attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.hide("lpv3-filter-modal")}}},[t._v("\n                Close\n              ")])]},proxy:!0}],null,!1,1985634591)},[e("h3",{staticClass:"mb-3"},[t._v("Filters")]),t._v(" "),e("b-button",{staticClass:"d-flex align-items-center justify-content-between w-100 py-1",attrs:{variant:"simple-link"},on:{click:function(e){return t.setFilterOpen()}}},[e("span",[t._v("Open positions only")]),t._v(" "),e("label",{staticClass:"ml-2 mb-0 vue-switcher vue-switcher--bold vue-switcher-theme--default vue-switcher-color--primary",class:{"vue-switcher--unchecked vue-switcher--bold--unchecked":!t.filterOpen}},[e("input",{attrs:{type:"checkbox"},on:{click:function(e){return t.setFilterOpen()}}}),t._v(" "),e("div")])])],1)],1)])]})),t._v(" "),t._t("buttons",(function(){return[e("div",[e("b-button",{directives:[{name:"show",rawName:"v-show",value:t.isWalletConnected,expression:"isWalletConnected"},{name:"b-modal",rawName:"v-b-modal",value:"import-token",expression:"'import-token'"}],attrs:{variant:"secondary"}},[e("i",{staticClass:"mdi mdi-import mr-0 mr-sm-1"}),t._v(" "),e("span",{staticClass:"d-none d-sm-block"},[t._v("Import token")])]),t._v(" "),e("token-list-modal",{ref:"selectedTokenModal",attrs:{"modal-id":"import-token","import-mode":""}}),t._v(" "),t.isWalletConnected?e("NuxtLink",{staticClass:"btn btn-primary ml-2",attrs:{to:{name:"liquidity",query:{type:"v3"}}}},[e("i",{staticClass:"mdi mdi-plus-circle-outline mr-0 mr-sm-1"}),t._v(" "),e("span",{staticClass:"d-none d-sm-block"},[t._v("New position")])]):t._e()],1)]}))],2):e("div",{staticClass:"text-center my-3"},[e("connect-wallet",{staticStyle:{"max-width":"175px"}})],1),t._v(" "),t.isWalletConnected?[t.loading||t.positions.length?e("LPV3List",{attrs:{loading:t.loading,positions:t.processedPositions}}):e("div",{staticClass:"my-4 text-large text-center"},[e("div",{staticClass:"text-secondary mb-1"},[t._v("You don't own any V3 position.")]),t._v(" "),e("NuxtLink",{attrs:{to:{name:"liquidity",query:{type:"v3"}}}},[e("i",{staticClass:"mdi mdi-arrow-right-thin mr-1"}),t._v("\n        Provide liquidity now\n      ")])],1)]:t._e()],2)}),[],!1,null,null,null);e.default=component.exports},1532:function(t,e,n){"use strict";n.r(e);var o={components:{HarvestMerklModal:n(1341).default},props:{harvestAction:{type:Boolean,default:!0}},computed:{hasPendingRewards(){return this.$contracts.clPoolsFactory.accountMerklTotalPendingRewardsUSD>0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":!t.hasPendingRewards}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[t._m(0),t._v(" "),e("div",[e("div",{staticClass:"text-uppercase text-merkl"},[t._v("Merkl")]),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("\n        $"+t._s(t.getLocaleString(t.$contracts.clPoolsFactory.accountMerklTotalPendingRewardsUSD,2,2))+"\n      ")])])]),t._v(" "),t.harvestAction?e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.merkl-harvest-modal",modifiers:{"merkl-harvest-modal":!0}}],attrs:{disabled:!t.hasPendingRewards,variant:"secondary"}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("Harvest")]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("HarvestMerklModal",{attrs:{id:"merkl-harvest-modal"}})],1):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-merkl mr-3"},[t("i",{staticClass:"iexc-coin2 text-merkl font-size-24"})])}],!1,null,null,null);e.default=component.exports},1533:function(t,e,n){"use strict";n.r(e);n(8);var o={components:{NitroHarvestAllModal:n(1342).default},props:{harvestAction:{type:Boolean,default:!0},nftPool:{type:Object,default:null}},computed:{connectedAccount(){return this.$store.getters["web3-provider/account"]},nitroPools(){return this.connectedAccount?this.$contracts.nitroPoolFactory.allNitroPools.filter((t=>this.nftPool?t.accountTotalPendingRewardsUSD>.1&&t.nftPool===this.nftPool:t.accountTotalPendingRewardsUSD>.1)):[]},totalPendingRewards(){let t=0;for(const e of this.nitroPools)t+=e.accountTotalPendingRewardsUSD;return t}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":0===t.totalPendingRewards}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[t._m(0),t._v(" "),e("div",[e("div",{staticClass:"text-uppercase text-info"},[t._v("Nitro")]),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("$"+t._s(t.getLocaleString(t.totalPendingRewards,2,2)))])])]),t._v(" "),t.harvestAction?e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.nitro-harvest-all-modal",modifiers:{"nitro-harvest-all-modal":!0}}],attrs:{disabled:0===t.nitroPools.length,variant:"secondary"}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("\n        Harvest\n        "),!t.nftPool&&t.nitroPools.length>0?e("span",{staticClass:"bg-darker rounded text-small ml-2",staticStyle:{padding:"3px 6px"}},[t._v("\n          "+t._s(t.nitroPools.length)+"\n        ")]):t._e()]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("NitroHarvestAllModal",{attrs:{id:"nitro-harvest-all-modal","nitro-pools":t.nitroPools}})],1):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-info mr-3"},[t("i",{staticClass:"mdi mdi-fire text-info font-size-30"})])}],!1,null,null,null);e.default=component.exports},1534:function(t,e,n){"use strict";n.r(e);n(8);var o={components:{SpNFTHarvestAllModal:n(1343).default},props:{harvestAction:{type:Boolean,default:!0},positions:{type:Array,default:()=>[]}},computed:{rewardsData(){const t=[];let e=0;for(const p of this.positions)!t.includes(p.nftPool)&&p.nftPool.accountTotalPendingUSD>.1&&(t.push(p.nftPool),e+=p.nftPool.accountTotalPendingUSD);return{nftPools:t,totalUSD:e}}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":0===t.rewardsData.totalUSD}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[t._m(0),t._v(" "),e("span",[e("div",{staticClass:"text-uppercase text-primary"},[t._v("spNFTs")]),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("$"+t._s(t.getLocaleString(t.rewardsData.totalUSD,2,2)))])])]),t._v(" "),t.harvestAction?e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.spnfts-harvest-all-modal",modifiers:{"spnfts-harvest-all-modal":!0}}],attrs:{disabled:0===t.rewardsData.nftPools.length,variant:"secondary"}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("\n        Harvest\n        "),t.rewardsData.nftPools.length>0?e("span",{staticClass:"bg-darker rounded text-small ml-2",staticStyle:{padding:"3px 6px"}},[t._v("\n          "+t._s(t.rewardsData.nftPools.length)+"\n        ")]):t._e()]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("SpNFTHarvestAllModal",{attrs:{id:"spnfts-harvest-all-modal",positions:t.positions}})],1):t._e()])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[t("i",{staticClass:"iexc-coin2 text-primary font-size-24"})])}],!1,null,null,null);e.default=component.exports},1540:function(t,e,n){"use strict";n.r(e);var o={components:{HarvestModal:n(1346).default},computed:{hasPendingRewards(){return this.$contracts.distributor.totalPendingUSD>0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex align-items-center justify-content-between",class:{"opacity-50":!t.hasPendingRewards}},[e("div",{staticClass:"d-flex align-items-center mb-0 text-weight-400 mr-2"},[t._m(0),t._v(" "),e("div",[e("div",{staticClass:"text-uppercase text-primary"},[t._v("Market Maker")]),t._v(" "),e("h4",{staticClass:"mb-0 text-weight-500"},[t._v("\n          $"+t._s(t.getLocaleString(t.$contracts.distributor.totalPendingUSD,2,2))+"\n        ")])])]),t._v(" "),e("div",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.harvest-mm-modal",modifiers:{"harvest-mm-modal":!0}}],attrs:{disabled:!t.hasPendingRewards,variant:"secondary"}},[e("span",{staticClass:"d-none d-sm-inline"},[t._v("Harvest")]),t._v(" "),e("i",{staticClass:"mdi mdi-wallet-outline d-inline d-sm-none"})]),t._v(" "),e("harvest-modal",{attrs:{id:"harvest-mm-modal"}})],1)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"circle-badge circle-badge-primary mr-3"},[t("i",{staticClass:"iexc-coin2 text-primary font-size-24"})])}],!1,null,null,null);e.default=component.exports},1608:function(t,e,n){"use strict";n.r(e);n(8);var o=n(1277),r=n(1532),l=n(1533),c=n(1534),d=n(1278),v=n(1540),m={components:{LPV3HarvestAll:o.default,MerklHarvest:r.default,NFTPoolsHarvestAll:c.default,NitroHarvestAll:l.default,HarvestAllWidget:d.default,MarketMakerHarvest:v.default},props:{loading:{type:Boolean,default:!1},isWalletConnected:{type:Boolean,required:!0},spnfts:{type:Array,default:()=>[]},positionsV2:{type:Array,default:()=>[]},positionsV3:{type:Array,default:()=>[]},positionsVaults:{type:Array,default:()=>[]}},computed:{spnftEnabled(){return this.$contracts.nftPoolFactory.deployed},chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},incentivesEnabled(){return this.chainConfig.frontend.featureFlags.incentives[this.$config.ENV_TYPE]},v3Enabled(){return this.chainConfig.frontend.featureFlags.ammV3[this.$config.ENV_TYPE]},merklEnabled(){return this.v3Enabled&&this.isArbitrum},isArbitrum(){const t=this.$store.getters["web3-provider/chainId"];return[42161,421614].includes(t)},widgetClassLg(){return 4===this.widgetClassXl?this.widgetClassXl:6},widgetClassXl(){let t=1;return this.spnftEnabled&&!this.incentivesEnabled&&(t+=2),this.spnftEnabled&&this.incentivesEnabled&&t++,this.merklEnabled&&t++,this.incentivesEnabled&&t++,{2:6,3:4,4:3}[t]},totalData(){let t=0,e=0,n=0;for(const p of this.spnfts)e+=1,t+=p.amountUSD,p.pendingRewardsUSD>.1&&(n+=p.pendingRewardsUSD);for(const t of this.$contracts.nitroPoolFactory.allNitroPools)t.accountTotalPendingRewardsUSD>.1&&(n+=t.accountTotalPendingRewardsUSD);for(const p of this.positionsV3)e+=1,t+=p.totalAmountUSD,p.pendingFeeAmountUSD>.1&&(n+=p.pendingFeeAmountUSD);for(const p of this.positionsVaults)e+=1,t+=p.accountBalanceUSD;for(const p of this.positionsV2)e+=1,t+=p.accountBalanceUSD;return this.v3Enabled&&(n+=this.$contracts.clPoolsFactory.accountMerklTotalPendingRewardsUSD),{totalHoldings:t,totalPositions:e,pendingRewards:n}}}},h=n(23),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded bg-black border-lighter p-2 mb-4"},[e("div",{staticClass:"d-flex align-items-center justify-content-between p-2 mb-2"},[e("div",[e("h5",{staticClass:"text-weight-400 mb-1"},[t._v("Pending rewards")]),t._v(" "),e("h3",{staticClass:"text-primary mb-0"},[t._v("$"+t._s(t.getLocaleString(t.totalData.pendingRewards,2,2)))])]),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-end"},[e("div",{staticClass:"mr-4"},[t._m(0),t._v(" "),t.isWalletConnected?[t.loading?e("div",{staticClass:"skeleton skeleton--small mt-1"}):e("h3",{staticClass:"mb-0"},[t._v(t._s(t.totalData.totalPositions))])]:[t._v("--")]],2),t._v(" "),e("div",[e("div",{staticClass:"text-weight-400 text-secondary mb-0"},[t._v("Total holdings")]),t._v(" "),t.isWalletConnected?[t.loading?e("div",{staticClass:"skeleton skeleton--small mt-1"}):e("h3",{staticClass:"mb-0"},[t._v("$"+t._s(t.getLocaleString(t.totalData.totalHoldings,2,2)))])]:[t._v("--")]],2)])]),t._v(" "),e("b-row",{staticClass:"g-2"},[e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("LPV3HarvestAll",{staticClass:"bg-darker rounded p-2",attrs:{positions:t.positionsV3}})],1),t._v(" "),e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("market-maker-harvest",{staticClass:"bg-darker rounded p-2"})],1),t._v(" "),t.spnftEnabled&&!t.incentivesEnabled?e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("NFTPoolsHarvestAll",{staticClass:"bg-darker rounded p-2",attrs:{positions:t.spnfts}})],1):t._e(),t._v(" "),t.spnftEnabled&&!t.incentivesEnabled?e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("NitroHarvestAll",{staticClass:"bg-darker rounded p-2"})],1):t._e(),t._v(" "),t.merklEnabled?e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("MerklHarvest",{staticClass:"bg-darker rounded p-2"})],1):t._e(),t._v(" "),t.incentivesEnabled&&t.spnftEnabled?e("b-col",{attrs:{xs:"12",lg:t.widgetClassLg,xl:t.widgetClassXl}},[e("harvest-all-widget",{staticClass:"bg-darker rounded-2 p-2",attrs:{positions:t.spnfts}})],1):t._e()],1)],1)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"text-weight-400 text-secondary mb-0"},[e("span",{staticClass:"d-inline d-sm-none"},[t._v("Pos.")]),t._v(" "),e("span",{staticClass:"d-none d-sm-inline"},[t._v("Positions")])])}],!1,null,null,null);e.default=component.exports},2043:function(t,e,n){"use strict";n.r(e);n(1280);var o=n(13),r=n(1148),l=n(1332),c=n(1390),d=n(1340),v=n(1164),summary=n(1608),m=n(1214),h=n(1181),f=n(1177),y=n(1143),k=n(21),_={components:{ComingSoon:v.default,PageTitle:r.default,LPV2:l.default,LPV3:c.default,LPVaults:d.default,RewardsSummary:summary.default,SpNfts:m.default,TabsTitle:h.default,SettingsModal:f.default},mixins:[y.a],page:{title:"menuitems.positions.text"},data:()=>({refreshPeriod:6e4,refreshOnAccountChanged:!0,positionsType:"lpv3"}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},env(){return this.$config.ENV_TYPE},v2Enabled(){return this.chainConfig.frontend.featureFlags.ammV2[this.env]},v3Enabled(){return this.chainConfig.frontend.featureFlags.ammV3[this.env]},vaultsEnabled(){return this.chainConfig.frontend.featureFlags.vaults[this.env]},incentivesEnabled(){return this.chainConfig.frontend.featureFlags.incentives[this.env]},tabs(){let t={};return t={lpv3:"LP V3",lpv2:"LP V2",vaults:"Vaults",spnfts:"spNFTs"},this.v2Enabled||delete t.lpv2,this.v3Enabled||delete t.lpv3,this.vaultsEnabled||delete t.vaults,this.$contracts.nftPoolFactory.deployed||delete t.spnfts,t},defaultRegistrationList(){const t=[];return this.$contracts.nftPoolFactory.deployed&&t.push({func:()=>this.$contracts.nftPoolFactory.refreshNFTPoolsAccountData(!1)},{func:()=>this.$contracts.yieldBooster.syncContractInfos()}),this.v2Enabled&&t.push({func:k.c,params:[{store:this.$store,$contracts:this.$contracts},this.$contracts.factory.allPairs]}),this.v3Enabled&&t.push({func:()=>this.$contracts.clPoolPositionManager.syncAccountTokenIds()},{func:()=>this.$contracts.clPoolsFactory.fetchMerklIncentives()}),this.vaultsEnabled&&t.push({func:()=>Object(k.c)({store:this.$store,$contracts:this.$contracts},this.$contracts.liquidityManagerFactory.allLiquidityManagerArray)}),this.incentivesEnabled||t.push({func:()=>this.$contracts.distributor.resetData()}),this.incentivesEnabled&&t.push({func:()=>this.$contracts.distributor.syncAccountData()}),t},registrationList(){const t=[];if(this.$contracts.nftPoolFactory.deployed){t.push({func:()=>this.$contracts.yieldBooster.syncContractInfos()});let e=[],n=[];this.lastRefreshTime>0?this.positions.map((t=>t.nftPool)).forEach((t=>{t&&!e.find((e=>e.address===t.address))&&e.push(t)})):e=this.$contracts.nftPoolFactory.existentNftPools,n=this.lastRefreshTime>0?e.flatMap((t=>t.allAvailableNitroPools)):this.$contracts.nitroPoolFactory.allNitroPools,t.push({func:()=>this.$contracts.nftPoolFactory.refreshNFTPoolsData(e)}),t.push({func:()=>this.$contracts.nitroPoolFactory.refreshNitroPoolsData(n,!1,!0)})}if(this.v3Enabled){const e=this.positionsV3.flatMap((t=>t.clPool));t.push({func:()=>this.$contracts.clPoolsFactory.syncPairs(e)},{func:()=>this.$contracts.clPoolPositionManager.syncAccountTokenIds()},{func:()=>this.$contracts.clPoolsFactory.fetchMerklIncentives()})}return t.push({func:k.d,params:[{store:this.$store,$contracts:this.$contracts},this.$contracts.supportedTokens.tokens,!1]}),this.incentivesEnabled&&t.push({func:()=>this.$contracts.distributor.syncAccountData()}),t},positionsV2(){return this.v2Enabled?this.$contracts.factory.existentPairs.filter((t=>Number(t.accountBalanceFormatted)>0)):[]},positionsVaults(){return this.vaultsEnabled?this.$contracts.liquidityManagerFactory.allLiquidityManagerArray.filter((t=>Number(t.accountBalanceFormatted)>0)):[]},positionsV3(){return this.v3Enabled?this.$contracts.clPoolPositionManager.activeClPoolPositions.filter((t=>void 0!==t.clPool&&null!==t.clPool)):[]},tokenAddress1(){const t=this.$route.query.token1;return t&&Object(o.isAddress)(t.toString())?t.toString():null},tokenAddress2(){const t=this.$route.query.token2;return t&&Object(o.isAddress)(t.toString())?t.toString():null},positions(){const t=[];return this.$contracts.nftPoolFactory.deployed&&this.$contracts.nftPoolFactory.allNFTPools.forEach((e=>{Object.keys(e.spNFTs).forEach((n=>{const o=e.spNFTs[n];o&&(o.isOwned||o.isStacked)&&t.push(o)}))})),t},isWalletConnected(){return!!this.$store.getters["web3-provider/account"]},isTokenDataInitialized(){return this.$store.getters["general/isTokenDataInitialized"]}},watch:{"$contracts.nitroPoolFactory.allNitroPools.length"(){this.defaultLoaded&&this.$contracts.nitroPoolFactory.refreshNitroPoolsData(this.$contracts.nitroPoolFactory.allNitroPools,!1,!0)},"$contracts.nftPoolFactory.allNFTPools.length"(){this.defaultLoaded&&this.$contracts.nftPoolFactory.refreshNFTPoolsAccountData(!1)},defaultLoaded(){this.refresh()}},created(){var t,e;const n=null===(t=this.$route.query)||void 0===t||null===(e=t.type)||void 0===e?void 0:e.toString().toLowerCase();n&&(this.v3Enabled&&"lpv3"===n||this.v2Enabled&&"lpv2"===n||this.vaultsEnabled&&"vaults"===n||this.$contracts.nftPoolFactory.deployed&&"spnfts"===n)?this.positionsType=n:this.v3Enabled?this.positionsType="lpv3":this.v2Enabled?this.positionsType="lpv2":this.vaultsEnabled?this.positionsType="vaults":!this.$contracts.nftPoolFactory.deployed||this.incentivesEnabled?this.positionsType=null:this.positionsType="spnfts"}},w=n(23),component=Object(w.a)(_,(function(){var t=this,e=t._self._c;return t.v2Enabled||t.v3Enabled||t.vaultsEnabled?e("div",[e("page-title",{attrs:{title:"Positions"}},[t._v("\n    Manage your liquidity positions and claim your rewards.\n  ")]),t._v(" "),e("RewardsSummary",{staticClass:"mb-4",attrs:{loading:!t.isTokenDataInitialized,"is-wallet-connected":t.isWalletConnected,spnfts:t.positions,"positions-v2":t.positionsV2,"positions-v3":t.positionsV3,"positions-vaults":t.positionsVaults}}),t._v(" "),e("div",{staticClass:"d-flex"},[e("TabsTitle",{staticStyle:{width:"400px"},attrs:{tabs:t.tabs},model:{value:t.positionsType,callback:function(e){t.positionsType=e},expression:"positionsType"}}),t._v(" "),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.exchange-settings",modifiers:{"exchange-settings":!0}}],staticClass:"right-bar-toggle ml-auto",attrs:{type:"button",variant:"icon"}},[e("i",{staticClass:"mdi mdi-cog"})])],1),t._v(" "),e("settings-modal"),t._v(" "),"lpv3"===t.positionsType?e("LPV3",{staticClass:"mt-0",attrs:{loading:!t.isTokenDataInitialized,"is-wallet-connected":t.isWalletConnected,positions:t.positionsV3,"display-harvest-all-widgets":""}}):"lpv2"===t.positionsType?e("LPV2",{staticClass:"mt-0",attrs:{loading:!t.isTokenDataInitialized,"is-wallet-connected":t.isWalletConnected,positions:t.positionsV2}}):"vaults"===t.positionsType?e("LPVaults",{staticClass:"mt-0",attrs:{loading:!t.isTokenDataInitialized,"is-wallet-connected":t.isWalletConnected,positions:t.positionsVaults}}):t.$contracts.nftPoolFactory.deployed&&"spnfts"===t.positionsType?e("SpNfts",{staticClass:"mt-0",attrs:{loading:!t.isTokenDataInitialized,"is-wallet-connected":t.isWalletConnected,positions:t.positions,"init-token-address1":t.tokenAddress1,"init-token-address2":t.tokenAddress2,"create-link":!0,"incentives-enabled":t.incentivesEnabled,"display-harvest-all-widgets":""}}):t._e()],1):e("ComingSoon",{staticClass:"mt-5 pt-5"})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{RewardsSummary:n(1608).default})}}]);
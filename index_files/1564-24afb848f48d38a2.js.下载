"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1564],{81279:function(e,t,n){n.d(t,{U:function(){return l}});let l={INDUSTRY_STATS:"industryStats",HISTORICAL_INDUSTRY_STATS:"historicalIndustryStats",LHD_PROFILES:"lhdProfiles",LHD_PROFILE:"lhdProfile",LHD_PASSWORD_VERIFIED:"lhdPasswordVerified",HOMEPAGE_STATS:"homepageStats",LIVE_AND_UPCOMING:"liveAndUpcoming",TVL_STATS:"tvlStats",WIDO_QUOTE:"widoQuote",WIDO_ALLOWANCE:"widoAllowance",WIDO_APPROVAL:"widoApproval",WIDO_SIGN_APPROVAL:"widoSignApproval",TOKEN_HISTORIC:"tokenHistoric",BONDS_LANDING:"bondsLanding",BOND_POST_REFERENCE:"bondPostReference",WIDO_SUPPORTED_CONTRACTS:"widoSupportedContracts"}},48905:function(e,t,n){n.d(t,{fi:function(){return v},jy:function(){return s},kg:function(){return p},nv:function(){return c}});var l=n(67294),i=n(41248),o=n(13211),r=n(77985),a=n(81981),d=n(31525),u=n(23189);let s=()=>{let{chainId:e}=(0,r.useWeb3React)(),t=(0,d.T)(),n=(0,a.Z)();(0,l.useEffect)(()=>{e&&t((0,o.RE)(e,n))},[t,n,e])},c=(e,t)=>{let{account:n}=(0,r.useWeb3React)(),i=(0,d.T)(),u=(0,a.Z)();(0,l.useEffect)(()=>{e&&t&&i((0,o.XT)(e,u,t,n))},[t,e,i,u,n])},p=()=>{let{slowRefresh:e}=(0,u.Z)(),t=(0,d.T)(),{chainId:n,account:i}=(0,r.useWeb3React)();(0,l.useEffect)(()=>{i&&n&&t((0,o.yR)(n,i))},[i,t,e,n])},v=e=>{let{chainId:t}=(0,r.useWeb3React)(),n=null!=e?e:t;return(0,i.v9)(e=>e.bills.data[n])}},39293:function(e,t,n){var l=n(62644),i=n(70300);t.Z=()=>{var e,t,n,o,r,a,d;return"number"==typeof(null===(d=l.Z)||void 0===d?void 0:null===(a=d.getState())||void 0===a?void 0:null===(r=a.lists)||void 0===r?void 0:null===(o=r.byUrl)||void 0===o?void 0:null===(n=o[i.Ho])||void 0===n?void 0:null===(t=n.current)||void 0===t?void 0:null===(e=t.tokens)||void 0===e?void 0:e.length)}},64447:function(e,t,n){n.d(t,{Z:function(){return e1}});var l,i,o=n(39977),r=n(67294),a=n(72903);let d={buyContainer:{width:"100%",flexDirection:"column"},detailsContainer:{flexWrap:"wrap-reverse",width:"100%","@media screen and (min-width: 1180px)":{flexWrap:"wrap"}},getLpContainer:{width:"36%","@media screen and (min-width: 1180px)":{width:"28%",pt:"0px"}},buyButtonContainer:{justifyContent:"space-between",width:"100%",mt:"10px"}};var u=n(49055),s=n(80795),c=n(97484),p=n(10166),v=n(59429),h=n(50670),x=n(24494),m=n(5808),Z=n(77985),b=n(39371),y=n(96624);let g=(0,p.Z)(m.xv,{target:"e145czk70"})("white-space:nowrap;overflow:hidden;max-width:10px;text-overflow:ellipsis;weight:400;font-size:14px;line-height:30px;");function C(e){let{balance:t}=e;return(0,o.tZ)(g,{title:null==t?void 0:t.toExact(),children:null==t?void 0:t.toSignificant(5)})}var f=r.memo(e=>{var t,n,l;let{item:i,principalToken:r}=e,{account:a}=(0,Z.useWeb3React)(),{currencyA:d,currencyB:u}=i,[,p]=(0,b.Oo)(null!=d?d:void 0,null!=u?u:void 0),v=(0,y.ZP)(null!=a?a:void 0,u?null!=r?r:void 0:null!=d?d:void 0);return(0,o.BX)(m.kC,{sx:{alignItems:"center",width:"100%",padding:"10px",cursor:"pointer",background:"white3",":hover":{background:"white4"}},children:[(0,o.BX)(m.kC,{sx:{minWidth:"50px",alignItems:"center"},children:[!u&&(0,o.tZ)(s.xu,{sx:{marginRight:"10px"},children:(0,o.tZ)(m.ny,{icon:"ZapIcon",color:"gray",width:"8px"})}),(0,o.tZ)(x.Z,{token1:null==d?void 0:d.symbol,token2:null==u?void 0:u.symbol,noEarnToken:!!u,size:30})]}),(0,o.BX)(m.kC,{sx:{alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,o.BX)(m.kC,{sx:{marginLeft:"10px",flexDirection:"column"},children:[(0,o.tZ)(m.xv,{sx:c.W.symbolText,children:u?"".concat(null==d?void 0:null===(t=d.wrapped)||void 0===t?void 0:t.symbol,"-").concat(null==u?void 0:null===(n=u.wrapped)||void 0===n?void 0:n.symbol):null==d?void 0:d.symbol}),(0,o.tZ)(m.xv,{size:"12px",weight:300,sx:{lineHeight:"16px"},children:p?null==p?void 0:null===(l=p.liquidityToken)||void 0===l?void 0:l.name:null==d?void 0:d.name})]}),(0,o.tZ)(m.xv,{children:v?(0,o.tZ)(C,{balance:v}):a?(0,o.tZ)(s.$j,{width:"20px",height:"20px"}):null})]})]})});function w(e){let{currenciesList:t,onCurrencySelect:n,fixedListRef:l,principalToken:i}=e,a=(0,r.useCallback)(e=>{let{data:t,index:l,style:r}=e,a=t[l];return(0,o.tZ)(m.kC,{sx:r,className:"token-item-".concat(l),onClick:()=>n(a,l),children:(0,o.tZ)(f,{item:a,principalToken:i})},"token-item-".concat(l))},[n,i]),d=(0,r.useCallback)((e,t)=>e,[]);return(0,o.tZ)(k,{height:300,width:"100%",ref:l,itemData:t,itemCount:t.length,itemSize:56,itemKey:d,children:a})}let k=(0,p.Z)(h.t7,{target:"e1hi5n100"})("border-radius:10px 0px 0px 10px;");var S=r.memo(e=>{let{onDismiss:t=()=>null,onCurrencySelect:n,currenciesList:l,searchQuery:i,handleSearchQuery:a,principalToken:d}=e,s=(0,r.useRef)(),{t:p}=(0,u.$G)(),h=(0,r.useCallback)((e,l)=>{t(),n(e,l),a("")},[t,n,a]),x=(0,r.useCallback)(e=>{var t;let n=e.target.value,l=(0,v.UJ)(n);a(l||n),null===(t=s.current)||void 0===t||t.scrollTo(0)},[a]),Z=(0,r.useCallback)(()=>(0,o.tZ)(w,{currenciesList:l,onCurrencySelect:h,fixedListRef:s,principalToken:d}),[l,h,d]);return(0,o.tZ)(m.u_,{onDismiss:t,title:p("Tokens"),children:(0,o.tZ)(m.kC,{sx:c.W.tokenSearcherContainer,children:(0,o.BX)(m.kC,{sx:{flexDirection:"column"},children:[(0,o.tZ)(m.kC,{sx:{position:"relative",margin:"10px 0px 15px 0px"},children:(0,o.tZ)(E,{id:"token-search-input",placeholder:p("Name or Address"),autoComplete:"off",value:i,onChange:x,icon:"search",autoFocus:!0})}),Z()]})})})});let E=(0,p.Z)(m.II,{target:"etcd3d00"})("width:420px;max-width:100% !important;height:40px;border-radius:10px;border:none;background-color:",e=>{let{theme:t}=e;return t.colors.white3},";color:",e=>{let{theme:t}=e;return t.colors.text},";placeholder-color:",e=>{let{theme:t}=e;return t.colors.gray},";::placeholder{color:",e=>e.theme.colors.text,";}:focus{box-shadow:none !important;}");var T=n(10807),I=n(42755),P=n(56715),N=n(36236),B=n(76606),A=r.memo(e=>{let{inputCurrencies:t,onCurrencySelect:n,lpList:l,principalToken:i,enableZap:a,showNativeFirst:d}=e;(0,I.xz)();let c=(0,T.e_)(),p=(0,I.NM)(),{chainId:h}=(0,Z.useWeb3React)(),{t:x}=(0,u.$G)(),[b,y]=(0,r.useState)(""),g=(0,r.useCallback)(e=>{y(e)},[]),C=(0,r.useMemo)(()=>{let e=[];if(p){var t;let n=p[h];for(let l of null===(t=Object)||void 0===t?void 0:t.values(null!=n?n:[]))l.address[h]&&e.push(l.address[h].toLowerCase())}let n=Object.entries(c).filter(t=>e.includes(t[0].toLowerCase()));return Object.fromEntries(n)},[c,h,p]),f=(e,t)=>"WETH"===e.symbol?-1:"BUSD"===e.symbol?"WETH"===t.symbol?1:-1:"DAI"===e.symbol?"WETH"===t.symbol||"BUSD"===t.symbol?1:-1:"USDC"===e.symbol&&"WETH"!==t.symbol&&"BUSD"!==t.symbol&&"DAI"!==t.symbol?-1:1,w=(0,r.useMemo)(()=>{let e=function(e){let t=(0,v.UJ)(e);if(t){let e=t.toLowerCase();return t=>"address"in t&&e===t.address.toLowerCase()}let n=e.toLowerCase().split(/\s+/).filter(e=>e.length>0);if(0===n.length)return()=>!0;let l=e=>{let t=e.toLowerCase().split(/\s+/).filter(e=>e.length>0);return n.every(e=>0===e.length||t.some(t=>t.startsWith(e)||t.endsWith(e)))};return e=>{let t=null==e?void 0:e.symbol,n=null==e?void 0:e.name;return t&&l(t)||n&&l(n)}}(b),t=Object.values(C).filter(e).sort(f).map(e=>({currencyA:e,currencyB:null}));return d?[{currencyA:(0,B.gX)(h),currencyB:null},l[0],t].flat():[l[0],{currencyA:(0,B.gX)(h),currencyB:null},t].flat()},[C,b,d]),k=(0,r.useCallback)(e=>{n(e),y("")},[n]),[E]=(0,N.Z)((0,o.tZ)(S,{onCurrencySelect:k,inputCurrencies:t,currenciesList:w,searchQuery:b,handleSearchQuery:g,principalToken:i}),!0,!0,"DualCurrencySearch"),A=(0,r.useCallback)((e,t)=>(0,o.tZ)(m.hP,{size:"sm",onClick:()=>k(w[t]),sx:{width:"100%"},children:(0,o.tZ)(P.Z,{principalToken:i,inputCurrencies:e})},t),[w,k]);return(0,o.tZ)(m.kC,{sx:{minWidth:"max-content"},children:t[0]?(0,o.tZ)(m.kC,{children:a?(0,o.BX)(m.Lt,{size:"sm",component:(0,o.tZ)(P.Z,{principalToken:i,inputCurrencies:t,active:!0}),sx:{width:"190px",zIndex:1,background:"white4"},children:[w.slice(0,4).map((e,t)=>A([e.currencyA,e.currencyB],t)),(0,o.tZ)(m.hP,{size:"sm",sx:{textAlign:"center"},onClick:E,children:(0,o.BX)(m.xv,{sx:{"&:hover":{textDecoration:"underline"}},children:[x("See all")," >"]})})]}):(0,o.tZ)(s.xu,{sx:{background:"white4",borderRadius:"10px",position:"relative",width:"190px"},children:(0,o.tZ)(m.kC,{sx:{padding:"5px 4px",justifyContent:"space-between",alignItems:"center",span:{fontSize:3}},children:(0,o.tZ)(P.Z,{principalToken:i,inputCurrencies:t,active:!0})})})}):(0,o.tZ)(s.$j,{width:"15px",height:"15px",sx:{marginRight:"10px"}})})}),R=n(74431),D=n(93359),U=n(89346),W=r.memo(e=>{let{handleMaxInput:t,onUserInput:n,value:l,onCurrencySelect:i,inputCurrencies:a,lpList:d,principalToken:p,enableZap:v,usdVal:h}=e,{account:x,chainId:b}=(0,Z.useWeb3React)(),g=(0,R.Z)(),C=(0,y.ZP)(null!=x?x:void 0,a[1]&&null!=p?p:a[0]),f=(0,y.ZP)(x,null!=p?p:a[0]),w=null==C?void 0:C.toSignificant(6),{t:k}=(0,u.$G)(),S=(0,r.useRef)(!1),E=b?U.AE[b]:void 0;return(0,r.useEffect)(()=>{!S.current&&v&&f&&(null==f?void 0:f.toExact())==="0"&&E&&(i({currencyA:(0,B.gX)(b),currencyB:void 0}),S.current=!0)},[f,b]),(0,o.BX)(m.kC,{sx:c.W.dexPanelContainer,children:[(0,o.BX)(m.kC,{sx:c.W.panelTopContainer,children:[(0,o.tZ)(m.Af,{value:l,onUserInput:e=>n(e),style:{fontSize:g?"15px":"22px",align:"left"}}),(0,o.tZ)(A,{inputCurrencies:a,onCurrencySelect:i,lpList:d,principalToken:p,enableZap:null==v||v,showNativeFirst:v&&(null==f?void 0:f.toExact())==="0"})]}),(0,o.BX)(m.kC,{sx:c.W.panelBottomContainer,children:[(0,o.tZ)(m.kC,{sx:{alignItems:"center",justifyContent:"center",opacity:.4},children:(0,o.tZ)(m.xv,{size:"12px",sx:c.W.panelBottomText,children:h||"0.0"===l?"0.0"!==l&&0!==h&&l?"$".concat((h*parseFloat(l)).toFixed(2)):null:(0,o.tZ)(s.$j,{width:"15px",height:"15px"})})}),x&&(0,o.BX)(m.kC,{sx:{alignItems:"center"},children:[(0,o.BX)(m.xv,{size:"12px",sx:c.W.panelBottomText,children:[k("Balance: %balance%",{balance:w||"loading"}),!w&&(0,o.tZ)(D.Z,{})]}),parseFloat(null!=w?w:"0")>0&&(0,o.tZ)(m.kC,{sx:c.W.maxButton,size:"sm",onClick:t,children:(0,o.tZ)(m.xv,{color:"primaryBright",sx:{lineHeight:"0px"},children:k("MAX")})})]})]})]})});(l=i||(i={}))[l.Loading=0]="Loading",l[l.LpPurchase=1]="LpPurchase",l[l.ApeZap=2]="ApeZap",l[l.SoulZap=3]="SoulZap";var L=n(28626),O=n(1113),z=n(41248);let X=e=>{let{chainId:t}=(0,Z.useWeb3React)(),n=(0,z.v9)(e=>e.bills.data);return(0,r.useMemo)(()=>{var l;if(t&&n)return null==n?void 0:null===(l=n[t])||void 0===l?void 0:l.find(t=>t.index===e)},[n,t,e])};var F=n(80535),_=n(70794),H=n(89897),M=n(50434),j=function(e,t,n,l){let i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:18,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:102,{account:d}=(0,Z.useWeb3React)(),u=(0,F.Ib)(e),s=(i=t.split(".")).length<2?t:i[1].length>18?(i[1]=i[1].slice(0,18),i[0]+"."+i[1]):t,c=new _.Z(l).times(a).div(100),p=(0,H.h7)(),v=(0,r.useCallback)(async()=>{let e=await u.deposit(new _.Z(s).times(new _.Z(10).pow(null!=o?o:18)).toString(),c.toFixed(0),null!=d?d:"");return p(e,{type:M.i.BUY}),e.wait()},[u,s,o,c,d,p]);return{onBuyBill:v}};let G=(e,t,n)=>{var l,i;let{logs:o,transactionHash:r}=e,a=null==o?void 0:o.find(e=>{var n;return(null==e?void 0:null===(n=e.address)||void 0===n?void 0:n.toLowerCase())===(null==t?void 0:t.toLowerCase())}),d=null==a?void 0:null===(i=a.topics)||void 0===i?void 0:i[(null==a?void 0:null===(l=a.topics)||void 0===l?void 0:l.length)-1],u=parseInt(d,16);n&&n(u.toString(),r)};var V=n(31525),q=n(13211),K=n(28662),$=n(9669),Y=n.n($),Q=n(80666),J=n(85945),ee=n(32161),et=n(89886),en=n(30081),el=n(33989);class ei extends el.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;let n=this.options;this.options=this.client.defaultMutationOptions(e),(0,ee.VS)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,et.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){en.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,n,l,i,o,r,a,d;e.onSuccess?(null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(l=(i=this.mutateOptions).onSettled)||l.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(o=(r=this.mutateOptions).onError)||o.call(r,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(d=this.mutateOptions).onSettled)||a.call(d,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(({listener:e})=>{e(this.currentResult)})})}}var eo=n(464),er=n(24798);function ea(){}var ed=n(81279);let eu=async e=>{try{(0,K.ZP)(Y(),{retries:2,retryCondition:()=>!0});let t=await Y().post("".concat(Q.hU,"/bills/widget"),e),n=await t.data;if(201!==t.status){if(409===t.status)throw Error("postBillReference: 409 tx-hash already exists for data ".concat(e));throw Error("postBillReference: Status not 201 for data ".concat(e,". Status: ").concat(t.status))}return n}catch(t){throw Error("postBillReference: error posting data ".concat(e))}},es=()=>{let e=(0,J.NL)(),{chainId:t}=(0,Z.useWeb3React)();return function(e,t,n){let l=(0,ee.lV)(e,void 0,void 0),i=(0,J.NL)({context:l.context}),[o]=r.useState(()=>new ei(i,l));r.useEffect(()=>{o.setOptions(l)},[o,l]);let a=(0,eo.$)(r.useCallback(e=>o.subscribe(en.V.batchCalls(e)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),d=r.useCallback((e,t)=>{o.mutate(e,t).catch(ea)},[o]);if(a.error&&(0,er.L)(o.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:d,mutateAsync:a.mutate}}({mutationFn:e=>{let{chainId:n,transactionHash:l,referenceId:i,billContract:o}=e;return(n=n||t)&&l&&i&&o?eu({chainId:n,transactionHash:l,referenceId:i,billContract:o}):Promise.resolve(null)},onError:(e,t,n)=>{console.error("usePostBillReference: error posting data ".concat(t,", context: ").concat(n," error: ").concat(e))},onSuccess:()=>e.invalidateQueries({queryKey:[ed.U.BOND_POST_REFERENCE]})})};var ec=n(84774),ep=n(48016),ev=n(7538),eh=n(57319),ex=n(69776),em=n(6781),eZ=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let{chainId:t}=(0,Z.useWeb3React)(),[n,l]=(0,r.useState)(" "),[i,d]=(0,r.useState)(""),[u,s]=(0,r.useState)(!1),c=(0,z.I0)(),[p]=(0,N.Z)((0,o.tZ)(eh.Z,{poolAddress:n,pid:i,zapIntoProductType:e,zapable:u}),!0,!1,"dualLiquidityModal"),v=(0,r.useCallback)(e=>{var n;let l=null===(n=em.$5[t])||void 0===n?void 0:n.nativeCurrency.symbol;return e.symbol===l?"ETH":e.address[t]},[t]);return(0,r.useCallback)((e,t,n,i,o)=>{c((0,a.j)({field:a.gN.INPUT,currencyId:v(e)})),c((0,a.j)({field:a.gN.OUTPUT,currencyId:v(t)})),c((0,ex.EU)({currency1:v(e),currency2:v(t)})),l(null!=n?n:""),d(null!=i?i:""),s(null!=o&&o),p()},[c,v,p])},eb=n(83759),ey=n(90037),eg=n(66861),eC=n(44156),ef=n(19101),ew=n(6563),ek=(e,t,n,l,i,o)=>{let{account:a}=(0,Z.useWeb3React)(),d=(0,r.useContext)(ew.P),[u,s]=(0,r.useState)(!0),[c,p]=(0,r.useState)(""),[v,h]=(0,r.useState)(null),x=new _.Z(null!=l?l:"0").toFixed(18,5),m=new _.Z(null!=x?x:"0").times(new _.Z(10).pow(null!=n?n:18)).toString();return(0,r.useEffect)(()=>{let l=async()=>{try{e&&n&&"NaN"!==m&&"0"!==m&&i&&t&&d?(s(!0),d.setSlippage(parseFloat(null!=o?o:"0.5")),console.log("Fetching soulZap routes for LP Contract: ".concat(i)),await d.getZapData(e,t,m,i,3,null!=a?a:i).then(e=>{console.log(e),e.success?h(e):(h(null),p(e.error))})):h(null)}catch(e){console.error("Error fetching SoulZap data:",e),h(null)}finally{s(!1)}};l()},[d,e,m,i,3,a,t,n,o]),[u,v,c]};let eS=(e,t,n,l)=>{var i,o;let a=(0,T.U8)(t),{onSetOutputValue:d}=(0,I.yR)(),[u]=(0,ef.hT)(),s="ETH"===t?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":t,[c,p]=ek(l,s,null==a?void 0:a.decimals,e,n,u.toFixed()),v=null==p?void 0:null===(o=p.zapParams)||void 0===o?void 0:null===(i=o.liquidityPath)||void 0===i?void 0:i.lpAmount.toString();return(0,r.useEffect)(()=>{c?d("0"):d(null!=v?v:"0")},[v,c,d]),[c,p]};var eE=n(23848),eT=n(80892),eI=e=>e===ev.cH.QuickswapV2?eT.DEX.QUICKSWAP:e===ev.cH.ApeSwapV2?eT.DEX.APEBOND:e===ev.cH.PancakeSwapV2?eT.DEX.PANCAKESWAP:void 0,eP=n(62873);let eN={toPanelContainer:{position:"relative",width:"100%",height:"94px",background:"white3",padding:"10px",borderRadius:"10px",justifyContent:"space-between",flexDirection:"column"},cont:{width:"100%",height:"auto",justifyContent:"space-between"},tokensContainer:{minWidth:"max-content",height:"40px",background:"white4",padding:"5px 10px",borderRadius:"10px",alignItems:"center",justifyContent:"center",transition:"all .3s linear","&:active":{transform:"scale(0.9)"}},tokenSymbolText:{fontSize:"14px",margin:"0px 7.5px",textTransform:"uppercase"}};var eB=n(45129),eA=e=>{var t,n,l,i,a,d;let{onDismiss:u,lpAddress:c,liquidityDex:p,lpPrice:v,token0:h,token1:x}=e,[b,g]=(0,r.useState)(!1),[C,f]=(0,r.useState)(""),[w,k]=(0,r.useState)("ETH"),{account:S,provider:E,chainId:P}=(0,Z.useWeb3React)(),[B]=(0,N.Z)((0,o.tZ)(eC.Z,{})),A=(0,H.Hn)(),R=(0,ep.wV)(),U=(0,r.useContext)(ew.P),{onCurrencySelection:W}=(0,I.yR)(),[O,z]=eS(C,w,null!=c?c:"",eI(p)),X=(0,T.U8)(h),F=(0,T.U8)(x),j=(0,T.U8)(w),G=(0,T.U8)(c),V=null===(t=(0,y.ZP)(S,null!=G?G:void 0))||void 0===t?void 0:t.toSignificant(6),q=null!==(a=null==z?void 0:null===(l=z.zapParams)||void 0===l?void 0:null===(n=l.liquidityPath)||void 0===n?void 0:n.lpAmount.toString())&&void 0!==a?a:"0",K=new _.Z(q).div(new _.Z(10).pow(18)),$=(0,y.K5)(null!=S?S:void 0,[null!=j?j:void 0,null!=G?G:void 0]),Y=(0,r.useMemo)(()=>({[ex.gN.INPUT]:$[0],[ex.gN.OUTPUT]:$[1]}),[$]),Q=new _.Z(C).lte(new _.Z(null!==(d=null==Y?void 0:null===(i=Y.INPUT)||void 0===i?void 0:i.toExact())&&void 0!==d?d:"0")),J=(0,r.useCallback)((e,t)=>{f(""),e===ex.gN.INPUT?k(t[0].isToken?t[0].address:"ETH"):W(e,t)},[W]),ee=(0,r.useCallback)(e=>{let t={[ex.gN.INPUT]:(0,eE.i)(Y[ex.gN.INPUT]),[ex.gN.OUTPUT]:(0,eE.i)(Y[ex.gN.OUTPUT])};if(t){var n,l;f(null!==(l=null===(n=t[e])||void 0===n?void 0:n.toExact())&&void 0!==l?l:"")}},[Y]),et=(0,r.useCallback)(async()=>{if(U&&z)return console.log("Attempting zap tx"),console.log(z),g(!0),await U.zap(z).then(e=>{console.log(e),e.success?(console.log("Successful tx"),A(e.txHash,{type:M.i.ZAP}),null==E||E.waitForTransaction(e.txHash).then(()=>{g(!1),(0,eP.Z)({event:"zap",chain:P,data:{cat:"LP",token1:null==j?void 0:j.symbol,token2:null==G?void 0:G.symbol,amount:C}})}).catch(e=>{g(!1),console.error(e)})):(console.log("Failed tx"),g(!1),R(null==e?void 0:e.error))}).catch(e=>{console.log(e),g(!1),R(e)})},[A,P,null==j?void 0:j.symbol,null==G?void 0:G.symbol,E,U,R,C,z]),en=null==U?void 0:U.getZapContract().address,[el,ei]=(0,L.X)(C,w,en),eo=(0,r.useCallback)(()=>{g(!0),ei().finally(()=>{g(!1)})},[ei]);return(0,o.BX)(m.u_,{children:[(0,o.tZ)(eg.Z,{onDismiss:u,children:(0,o.BX)(m.kC,{sx:{width:"100%",justifyContent:"space-between"},children:[(0,o.tZ)(m.xv,{sx:{fontSize:"22px",fontWeight:700,lineHeight:"33px"},children:"Liquidity"}),(0,o.tZ)(m.kC,{sx:{cursor:"pointer",mr:"15px"},onClick:B,children:(0,o.tZ)(m.ny,{icon:"cog",width:"16px"})})]})}),(0,o.BX)(m.kC,{sx:{flexDirection:"column",pt:"30px",gap:"10px"},children:[(0,o.tZ)(eb.Z,{value:C,panelText:"From:",currency:j,otherCurrency:null,fieldType:ex.gN.INPUT,onCurrencySelect:e=>J(ex.gN.INPUT,[e]),onUserInput:e=>f(e),handleMaxInput:ee,isZapInput:!0,pricing:eB.n.PRICEGETTER}),(0,o.BX)(m.kC,{sx:{position:"relative",mt:"10px"},children:[(0,o.tZ)(m.xv,{children:"To:"}),(0,o.tZ)(s.xu,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:(0,o.tZ)(m.ny,{icon:"ZapArrow"})})]}),(0,o.BX)(m.kC,{sx:eN.toPanelContainer,children:[(0,o.BX)(m.kC,{sx:eN.cont,children:[(0,o.tZ)(m.Af,{value:null==K?void 0:K.toString(),onUserInput:()=>null}),(0,o.BX)(m.kC,{sx:eN.tokensContainer,children:[(0,o.tZ)(ey.Z,{currency0:X,currency1:F,size:30}),(0,o.BX)(m.xv,{sx:eN.tokenSymbolText,children:[null==F?void 0:F.symbol,"-",null==X?void 0:X.symbol]})]})]}),(0,o.BX)(m.kC,{sx:{width:"100%",justifyContent:"space-between"},children:[(0,o.tZ)(m.kC,{sx:{alignItems:"center",justifyContent:"center"},children:(0,o.tZ)(m.xv,{size:"12px",sx:{opacity:.8},children:v||"0.0"===q?"0.0"!==q&&v&&0!==v&&q?"$".concat((v*parseFloat(K.toString())).toFixed(2)):null:(0,o.tZ)(s.$j,{width:"15px",height:"15px"})})}),(0,o.tZ)(m.kC,{sx:{alignItems:"center"},children:S?(0,o.BX)(m.xv,{size:"12px",sx:{opacity:.8},children:["Balance: ",V||"loading",!V&&(0,o.tZ)(D.Z,{})]}):null})]})]}),el===L.UK.NOT_APPROVED||el===L.UK.PENDING?(0,o.tZ)(m.zx,{onClick:eo,fullWidth:!0,load:el===L.UK.PENDING||b,disable:el===L.UK.PENDING||b,children:b||el===L.UK.PENDING?"ENABLING":"ENABLE"}):(0,o.tZ)(m.zx,{onClick:et,fullWidth:!0,load:b||O,disabled:O||b||!z||!G||!Q,children:"BUY"}),(0,o.tZ)(m.kC,{sx:{marginTop:"10px",justifyContent:"center"},children:(0,o.tZ)(m.rU,{href:"https://apeswap.gitbook.io/apeswap-finance/product-and-features/exchange/liquidity",target:"_blank",sx:{textDecoration:"none"},children:(0,o.BX)(m.xv,{style:{fontSize:"12px",lineHeight:"18px",fontWeight:400,borderBottom:"1px solid"},children:["Learn more",">"]})})})]})]})},eR=n(76260),eD=r.memo(e=>{var t,n,l,i,r,a,c,p,v,h,x,b,y;let{bondIndex:g}=e,{chainId:C,account:f}=(0,Z.useWeb3React)(),{t:w}=(0,u.$G)(),k=X(g),S=null==k?void 0:k.billType,E=null==k?void 0:k.lpToken;null==E||E.address[C];let T=null==k?void 0:k.quoteToken,I=null==k?void 0:k.token;null==k||k.contractAddress[C];let P=null==E?void 0:null===(t=E.liquidityDex)||void 0===t?void 0:t[C],B=P&&(null===(l=ev.lz)||void 0===l?void 0:null===(n=l[P])||void 0===n?void 0:n[C]),A=B===ev.mm.External,R=()=>{var e,t;(null==E?void 0:null===(e=E.getLpUrl)||void 0===e?void 0:e[C])?window.open(null==E?void 0:null===(t=E.getLpUrl)||void 0===t?void 0:t[C],"_blank"):console.error("External lp url not found. Please contact support")},[D]=(0,N.Z)((0,o.tZ)(eA,{lpAddress:null==k?void 0:null===(r=k.lpToken)||void 0===r?void 0:null===(i=r.address)||void 0===i?void 0:i[C],token0:null==k?void 0:null===(c=k.token)||void 0===c?void 0:null===(a=c.address)||void 0===a?void 0:a[C],token1:null==k?void 0:null===(v=k.quoteToken)||void 0===v?void 0:null===(p=v.address)||void 0===p?void 0:p[C],liquidityDex:P,lpPrice:null==k?void 0:k.lpPrice}),!0,!1,"SoulZapAddLiquidity"),U=eZ(void 0,!0);return(0,o.tZ)(o.HY,{children:k&&("reserve"!==S?(0,o.tZ)(s.xu,{sx:d.getLpContainer,children:(0,o.BX)(m.zx,{disabled:!f,variant:"secondary",onClick:()=>A?R():B===ev.mm.SoulZap?D():U(I,T,"","",!1),sx:{width:"100%",fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:[w("Get LP"),(0,o.tZ)(m.kC,{sx:{ml:"5px"},children:A?(0,o.tZ)("img",{src:null!==(y=ev.NW[null!==(b=null==E?void 0:null===(h=E.liquidityDex)||void 0===h?void 0:h[C])&&void 0!==b?b:ev.cH.ApeSwapV2].icon)&&void 0!==y?y:"",width:20}):(0,o.tZ)(m.ny,{icon:"ZapIcon",color:"primaryButton"})})]})}):(null==k?void 0:k.contractAddress[C])!==eR.s&&(0,o.tZ)(s.xu,{sx:d.getLpContainer,children:(0,o.tZ)(m.zx,{sx:{width:"100%",fontSize:"14px"},onClick:()=>{var e,t;return window.open("/swap?outputCurrency=".concat(null==k?void 0:null===(t=k.lpToken)||void 0===t?void 0:null===(e=t.address)||void 0===e?void 0:e[C],"&outputChain=").concat(C),"_blank")},children:"Get ".concat(null==k?void 0:null===(x=k.lpToken)||void 0===x?void 0:x.symbol)})}))})}),eU=n(7353),eW=n(84236),eL=r.memo(e=>{var t,n,l;let{onDismiss:i,bondIndex:a,handlePurchase:d}=e,s=X(a),[c,p]=(0,r.useState)(!1),{t:v}=(0,u.$G)();return(0,o.BX)(m.u_,{onDismiss:i,children:[(0,o.BX)(m.kC,{sx:{alignItems:"center",justifyContent:"center"},mt:"10px",children:[(0,o.tZ)(m.hU,{icon:"close",color:"text",variant:"transparent",onClick:i,sx:{position:"absolute",right:"20px",top:"25px"}}),(0,o.BX)(m.xv,{sx:{fontSize:"35px",fontWeight:700},children:[(0,o.tZ)(m.ny,{icon:"error",width:"25px",color:"error"}),(0,o.tZ)("span",{sx:{margin:"0px 10px"},children:v("WARNING")}),(0,o.tZ)(m.ny,{icon:"error",width:"25px",color:"error"})]})]}),(0,o.tZ)(m.kC,{mt:"30px",mb:"30px",sx:{alignItems:"center",justifyContent:"center"},children:(0,o.tZ)(m.kC,{sx:{flexDirection:"column"},children:(0,o.tZ)(m.kC,{children:(0,o.BX)(m.xv,{style:{fontWeight:600},children:["The ",null==s?void 0:null===(t=s.earnToken)||void 0===t?void 0:t.symbol," you recieve from this Bond at a"," ",(0,o.BX)("span",{style:{color:"rgba(223, 65, 65, 1)"},children:[null==s?void 0:s.discount,"%"]})," discount rate is priced at"," ",(0,o.BX)("span",{style:{textDecoration:"underline"},children:["$",null==s?void 0:s.priceUsd]}),", which is higher than the current market rate of ",(0,o.BX)("span",{style:{textDecoration:"underline"},children:["$",null==s?void 0:null===(n=s.earnTokenPrice)||void 0===n?void 0:n.toFixed(4)," "]})]})})})}),(0,o.BX)(m.kC,{onClick:()=>p(e=>!e),sx:{cursor:"pointer",alignItems:"center",mt:"20px"},children:[(0,o.tZ)(m.Jg,{checked:c,onChange:()=>p(!c)}),(0,o.tZ)(m.xv,{sx:{ml:"10px",fontSize:"12px",fontWeight:500,lineHeight:"18px"},children:v("I understand that I am purchasing %billToken% at a price above the current market rate, and would like to continue.",{billToken:null!==(l=null==s?void 0:s.earnToken.symbol)&&void 0!==l?l:""})})]}),(0,o.tZ)(m.kC,{sx:{justifyContent:"center",mt:"15px"},children:(0,o.tZ)(eW.S,{onClick:()=>{d(),i&&i()},disabled:!c,children:v("Continue")})})]})}),eO=r.memo(e=>{let{onDismiss:t,bondIndex:n,handlePurchase:l}=e;X(n);let[i,a]=(0,r.useState)(!1),{t:d}=(0,u.$G)();return(0,o.BX)(m.u_,{onDismiss:t,children:[(0,o.BX)(m.kC,{sx:{alignItems:"center",justifyContent:"center"},mt:"10px",children:[(0,o.tZ)(m.hU,{icon:"close",color:"text",variant:"transparent",onClick:t,sx:{position:"absolute",right:"20px",top:"25px"}}),(0,o.BX)(m.xv,{sx:{fontSize:"35px",fontWeight:700},children:[(0,o.tZ)(m.ny,{icon:"error",width:"25px",color:"error"}),(0,o.tZ)("span",{sx:{margin:"0px 10px"},children:d("WARNING")}),(0,o.tZ)(m.ny,{icon:"error",width:"25px",color:"error"})]})]}),(0,o.tZ)(m.kC,{mt:"30px",mb:"30px",sx:{alignItems:"center",justifyContent:"center"},children:(0,o.tZ)(m.kC,{sx:{flexDirection:"column"},children:(0,o.tZ)(m.kC,{children:(0,o.tZ)(m.xv,{style:{fontWeight:600},children:"This is a pre-sale of the ABOND CEX Fund Bond. By purchasing now, you'll receive temporary ACF tokens representing your purchase. You'll need to keep this new token, which you'll be able to exchange for your actual ABOND Bond starting on December 14th."})})})}),(0,o.BX)(m.kC,{onClick:()=>a(e=>!e),sx:{cursor:"pointer",alignItems:"center",mt:"20px"},children:[(0,o.tZ)(m.Jg,{checked:i,onChange:()=>a(!i)}),(0,o.tZ)(m.xv,{sx:{ml:"10px",fontSize:"12px",fontWeight:500,lineHeight:"18px"},children:"I understand that I am purchasing an ABOND CEX Fund Bond early and will receive ACF tokens until December 14th, when the actual ABOND Bonds will become redeemable"})]}),(0,o.tZ)(m.kC,{sx:{justifyContent:"center",mt:"15px"},children:(0,o.tZ)(eW.S,{onClick:()=>{l(),t&&t()},disabled:!i,children:d("Continue")})})]})}),ez=n(81981),eX=n(55083),eF=r.memo(e=>{var t,n,l,a,u,s,c,p,v;let{purchasePath:h,onBillId:x,bondIndex:b,inputTokenAddress:y,onTransactionSubmitted:g}=e,{chainId:C=O.SupportedChainId.BSC,account:f=""}=(0,Z.useWeb3React)(),{typedValue:w}=(0,I.NR)(),k=(0,V.T)(),[S]=(0,ec.Z)(),{mutate:E}=es(),T=(0,ep.wV)(),P=X(b),B=null==P?void 0:null===(t=P.contractAddress)||void 0===t?void 0:t[C],A=null!==(s=null==P?void 0:P.billNftAddress)&&void 0!==s?s:null==P?void 0:P.billNnftAddress[C],[R,D]=(0,r.useState)(!1),[U,W]=(0,L.X)(w,y,B),z=(null==P?void 0:null===(n=P.contractAddress)||void 0===n?void 0:n[C])===eR.s,F=null===(l=(0,ez.Z)().find(e=>{var t;return(null==e?void 0:null===(t=e.address)||void 0===t?void 0:t[C])===eX.v_[C]}))||void 0===l?void 0:l.price,H=new _.Z(null!=F?F:0).times(new _.Z(10).pow(18)).toString(),{onBuyBill:M}=j(null!=B?B:"",w,null!==(c=null==P?void 0:P.lpPrice)&&void 0!==c?c:z?1:0,null!==(p=null==P?void 0:P.price)&&void 0!==p?p:z?H:"0",null==P?void 0:null===(u=P.lpToken)||void 0===u?void 0:null===(a=u.decimals)||void 0===a?void 0:a[C]),K=parseFloat(w)*(null!==(v=null==P?void 0:P.lpPrice)&&void 0!==v?v:0),$=(0,r.useCallback)(async()=>{console.log("LP purchase"),D(!0),g&&g(!0),await M().then(e=>{var t;G(e,A,x),k((0,q.yR)(C,f));let n={chainId:C,transactionHash:null==e?void 0:e.transactionHash,referenceId:null==S?void 0:S.referenceId,billContract:B};E(n),D(!1),g&&g(!1),(0,eP.Z)({event:"bond",chain:C,data:{cat:"lp-buy",type:null!==(t=null==P?void 0:P.billType)&&void 0!==t?t:"",address:B,typedValue:w,usdAmount:K}})}).catch(e=>{console.error(e),T(e),D(!1),g&&g(!1)})},[g,M,A,x,k,C,f,null==S?void 0:S.referenceId,B,E,null==P?void 0:P.billType,w,K,T]),[Y]=(0,N.Z)((0,o.tZ)(eL,{bondIndex:b,handlePurchase:$}),!0,!0,"bondWarningModal".concat(b)),[Q]=(0,N.Z)((0,o.tZ)(eO,{bondIndex:b,handlePurchase:$}),!0,!0,"bondTypeWarningModal".concat(b));return(0,o.tZ)(m.kC,{sx:{width:"100%",flexWrap:"wrap-reverse","@media screen and (min-width: 1180px)":{flexWrap:"wrap"},justifyContent:"space-between"},children:(0,o.BX)(m.kC,{sx:d.buyButtonContainer,children:[(0,o.tZ)(eD,{bondIndex:b}),(0,o.tZ)(m.kC,{sx:{width:(null==P?void 0:P.contractAddress[C])===eR.s?"100%":"62%"},children:f?h===i.Loading?(0,o.tZ)(m.zx,{sx:{width:"100%",fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},disabled:!0,children:"Loading"}):U===L.UK.APPROVED?(0,o.tZ)(m.zx,{onClick:()=>{(null==P?void 0:P.contractAddress[C])===eR.T?Q():0>parseFloat(null==P?void 0:P.discount)?Y():$()},load:R,disabled:R||!w||0===parseFloat(w),fullWidth:!0,sx:{fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:"Buy"}):(0,o.tZ)(m.zx,{onClick:()=>{D(!0),W().then(()=>D(!1)).catch(()=>D(!1))},load:U===L.UK.PENDING||R,disabled:U===L.UK.PENDING||R||!w||0===parseFloat(w),fullWidth:!0,sx:{fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:R||U===L.UK.PENDING?"Enabling":"Enable"}):(0,o.tZ)(eU.Z,{})})]})})}),e_=n(32207),eH=n(91218),eM=n(29789),ej=n(21125),eG=r.memo(e=>{var t,n,l,a,u,s,c,p,v,h,x,b,g,C,f,w,k,S,E;let{purchasePath:P,onBillId:B,bondIndex:A,inputTokenAddress:R,onTransactionSubmitted:D}=e,{typedValue:W}=(0,I.NR)(),{chainId:O,provider:z,account:F}=(0,Z.useWeb3React)(),H=(0,V.T)(),M=(0,ep.wV)(),j=X(A),{billNftAddress:G,earnTokenPrice:K,maxTotalPayOut:$,totalPayoutGiven:Y,earnToken:Q,maxPayoutTokens:J,price:ee}=null!=j?j:{},et=null==j?void 0:null===(t=j.contractAddress)||void 0===t?void 0:t[O],[en,el]=(0,r.useState)(!1),ei=(0,T.U8)(R),eo=(0,y.ZP)(F,null!=ei?ei:void 0),er=parseFloat(null!==(w=null==eo?void 0:eo.toExact())&&void 0!==w?w:"0")<parseFloat(W),ea=O?U.AE[O]:void 0,[ed,eu]=(0,L.X)(W,R,ea),{zap:ev,zapRouteState:eh}=(0,I.um)(),ex=null==ev?void 0:null===(l=ev.pairOut)||void 0===l?void 0:null===(n=l.liquidityMinted)||void 0===n?void 0:n.toExact(),[em]=(0,ef.hT)(),{recipient:eZ,typedValue:eb}=(0,I.NR)(),ey=new _.Z(null!==(k=null==j?void 0:j.price)&&void 0!==k?k:0).times(102).div(100).toFixed(0),[eg]=(0,ec.Z)(),{mutate:eC}=es(),{callback:ew}=(0,eM.P)(ev,e_.pA.ZAP_T_BILL,em,eZ,et||"",ey),ek=(0,r.useCallback)(async()=>{console.log("Attempting ApeSwap zap"),el(!0),D&&D(!0),await ew().then(e=>{let t={chainId:O,transactionHash:e,referenceId:null==eg?void 0:eg.referenceId,billContract:null!=et?et:""};eC(t),null==z||z.waitForTransaction(e).then(t=>{var n,l,i,o,r,a,d,u,s,c,p,v;el(!1);let{logs:h}=t,x=h.find(e=>e.address.toLowerCase()===(null==G?void 0:G.toLowerCase())),m=null==x?void 0:x.topics[x.topics.length-1],Z=parseInt(null!=m?m:"",16);B&&B(Z.toString(),e),(0,eP.Z)({event:"zap",chain:O,data:{cat:"bill",token1:null==ev?void 0:null===(l=ev.currencyIn)||void 0===l?void 0:null===(n=l.currency)||void 0===n?void 0:n.symbol,token2:"".concat(null==ev?void 0:null===(o=ev.currencyOut1)||void 0===o?void 0:null===(i=o.outputCurrency)||void 0===i?void 0:i.symbol,"-").concat(null==ev?void 0:null===(a=ev.currencyOut2)||void 0===a?void 0:null===(r=a.outputCurrency)||void 0===r?void 0:r.symbol),amount:(0,eH.mW)(new _.Z(null==ev?void 0:null===(u=ev.currencyIn)||void 0===u?void 0:null===(d=u.inputAmount)||void 0===d?void 0:d.toString()))}}),(0,eP.Z)({event:"bond",chain:O,data:{cat:"zap-buy",type:null!==(p=null==j?void 0:j.billType)&&void 0!==p?p:"",address:et,typedValue:eb,usdAmount:parseFloat(null==ev?void 0:null===(c=ev.pairOut)||void 0===c?void 0:null===(s=c.liquidityMinted)||void 0===s?void 0:s.toExact())*(null!==(v=null==j?void 0:j.lpPrice)&&void 0!==v?v:1)}}),H((0,q.yR)(O,null!=F?F:""))}).catch(e=>{el(!1),console.error(e),D&&D(!1)})}).catch(e=>{console.error(e),M(e),el(!1),D&&D(!1)})},[F,null==j?void 0:j.billType,null==j?void 0:j.lpPrice,et,G,O,null==eg?void 0:eg.referenceId,H,B,D,eC,z,M,eb,null==ev?void 0:null===(u=ev.currencyIn)||void 0===u?void 0:null===(a=u.currency)||void 0===a?void 0:a.symbol,null==ev?void 0:null===(s=ev.currencyIn)||void 0===s?void 0:s.inputAmount,null==ev?void 0:null===(p=ev.currencyOut1)||void 0===p?void 0:null===(c=p.outputCurrency)||void 0===c?void 0:c.symbol,null==ev?void 0:null===(h=ev.currencyOut2)||void 0===h?void 0:null===(v=h.outputCurrency)||void 0===v?void 0:v.symbol,null==ev?void 0:null===(x=ev.pairOut)||void 0===x?void 0:x.liquidityMinted,ew]),eS=new _.Z(ex).times(new _.Z(10).pow(18)),eE=null===(b=eS.div(new _.Z(null!=ee?ee:0)))||void 0===b?void 0:b.toString(),eT=null===(C=new _.Z(null!=$?$:0).minus(new _.Z(null!=Y?Y:0)))||void 0===C?void 0:C.div(new _.Z(10).pow(null!==(S=null==Q?void 0:null===(g=Q.decimals)||void 0===g?void 0:g[O])&&void 0!==S?S:18)),eI=new _.Z(5).div(null!=K?K:0),eN=eT.minus(eI),eB=new _.Z(null!=J?J:0).div(new _.Z(10).pow(null!==(E=null==Q?void 0:null===(f=Q.decimals)||void 0===f?void 0:f[O])&&void 0!==E?E:18)),eA=eB.lt(eN)?eB:eN,eR=eA.toNumber()<parseFloat(eE),[eW]=(0,N.Z)((0,o.tZ)(eL,{bondIndex:A,handlePurchase:ek}),!0,!0,"bondWarningModal".concat(A));return(0,o.tZ)(m.kC,{sx:{flexWrap:"wrap-reverse",width:"100%","@media screen and (min-width: 1180px)":{flexWrap:"wrap"},justifyContent:"space-between"},children:(0,o.BX)(m.kC,{sx:d.buyButtonContainer,children:[(0,o.tZ)(eD,{bondIndex:A}),(0,o.tZ)(m.kC,{sx:{width:"62%"},children:F?P===i.Loading?(0,o.tZ)(m.zx,{sx:{width:"100%",fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},disabled:!0,children:"Loading"}):ed===L.UK.APPROVED?(0,o.tZ)(m.zx,{onClick:()=>{0>parseFloat(null==j?void 0:j.discount)?eW():ek()},load:en||eh===ej.q.LOADING,disabled:en||!W||0===parseFloat(W)||eh===ej.q.LOADING||eh===ej.q.NO_ROUTE_FOUND||er||eR,fullWidth:!0,sx:{fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:eh===ej.q.LOADING?"Loading":eh===ej.q.NO_ROUTE_FOUND?"No Route found":er?"Not enough Balance":eR?"Exceeds limit":"Buy"}):(0,o.tZ)(m.zx,{onClick:()=>{el(!0),eu().then(()=>el(!1)).catch(()=>el(!1))},load:ed===L.UK.PENDING||en,disabled:ed===L.UK.PENDING||en||!W||0===parseFloat(W),fullWidth:!0,children:en||ed===L.UK.PENDING?"Enabling":"Enable"}):(0,o.tZ)(eU.Z,{})})]})})}),eV=(e,t,n,l,i,o,a)=>{let{account:d}=(0,Z.useWeb3React)(),u=(0,r.useContext)(ew.P),[s,c]=(0,r.useState)(!0),[p,v]=(0,r.useState)(""),[h,x]=(0,r.useState)(null),m=new _.Z(null!=l?l:"0").toFixed(18,5),b=new _.Z(null!=m?m:"0").times(new _.Z(10).pow(null!=n?n:18)).toString();return(0,r.useEffect)(()=>{let l=async()=>{try{e&&n&&"NaN"!==b&&"0"!==b&&i&&t&&u?(c(!0),u.setSlippage(parseFloat(null!=a?a:"0.5")),o?(console.log("Fetching soulZap routes for Bond Contract: ".concat(i)),await u.getZapDataBond(e,t,b,i,3,null!=d?d:i).then(e=>{console.log(e),e.success&&x(e)}).catch(e=>{console.log(e)})):(console.log("Fetching soulZap routes for LP Contract: ".concat(i)),await u.getZapData(e,t,b,i,3,null!=d?d:i).then(e=>{console.log(e),e.success?x(e):(x(null),v(e.error))}))):x(null)}catch(e){console.error("Error fetching SoulZap data:",e),x(null)}finally{c(!1)}};l()},[u,e,b,i,3,d,t,n,o,a]),[s,h,p]};let eq=(e,t,n,l,i)=>{var o,a;let d=(0,T.U8)(t),{onSetOutputValue:u}=(0,I.yR)(),[s]=(0,ef.hT)(),c="ETH"===t?"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE":t,[p,v]=eV(l,c,null==d?void 0:d.decimals,e,n,i,s.toFixed()),h=null==v?void 0:null===(a=v.zapParams)||void 0===a?void 0:null===(o=a.liquidityPath)||void 0===o?void 0:o.lpAmount.toString();return(0,r.useEffect)(()=>{p?u("0"):u(null!=h?h:"0")},[h,p,u]),[p,v]};var eK=r.memo(e=>{var t,n,l,a,u,s,c,p,v,h,x,b,g,C,f,w,k;let{purchasePath:S,bondIndex:E,inputTokenAddress:P,onBillId:B,onTransactionSubmitted:A}=e,{chainId:R,account:D,provider:U}=(0,Z.useWeb3React)(),W=(0,V.T)(),O=(0,ep.wV)(),[z]=(0,ec.Z)(),{mutate:F}=es(),j=(0,H.Hn)(),G=X(E),{billNftAddress:K,earnTokenPrice:$,maxTotalPayOut:Y,totalPayoutGiven:Q,earnToken:J,maxPayoutTokens:ee,price:et}=null!=G?G:{},en=null!==(b=null==G?void 0:null===(t=G.contractAddress)||void 0===t?void 0:t[R])&&void 0!==b?b:"",el=null==G?void 0:null===(l=G.lpToken)||void 0===l?void 0:null===(n=l.liquidityDex)||void 0===n?void 0:n[R],[ei,eo]=(0,r.useState)(!1),er=(0,r.useContext)(ew.P),{typedValue:ea,INPUT:ed}=(0,I.NR)(),[eu,ev]=eq(ea,ed.currencyId,en,eI(el),!0),eh=null!==(g=null==ev?void 0:null===(u=ev.zapParams)||void 0===u?void 0:null===(a=u.liquidityPath)||void 0===a?void 0:a.lpAmount.toString())&&void 0!==g?g:"0",ex=(0,T.U8)(P),em=(0,y.ZP)(D,null!=ex?ex:void 0),eZ=parseFloat(null!==(C=null==em?void 0:em.toExact())&&void 0!==C?C:"0")<parseFloat(ea),eb=(0,r.useCallback)(async()=>{if(er&&ev)return console.log("Attempting SoulZap tx"),console.log(ev),eo(!0),A&&A(!0),await er.zapBond(ev).then(e=>{if(console.log("Successful tx"),console.log(e),e.success){j(e.txHash,{type:M.i.ZAP});let t={chainId:R,transactionHash:e.txHash,referenceId:null==z?void 0:z.referenceId,billContract:null!=en?en:""};F(t),null==U||U.waitForTransaction(e.txHash).then(t=>{var n;eo(!1);let{logs:l}=t,i=l.find(e=>e.address.toLowerCase()===(null==K?void 0:K.toLowerCase())),o=null==i?void 0:i.topics[i.topics.length-1],r=parseInt(null!=o?o:"",16);B&&B(r.toString(),e.txHash),(0,eP.Z)({event:"zap",chain:R,data:{cat:"bill",token1:null==ex?void 0:ex.symbol,token2:"".concat(null==G?void 0:G.lpToken.symbol),amount:ea}}),(0,eP.Z)({event:"bond",chain:R,data:{cat:"zap-buy",type:null!==(n=null==G?void 0:G.billType)&&void 0!==n?n:"",address:en,typedValue:ea}}),W((0,q.yR)(R,null!=D?D:""))}).catch(e=>{eo(!1),console.error(e),A&&A(!1)})}else eo(!1),console.log(e),A&&A(!1)}).catch(e=>{eo(!1),console.log(e),O(e),A&&A(!1)})},[D,j,null==G?void 0:G.billType,null==G?void 0:G.lpToken.symbol,en,K,R,null==z?void 0:z.referenceId,W,ea,null==ex?void 0:ex.symbol,B,A,F,U,er,O,ev]),ey=null==er?void 0:er.getZapContract().address,[eg,eC]=(0,L.X)(ea,P,ey),ef=new _.Z(eh).div(new _.Z(10).pow(null!==(f=null==G?void 0:null===(c=G.lpToken)||void 0===c?void 0:null===(s=c.decimals)||void 0===s?void 0:s[R])&&void 0!==f?f:18)),ek=null===(p=ef.div(new _.Z(null!=et?et:0)))||void 0===p?void 0:p.toString(),eS=null===(h=new _.Z(null!=Y?Y:0).minus(new _.Z(null!=Q?Q:0)))||void 0===h?void 0:h.div(new _.Z(10).pow(null!==(w=null==J?void 0:null===(v=J.decimals)||void 0===v?void 0:v[R])&&void 0!==w?w:18)),eE=new _.Z(5).div(null!=$?$:0),eT=eS.minus(eE),eN=new _.Z(null!=ee?ee:0).div(new _.Z(10).pow(null!==(k=null==J?void 0:null===(x=J.decimals)||void 0===x?void 0:x[R])&&void 0!==k?k:18)),eB=eN.lt(eT)?eN:eT,eA=eB.toNumber()<parseFloat(ek),[eR]=(0,N.Z)((0,o.tZ)(eL,{bondIndex:E,handlePurchase:eb}),!0,!0,"bondWarningModal".concat(E));return(0,o.tZ)(m.kC,{sx:{flexWrap:"wrap-reverse",width:"100%","@media screen and (min-width: 1180px)":{flexWrap:"wrap"},justifyContent:"space-between"},children:(0,o.BX)(m.kC,{sx:d.buyButtonContainer,children:[(0,o.tZ)(eD,{bondIndex:E}),(0,o.tZ)(m.kC,{sx:{width:"62%"},children:D?S===i.Loading?(0,o.tZ)(m.zx,{sx:{width:"100%",fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},disabled:!0,children:"Loading"}):eg===L.UK.APPROVED?(0,o.tZ)(m.zx,{onClick:()=>{0>parseFloat(null==G?void 0:G.discount)?eR():eb()},load:ei||eu,disabled:ei||!ea||0===parseFloat(ea)||eu||eZ||eA,fullWidth:!0,sx:{fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:eu?"Loading":eZ?"Not enough Balance":eA?"Exceeds limit":"Buy"}):(0,o.tZ)(m.zx,{onClick:()=>{eo(!0),eC().then(()=>eo(!1)).catch(()=>eo(!1))},load:eg===L.UK.PENDING||ei,disabled:eg===L.UK.PENDING||ei||!ea||0===parseFloat(ea),fullWidth:!0,sx:{fontSize:["14px","14px","14px","16px"],px:["10px","10px","10px","16px"]},children:ei||eg===L.UK.PENDING?"Enabling":"Enable"}):(0,o.tZ)(eU.Z,{})})]})})}),e$=r.memo(e=>{let{purchasePath:t,bondIndex:n,onBillId:l,inputTokenAddress:r,inputTokenDecimals:a,onTransactionSubmitted:d}=e;return(()=>{switch(!0){case t===i.LpPurchase:return(0,o.tZ)(eF,{purchasePath:t,bondIndex:n,inputTokenAddress:r,onBillId:l,onTransactionSubmitted:d});case t===i.ApeZap:return(0,o.tZ)(eG,{purchasePath:t,bondIndex:n,inputTokenAddress:r,onBillId:l,onTransactionSubmitted:d});case t===i.SoulZap:return(0,o.tZ)(eK,{purchasePath:t,bondIndex:n,inputTokenAddress:r,onBillId:l,onTransactionSubmitted:d});default:return(0,o.tZ)(o.HY,{})}})()}),eY=n(9654);function eQ(e){let t=new _.Z(e);return t.isNaN()?"0":t.gt(1e4)?t.toNumber().toLocaleString(void 0):parseFloat(t.toPrecision(4)).toLocaleString(void 0)}var eJ=e=>{var t,n,l;let{inputCurrencies:i,inputPrice:r,bondPrice:a,outputDecimals:d,earnTokenSymbol:u,earnTokenPrice:c,isReserveBond:p,vestingTime:v}=e,{typedValue:h,outputValue:x}=(0,I.NR)(),Z=new _.Z(h?p?h:x:0).times(new _.Z(10).pow(18)).div(new _.Z(null!=a?a:0)).div(new _.Z(10).pow(d)),b=!!i[1],y=new _.Z(h).times(new _.Z(10).pow(18)),g=y.div(new _.Z(null!=a?a:0)),C=b||p?g:Z,f=i[1]?"".concat(null==i?void 0:null===(t=i[0])||void 0===t?void 0:t.symbol,"-").concat(null==i?void 0:null===(n=i[1])||void 0===n?void 0:n.symbol):null==i?void 0:null===(l=i[0])||void 0===l?void 0:l.symbol,w="0"===x?"0":h,k=eQ(w),S=(parseFloat(w)*r).toString(),E=eQ(C.toString()),T=(C.toNumber()*c).toString(),P=eQ((parseFloat(T)-parseFloat(S)).toString()),N=(0,eY.Z)(v,!0);return(0,o.BX)(m.kC,{sx:{flexDirection:"column",mb:"10px"},children:[(0,o.BX)(m.kC,{sx:{justifyContent:"space-between"},children:[(0,o.tZ)(m.xv,{variant:"sm",weight:"light",size:"12px",children:"You spend:"}),(0,o.BX)(m.xv,{variant:"sm",weight:"medium",size:"12px",children:[k," ",f," = $ ",eQ(S)]})]}),(0,o.BX)(m.kC,{sx:{justifyContent:"space-between",alignItems:"center"},children:[(0,o.BX)(m.kC,{sx:{alignItems:"center"},children:[(0,o.tZ)(m.xv,{variant:"sm",weight:"light",size:"12px",children:"Premium:"}),(0,o.tZ)(m.u,{body:(0,o.tZ)(m.xv,{children:"This is the dollar value of the additional tokens you’ll receive at current market price."}),width:"250px",transformTip:"translate(-5%, -5%)",placement:"bottomLeft",children:(0,o.tZ)(s.xu,{sx:{ml:"5px"},children:(0,o.tZ)(m.ny,{icon:"questionCircle",width:"12px"})})})]}),(0,o.BX)(m.xv,{variant:"sm",weight:"medium",color:0>parseFloat(P)?"#DF4141":"#38A611",size:"12px",children:["$ ",P]})]}),(0,o.BX)(m.kC,{sx:{justifyContent:"space-between"},children:[(0,o.BX)(m.xv,{variant:"sm",weight:"light",size:"12px",children:["You get (over ",N.days," days):"]}),(0,o.BX)(m.xv,{variant:"sm",weight:"medium",size:"12px",children:[E," ",u," = $ ",eQ(T)]})]})]})},e0=n(25115),e1=e=>{var t,n,l,u,s,c,p,v,h,x,b,g,C;let{bill:f,onBillId:w,onTransactionSubmitted:k}=e,{token:S,quoteToken:E,lpToken:P,contractAddress:N,price:B,lpPrice:A,billType:R,earnTokenPrice:D}=f,{chainId:L=O.SupportedChainId.BSC,account:z}=(0,Z.useWeb3React)(),{typedValue:X}=(0,I.NR)(),F={currencyA:(0,T.U8)(S.address[L]),currencyB:(0,T.U8)(E.address[L])},[_,H]=(0,r.useState)(F.currencyA),[M,j]=(0,r.useState)(F.currencyB),G=[_,M],V=null===(t=P.liquidityDex)||void 0===t?void 0:t[L],q=V&&(null===(n=ev.lz[V])||void 0===n?void 0:n[L]),K=V&&(null===(l=ev.n_[L])||void 0===l?void 0:l[V]),$=null!==(p=P.address[L])&&void 0!==p?p:"",Y=(0,T.U8)($),Q=(0,y.ZP)(null!=z?z:void 0,G[1]?null!==(v=null!=Y?Y:_)&&void 0!==v?v:void 0:null!=_?_:void 0),{onCurrencySelection:J,onUserInput:ee}=(0,I.yR)(),et=M&&q!==ev.mm.ZapV1?Y:_,en=(null==et?void 0:et.isNative)?"ETH":null!==(h=null==et?void 0:et.address)&&void 0!==h?h:"",el=(0,r.useCallback)(e=>{ee(a.gN.INPUT,e)},[ee]);(0,r.useEffect)(()=>{el("")},[]);let ei=(0,r.useCallback)(()=>{var e,t;el(null!==(t=null===(e=(0,eE.i)(Q))||void 0===e?void 0:e.toExact())&&void 0!==t?t:"")},[el,Q]),eo=(0,r.useCallback)(e=>{var t;H(null==e?void 0:e.currencyA),j(null!==(t=null==e?void 0:e.currencyB)&&void 0!==t?t:null),el(""),(null==e?void 0:e.currencyB)||(J(a.gN.INPUT,[e.currencyA]),J(a.gN.OUTPUT,[null==F?void 0:F.currencyA,null==F?void 0:F.currencyB]))},[F.currencyA,F.currencyB,J,el]),er=L?U.AE[L]:void 0,[ea]=(0,e0.Z)(G[1]?Y:G[0],!!G[1]),ed=G[1]?A:ea,eu=(null==f?void 0:null===(u=f.contractAddress)||void 0===u?void 0:u[L])===eR.s,es=(0,ep.in)();return(0,o.BX)(m.kC,{sx:d.buyContainer,children:[(0,o.tZ)(eJ,{inputCurrencies:"reserve"!==R?G:[G[0]],inputPrice:eu?1:null!=ed?ed:0,bondPrice:eu?"30000000000000000":B,outputDecimals:null!==(x=null==f?void 0:null===(c=f.lpToken)||void 0===c?void 0:null===(s=c.decimals)||void 0===s?void 0:s[L])&&void 0!==x?x:18,earnTokenSymbol:null!==(b=null==f?void 0:f.earnToken.symbol)&&void 0!==b?b:"",earnTokenPrice:eu?parseFloat(null!=es?es:"0"):null!=D?D:0,isReserveBond:"reserve"===R,vestingTime:parseFloat(null!==(g=f.vestingTime)&&void 0!==g?g:"0")}),(0,o.tZ)(m.kC,{sx:{flexWrap:"wrap"},children:(0,o.tZ)(W,{handleMaxInput:ei,onUserInput:el,value:X,onCurrencySelect:eo,inputCurrencies:"reserve"!==R?G:[G[0]],lpList:[F],principalToken:Y,enableZap:"reserve"!==R&&q!==ev.mm.External&&!!er,usdVal:eu?1:null!=ed?ed:0,dexData:K})}),(0,o.tZ)(m.kC,{sx:d.detailsContainer,children:(0,o.tZ)(e$,{purchasePath:(()=>{switch(!0){case!!M:return i.LpPurchase;case q===ev.mm.ZapV1:return i.ApeZap;case q===ev.mm.SoulZap:return i.SoulZap;default:return i.Loading}})(),bondIndex:f.index,onBillId:w,inputTokenAddress:en,inputTokenDecimals:null!==(C=null==et?void 0:et.decimals)&&void 0!==C?C:18,onTransactionSubmitted:k})})]})}},84236:function(e,t,n){n.d(t,{S:function(){return o},W:function(){return r}});var l=n(10166),i=n(5808);let o=(0,l.Z)(i.zx,{target:"e1sv6a5g0"})("border-radius:10px;font-weight:700;padding:10px 20px;width:100%;min-width:",e=>{let{buttonSize:t}=e;return t||"145px"},";max-width:",e=>{let{buttonSize:t}=e;return t||"145px"},";height:44px;"),r=(0,l.Z)(i.kC,{target:"e1sv6a5g1"})("position:relative;flex-direction:column;")}}]);
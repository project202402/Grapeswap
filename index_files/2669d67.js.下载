(window.webpackJsonp=window.webpackJsonp||[]).push([[17,29,30,31,32,33,34,38,39,40,163,205,271,272,274,276,291],{1129:function(t,e,n){"use strict";n.r(e);var o={props:{hideText:{type:Boolean,default:!1}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}}),t._v(" "),t.hideText?t._e():e("span",{staticClass:"ml-2"},[t._v("Processing...")])])}),[],!1,null,null,null);e.default=component.exports},1130:function(t,e,n){"use strict";e.a={data:()=>({header:null,steps:[],successMessage:null,totalTxs:0}),computed:{},watch:{},methods:{initLoading(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$store.commit("loading-modal/RESET"),this.$bvModal.show("loading-modal"),this.header&&this.$store.commit("loading-modal/UPDATE_HEADER",this.header),this.successMessage&&this.$store.commit("loading-modal/UPDATE_SUCCESS_MESSAGE",this.successMessage),this.steps&&this.$store.commit("loading-modal/UPDATE_STEPS",this.steps),this.totalTxs>0&&this.$store.commit("loading-modal/UPDATE_TOTAL_TXS",this.totalTxs),this.$bvModal.hide(t)},async checkTx(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.error)return this.txError(t.error),!0;const n=await t.tx.wait();return!n.status||Number(1!==n.status)?(this.txError("Transaction rejected."),!0):(this.$store.commit("loading-modal/PUSH_PASSED_TX",t.tx),e&&this.txSuccess(),!1)},incrementStep(){this.$store.commit("loading-modal/INCREMENT_ACTIVE_STEP")},setTxsLength(t){this.$store.commit("loading-modal/UPDATE_TOTAL_TXS",t)},confirmPassedTx(t){this.$store.commit("loading-modal/PUSH_PASSED_TX",t)},txSuccess(){this.$store.commit("loading-modal/UPDATE_SUCCESS",!0)},txError(t){this.$store.commit("loading-modal/UPDATE_ERROR",t)}}}},1139:function(t,e,n){"use strict";n.r(e);var o={props:{isLarge:{type:Boolean,default:!1}},computed:{buttonSize(){return this.isLarge?"-lg":""}},methods:{async connectWallet(){await this.$connectWallet.connect()}}},r=n(23),component=Object(r.a)(o,(function(){var t=this;return(0,t._self._c)("b-button",{class:"btn".concat(t.buttonSize," w-100"),attrs:{variant:"primary"},on:{click:function(e){return t.connectWallet()}}},[t._v("\n  Connect Wallet\n")])}),[],!1,null,null,null);e.default=component.exports},1143:function(t,e,n){"use strict";n(8);e.a={data:()=>({lastRefreshTime:0,refreshIntervalId:null,defaultLoaded:!1,loadDefaultOnCreatedOrInitialized:!0,refreshPeriod:15e3,refreshOnAccountChanged:!1,refreshDefaultsOnAccountChanged:!1}),computed:{account(){return this.$store.getters["web3-provider/account"]},defaultRegistrationList:()=>[],registrationList:()=>[],isIdle(){return this.$store._vm.isAppIdle},isInitialized(){return this.$store.getters["general/isDataInitialized"]}},watch:{isIdle(t,e){e&&this.refresh()},isInitialized(){this.loadDefaultOnCreatedOrInitialized&&this.refreshDefaults()},async account(){this.defaultLoaded&&(this.refreshDefaultsOnAccountChanged&&await this.refreshDefaults(),this.refreshOnAccountChanged&&(this.$store.commit("general/setIsTokenDataInitialized",!1),await this.refresh()))}},methods:{registerTo(t,e){this.registrationList.push({func:t,params:e})},initRefreshInterval(){this.refreshIntervalId=setInterval((async()=>{await this.refresh()}),this.refreshPeriod)},async refresh(){if(this.isIdle)return;const t=[];for(const e of this.registrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.lastRefreshTime=Number(new Date)}))},async refreshDefaults(){const t=[];for(const e of this.defaultRegistrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.defaultLoaded=!0}))}},created(){this.loadDefaultOnCreatedOrInitialized&&this.isInitialized&&this.refreshDefaults()},mounted(){this.initRefreshInterval()},beforeDestroy(){this.defaultLoaded=!1,this.refreshIntervalId&&clearInterval(this.refreshIntervalId)}}},1144:function(t,e,n){"use strict";n.r(e);n(8);var o=n(27),r=n(1146),l=n(21),c=n(103),d=n(416),h=n(17),m={components:{Modal:c.default,TokenImg:d.default,ParticularTokensList:r.default},props:{modalId:{type:String,default:null},tokens:{type:Array,default:()=>[]},importMode:{type:Boolean,default:!1},showTopTraded:{type:Boolean,default:!0}},data:()=>({search:"",isSearching:!1,searchedTokens:[],isImporting:!1}),computed:{filteredTokens(){const t=this.tokens.concat(this.searchedTokens).filter((t=>t.symbol.toLowerCase().includes(this.search.toLowerCase())||t.address.toLowerCase()===this.search.toLowerCase()));return this.sortTokens(t)},commonTokens(){return[...this.tokens.filter((t=>t.isNative||t.isWNative)),...this.tokens.filter((t=>t.common&&!t.isNative&&!t.isWNative)).sort(((a,b)=>a.symbol.localeCompare(b.symbol)))]},topTradedTokens(){return Object.values(this.tokens).filter((t=>!t.common&&!t.isNative&&!t.isWNative)).sort(((a,b)=>b.volumeUSD-a.volumeUSD)).slice(0,4)},chainConfig(){return this.$store.getters["web3-provider/chainConfig"]}},watch:{search(){!this.filteredTokens.length&&Object(o.isAddress)(this.search)?this.searchForToken(this.search):this.searchedTokens.splice(0,this.searchedTokens.length)}},methods:{getLocaleString:h.b,clearFilters(){(""!==this.search||this.searchedTokens.length>0)&&(this.search="",this.searchedTokens=[])},sortTokens:t=>t.sort(((t,e)=>{if(t.accountBalanceUSD===e.accountBalanceUSD){const n=t.symbol.toLowerCase(),o=e.symbol.toLowerCase();return n<o?-1:n>o?1:0}return Number(t.accountBalanceUSD)<=Number(e.accountBalanceUSD)?1:-1})),selectToken(t){t.external&&!t.imported||this.isImporting?this.isImporting=!1:(this.$bvModal.hide(this.modalId),this.$emit("update-selected-token",t))},async searchForToken(address){this.isSearching=!0;const t=await Object(l.e)(this.$store.app,address);t&&!this.searchedTokens.find((t=>t.address===address))&&this.searchedTokens.push(t),this.isSearching=!1},async importToken(t){this.isImporting=!0;const e=this.searchedTokens.findIndex((e=>e.address===t.address));this.searchedTokens.splice(e,1);const n=this.chainConfig.frontend.featureFlags;await this.$contracts.pushSupportedToken(t,n)},async removeImportedToken(t){this.isImporting=!0,await this.$contracts.removeSupportedToken(t),await this.searchForToken(t.address)}}},v=n(23),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("modal",{ref:t.modalId,attrs:{id:t.modalId},on:{shown:t.clearFilters},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"w-100"},[e("h3",[t._v(t._s(t.importMode?"Import a token":"Select a token"))]),t._v(" "),e("div",{staticClass:"mt-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.importMode?"Search by address":"Search by name or address",onClick:"this.setSelectionRange(0, this.value.length)"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]},proxy:!0},{key:"cancel",fn:function(){return[e("b-button",{staticClass:"w-100",attrs:{variant:"secondary"},on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Close")])]},proxy:!0}])},[t._v(" "),t.commonTokens.length?e("particular-tokens-list",{attrs:{tokens:t.commonTokens,"select-token":t.selectToken}}):t._e(),t._v(" "),t.topTradedTokens.length?e("particular-tokens-list",{attrs:{title:"Top traded",tokens:t.topTradedTokens,"select-token":t.selectToken}}):t._e(),t._v(" "),t.importMode?e("h4",{staticClass:"mt-3"},[t._v("Searched tokens")]):e("h4",{staticClass:"mt-3"},[t._v("Tokens list")]),t._v(" "),e("div",{staticClass:"w-100"},[t.isSearching?e("div",[e("div",{staticClass:"spinner-border"})]):t.filteredTokens.length||t.isSearching?e("div",{staticClass:"btn-group-vertical w-100",attrs:{role:"group"}},t._l(t.filteredTokens,(function(n){return e("div",{key:n.address+n.symbol,staticClass:"w-100 mb-1"},[e("div",{staticClass:"w-100 d-flex justify-content-between align-items-center px-1",class:!n.external||n.imported?"btn btn-simple-link":"",on:{click:function(e){return t.selectToken(n)}}},[e("div",{staticClass:"d-flex text-left align-items-center"},[n.external&&!n.imported?e("div",{staticClass:"mr-3"},[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.importToken(n)}}},[t._v("Import")])],1):e("token-img",{staticClass:"mr-2",attrs:{token:n}}),t._v(" "),e("div",[e("div",[t._v("\n                "+t._s(n.symbol)+"\n                "),n.imported?e("span",{staticClass:"text-small ml-1 text-weight-300"},[t._v("\n                  (imported)\n                ")]):t._e()]),t._v(" "),e("div",{staticClass:"text-secondary text-weight-400"},[t._v("\n                "+t._s(n.fullname)+"\n              ")]),t._v(" "),n.imported?e("a",{staticClass:"text-small",attrs:{href:"#"},on:{click:function(e){return t.removeImportedToken(n)}}},[t._v("\n                remove token\n              ")]):t._e()])],1),t._v(" "),e("div",{staticClass:"text-right",class:{"text-muted":"0.0"===n.accountBalanceFormatted}},[e("div",[t._v("\n              "+t._s("0.0"===n.accountBalanceFormatted?"0":t.getLocaleString(n.accountBalanceFormatted))+"\n            ")]),t._v(" "),n.accountBalanceUSD>0?e("div",{staticClass:"text-small text-muted"},[t._v("\n              $"+t._s(t.getLocaleString(n.accountBalanceUSD,3,3))+"\n            ")]):t._e()])])])})),0):e("div",[t._v("No result found")])])],1)}),[],!1,null,null,null);e.default=component.exports},1146:function(t,e,n){"use strict";n.r(e);var o={components:{TokenImg:n(416).default},props:{title:{type:String,default:"Common bases"},tokens:{type:Array,default:()=>[]},selectToken:{type:Function,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-1 mb-3"},[e("h4",[t._v(t._s(t.title))]),t._v(" "),e("b-row",{staticClass:"align-items-center"},t._l(t.tokens,(function(n){return e("b-col",{key:n.address+n.symbol,staticClass:"my-1",attrs:{cols:"4",sm:"3"}},[e("b-button",{staticClass:"align-items-center w-100 justify-content-start px-1 py-1 line-height-reset",attrs:{variant:"simple-link"},on:{click:function(e){return t.selectToken(n)}}},[e("token-img",{staticClass:"mr-2",attrs:{token:n,size:"sm"}}),t._v(" "),e("span",{staticClass:"text-weight-500"},[t._v(t._s(n.symbol))])],1)],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports},1151:function(t,e,n){"use strict";n.r(e);var o=n(1144),r={components:{TokenImg:n(416).default,TokenListModal:o.default},props:{id:{type:String,required:!0},tokens:{type:Array,default:null},label:{type:String,required:!0},largeDisplay:{type:Boolean,default:!1},defaultSelectedToken:{type:Object,default:null},labelClass:{type:String,default:"text-secondary"}},data:()=>({imageError:!1,selectedToken:null,tokenListModal:null}),mounted(){this.tokenListModal=this.$refs.selectedTokenModal,this.selectedToken=this.defaultSelectedToken},methods:{updateSelectedToken(t){this.selectedToken=t,this.$emit("onSelectToken",t)}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.id,expression:"id"}],staticClass:"h-100"},[t.largeDisplay?e("div",{staticClass:"token-select text-center py-5 px-3"},[e("div",{staticClass:"d-flex justify-content-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.selectedToken,size:"xxl"}})],1),t._v(" "),e("div",{staticClass:"items-center mt-3"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t.selectedToken?e("div",[e("div",[t._v(t._s(t.selectedToken.symbol))]),t._v(" "),t.selectedToken.isLpV3?e("div",{staticClass:"h5 text-weight-400 text-secondary"},[t._v("\n              "+t._s(t.selectedToken.fullname)+"\n            ")]):t._e()]):e("span",{staticClass:"text-secondary"},[t._v("Select")]),t._v(" "),e("i",{staticClass:"mdi mdi-chevron-down text-secondary ml-2 mr-1"})])])]):e("div",{staticClass:"d-flex align-items-center token-select h-100"},[e("token-img",{staticClass:"d-none d-md-flex mr-2",attrs:{token:t.selectedToken,size:"lxl"}}),t._v(" "),e("token-img",{staticClass:"d-flex d-md-none mr-2",attrs:{token:t.selectedToken,size:"lxl"}}),t._v(" "),e("div",[e("div",{staticClass:"d-none d-sm-block",class:t.labelClass},[t._v(t._s(t.label))]),t._v(" "),e("div",{staticClass:"items-center"},[t.selectedToken?e("h4",{staticClass:"d-inline-flex flex-row align-items-baseline mb-0"},[e("span",[t._v(t._s(t.selectedToken.symbol))]),t._v(" "),e("i",{staticClass:"d-none d-sm-flex mdi mdi-chevron-down text-secondary ml-1"})]):e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"font-size-10"},[t._v("SELECT")]),t._v(" "),e("i",{staticClass:"mdi mdi-chevron-down text-secondary ml-1"})])])])],1)]),t._v(" "),e("token-list-modal",{ref:"selectedTokenModal",attrs:{"modal-id":t.id,tokens:t.tokens},on:{"update-selected-token":t.updateSelectedToken}})],1)}),[],!1,null,null,null);e.default=component.exports},1162:function(t,e,n){"use strict";n.r(e);var o=n(13),r={components:{},props:{label:{type:String,default:"balance"},defaultSelectedToken:{type:Object,default:null},disabled:{type:Boolean,default:!1},hideMax:{type:Boolean,default:!1},hideBalance:{type:Boolean,default:!1},maxAmount:{type:String,default:null},unit:{type:String,default:null},value:{type:String,default:null},safeMax:{type:Boolean,default:!1},usdValue:{type:String,default:null}},data:()=>({tokenListModal:null,inputValue:null}),computed:{displayMaxButton(){return!this.disabled&&!this.hideMax}},watch:{value(){this.inputValue=this.value}},created(){this.inputValue=this.value},methods:{onInput(t){const e=t.target.value,n=e.match(/^\d*\.?\d*$/);this.inputValue=n?e:e.slice(0,-1),this.$emit("input",this.inputValue)},setMaxInputAmount(){this.safeMax&&this.maxAmount&&Object(o.parseUnits)(this.maxAmount).gt(Object(o.parseUnits)("0.0001"))?this.inputValue=Object(o.formatUnits)(Object(o.parseUnits)(this.maxAmount).sub(Object(o.parseUnits)("0.0001"))):this.inputValue=this.maxAmount,this.$emit("input",this.inputValue)}}},l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-relative"},[e("div",{directives:[{name:"show",rawName:"v-show",value:Number(t.usdValue)>0,expression:"Number(usdValue) > 0"}],staticClass:"bg-dark rounded-lg p-1 text-white text-small position-absolute text-weight-300",staticStyle:{bottom:"-5px"}},[t._v("\n    $"+t._s(t.getLocaleString(t.usdValue,2,2))+"\n  ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control text-right token-full-input p-0",class:{"text-secondary":t.disabled},attrs:{placeholder:"0.0",disabled:t.disabled},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.onInput]}}),t._v(" "),t.hideBalance?t._e():e("div",{staticClass:"text-secondary text-small text-right"},[t._v("\n    balance: "+t._s(t.getLocaleString(t.maxAmount,5,5))+"\n    "),t.hideMax||t.disabled?t._e():e("a",{staticClass:"text-primary ml-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setMaxInputAmount()}}},[t._v("\n      Max\n    ")])])])}),[],!1,null,null,null);e.default=component.exports},1172:function(t,e,n){"use strict";n.r(e);var o={components:{TokenImg:n(416).default},props:{pool:{type:Object,required:!0}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center"},[e("div",{staticClass:"d-none d-sm-block text-center",staticStyle:{width:"70px"}},[e("token-img",{attrs:{token:t.pool}})],1),t._v(" "),e("div",{staticClass:"d-block d-sm-none text-center mr-md-1",staticStyle:{width:"45px"}},[e("token-img",{attrs:{token:t.pool,size:"sm"}})],1),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("h4",{staticClass:"text-truncate mb-0 d-flex align-items-end"},[t._v("\n      "+t._s(t.pool.symbol)+"\n      "),e("span",{staticClass:"text-small text-primary position-relative ml-1"},[t._v("\n        "+t._s(t.pool.poolVersion?t.pool.poolVersion:"V3")+"\n      ")])]),t._v(" "),t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports},1223:function(t,e,n){"use strict";n.r(e);var o={props:{address:{type:String,required:!0}},computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("a",{staticClass:"text-white d-block",attrs:{href:t.getExplorerAddressUrl(t.chainConfig,t.address),target:"_blank",alt:"Blockscan link"}},[t._v("\n  "+t._s(t.address)+"\n  "),e("i",{staticClass:"mdi mdi-arrow-top-right"})])}),[],!1,null,null,null);e.default=component.exports},1554:function(t,e,n){"use strict";n.r(e);var o=n(23),component=Object(o.a)({},(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{staticClass:"mt-3 d-flex justify-content-center"},[t("span",{staticClass:"fade-text-in-out"},[this._v("Loading ...")])])}],!1,null,null,null);e.default=component.exports},1718:function(t,e,n){"use strict";n.r(e);n(8);var o=n(29),r=n(6),l=n(13),c=n(420),d=n(1719),h=n(1720),m=n(1721),v=n(1722),f=n(1723),k=n(1724),_=n(17),y=n(38),x=n(44),C=n(1139),w={components:{Processing:n(1129).default,ConnectWallet:C.default,Pool:d.default,DateRange:h.default,RewardsToken:m.default,ConfirmationModal:k.default,Restriction:v.default,Options:f.default},data:()=>({STEPS:["pool","dateRange","rewardsToken","restriction","options"],poolAndTokenData:null,pool:{isV3:!0,address:null},dateRange:null,rewardsToken:null,restriction:{type:null,walletAddresses:[]},options:{fees:100,token0:0,token1:0},errors:{},loadingApprove:!1,isApproved:!1}),computed:{account(){return this.$store.getters["web3-provider/account"]},activeChain(){return this.$store.getters["web3-provider/chainConfig"]},amount(){return this.rewardsToken?this.rewardsToken.amount:0},findPoolByPoolAddress(){if(!this.isValidPool)return{};const t=this.pool.isV3?"v3":"v2",e=this.poolAndTokenData[t][this.pool.address],address=this.pool.address,n=this.poolAndTokenData.tokens[e.token0],o=this.poolAndTokenData.tokens[e.token1];return{token0:n,token1:o,address:address,poolVersion:t,symbol:"".concat(this.isNativeToken(n),"-").concat(this.isNativeToken(o))}},isValidPool(){if(this.pool.address){const t=this.pool.isV3?"v3":"v2";return Object.keys(this.poolAndTokenData[t]).some((t=>t.toLowerCase()===this.pool.address.toLowerCase()))?(this.setError("pool",null),!0):(this.setError("pool","Your pool seems to be not valid, please check its address."),!1)}return!1},isValidDateRange(){if(this.dateRange&&this.isValidPool){const t=-1*Object(o.differenceInHours)(this.dateRange[0],this.dateRange[1]),e=!Object(o.isBefore)(this.dateRange[0],Date.now()),n=e&&t>23;if(n)this.setHours(t),this.setError("dateRange",null);else{const t=e?"Duration needs to be at least one full day.":"Duration needs to be in the future.";this.setError("dateRange",t)}return n}return!1},isValidRewardsToken(){if(this.isValidDateRange&&this.rewardsToken){if(this.rewardsToken.token.getFullAmountFromFormatted(this.rewardsToken.amount).gt(this.rewardsToken.token.getFullAmountFromFormatted(this.rewardsToken.maxAmount)))return this.setError("rewardsToken","Your entered amount is higher than the available balance."),!1;{const t=this.dateRange[2],e=this.rewardsToken.token.getFullAmountFromFormatted(this.rewardsToken.amount).div(r.a.from(t/24)),n=r.a.from(this.rewardsToken.token.incentivesMinDailyAmount);return e.gte(n)?(this.setError("rewardsToken",null),!0):(this.rewardsToken.amount>0&&this.setError("rewardsToken","Amount is lower than the required minimum daily amount of ".concat(Object(_.c)(this.rewardsToken.token.getFormattedAmountFromFull(n))," ").concat(this.rewardsToken.token.symbol,".")),!1)}}return!1},isValidRestriction(){if(null!==this.restriction.type){if(this.restriction.walletAddresses.length){if(this.validateWalletAddresses(this.restriction.walletAddresses))return this.setError("restriction",null),!0;this.setError("restriction","Please provide a correct comma-separated list of addresses or check for typing errors.")}else this.setError("restriction",null);return!1}return this.setError("restriction",null),this.isValidRewardsToken},isValidOptions(){return this.isValidRestriction},isValidForSubmission(){return this.isValidPool&&this.isValidDateRange&&this.isValidRewardsToken&&this.isValidRestriction&&this.isValidOptions},currentStep(){const t=[...this.STEPS].reverse().findIndex((t=>this.getIsValid(t)));return-1===t?1:this.STEPS.length-t+1}},watch:{amount(){this.syncApproval()},"rewardsToken.token.allowance"(){this.syncApproval()}},mounted(){this.getApiData()},methods:{async approve(t){this.loadingApprove=!0;const e=await this.rewardsToken.token.approveV2(this.$contracts.campaignFactory.address,t);e?e.wait().then((()=>{this.loadingApprove=!1,this.syncApproval()})):this.loadingApprove=!1},async syncApproval(){this.amount&&this.rewardsToken.token&&(this.isApproved=await this.rewardsToken.token.hasAccountApproval(this.$store.getters["web3-provider/account"],this.$contracts.campaignFactory.address,this.amount),this.loading&&(this.loading=!this.isApproved))},hideOptionsForV2(t){return"options"!==t||this.pool.isV3},async getApiData(){try{const t=await Promise.all([Object(x.a)(Object(y.e)(this.activeChain.id)),Object(x.a)(Object(y.d)(this.activeChain.id)),Object(x.a)(Object(y.l)(this.activeChain.id))]),[{pools:e},{pools:n},{tokens:o}]=t;this.poolAndTokenData={v3:e,v2:n,tokens:o}}catch(t){this.setError("pool","Error loading pools, please try again later.")}},getIsValid(t,e){let n;return n=e?Object(c.upperFirst)(this.STEPS[t]):Object(c.upperFirst)(t),this["isValid"+n]},getError(t){return this.errors[t]},setData(data,t){this[this.STEPS[t-1]]=data},setError(t,e){this.errors[t]=e},setHours(t){this.dateRange=[...this.dateRange,t]},validateWalletAddresses:t=>t.every((address=>Object(l.isAddress)(address))),showFirstStep:(t,data)=>0===t&&null!==data,isNativeToken(t){return t.isWNative?this.$contracts.nativeToken.symbol:t.symbol},onSuccess(t){t&&(this.pool={isV3:!0,address:null},this.dateRange=null,this.rewardsToken=null,this.restriction={type:null,walletAddresses:[]},this.options={fees:100,token0:0,token1:0},this.errors={},this.STEPS.forEach((t=>{var e;null===(e=this.$refs[t][0])||void 0===e||e.reset()})))}}},T=w,S=n(23),component=Object(S.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 col-xl-6"},[t._l(t.STEPS,(function(n,i){return[t.hideOptionsForV2(n)?e(n,{key:n,ref:n,refInFor:!0,tag:"component",attrs:{active:t.showFirstStep(i,t.poolAndTokenData)||t.getIsValid(i-1,!0),step:i+1,valid:t.getIsValid(n),error:t.getError(n),pool:"options"===n?t.findPoolByPoolAddress:void 0,"campaign-hours":"rewardsToken"===n&&t.dateRange?t.dateRange[2]:0},on:{"set-data":t.setData}}):t._e()]})),t._v(" "),t.account?!t.isApproved&&t.amount?e("b-button",{staticClass:"btn btn-lg w-100",attrs:{variant:"primary",disabled:t.loadingApprove||!t.isValidForSubmission},on:{click:function(e){return t.approve(t.amount)}}},[t.loadingApprove?e("Processing"):e("span",[t._v("Approve")])],1):e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.campaigns-creation-confirmation",modifiers:{"campaigns-creation-confirmation":!0}}],staticClass:"btn btn-lg w-100",attrs:{variant:"primary",disabled:!t.isValidForSubmission}},[t._v("\n        Confirmation\n      ")]):e("connect-wallet",{staticClass:"mt-3",attrs:{"is-large":""}}),t._v(" "),t.isValidForSubmission?e("confirmation-modal",{attrs:{date:t.dateRange,"rewards-token":t.rewardsToken,restriction:t.restriction,options:t.options,pool:t.findPoolByPoolAddress},on:{success:t.onSuccess}}):t._e()],2),t._v(" "),e("div",{staticClass:"mt-3 mt-xl-0 col-lg-12 col-xl-6 text-secondary"},[e("div",{staticClass:"mb-4 rounded-2 p-4 text-primary bg-dark"},[e("div",[e("div",{staticClass:"d-flex align-items-center mb-2"},[e("i",{staticClass:"mdi mdi-information-outline mr-2",style:{fontSize:"20px",lineHeight:1}}),t._v(" "),e("h4",{staticClass:"m-0"},[t._v("About our Market Maker incentives system")])]),t._v(" "),e("p",{staticClass:"text-white"},[t._v("\n            Camelot's in-house solution is made for protocols to reward liquidity providers in\n            order to boost their pools' liquidity and activity. It allows anyone to\n            permissionlessly distribute incentives for v2 or v3 pools, based on any optional\n            restrictions (blacklist, whitelist, token weight, depth...).\n          ")]),t._v(" "),e("p",{staticClass:"text-white"},[t._v("\n            This system is based on an offchain script computing rewards for 4-hours epochs based\n            on fees generated by every LP during that period, and pushing the results on-chain\n            under the form of a Merkle tree.\n          ")]),t._v(" "),t._m(0)])]),t._v(" "),e("div",{staticClass:"mb-4 px-4",class:{"text-white":1===t.currentStep}},[e("h4",[t._v("Step 1: Select Pool Address")]),t._v(" "),e("p",[t._v("\n          Enter or Select: Start by entering the pool address manually or choose one from the\n          dropdown list provided.\n        ")])]),t._v(" "),e("div",{staticClass:"mb-4 px-4",class:{"text-white":2===t.currentStep}},[e("h4",[t._v("Step 2: Set Date Range")]),t._v(" "),e("p",[t._v("\n          Future Date Required: Select a date range that begins at least 3 hours in the future,\n          and lasts for minimum 1 day.\n        ")])]),t._v(" "),e("div",{staticClass:"mb-4 px-4",class:{"text-white":3===t.currentStep}},[e("h4",[t._v("Step 3: Specify Rewards Token and Amount")]),t._v(" "),e("p",[t._v("\n          Choose Token and Amount: Select the rewards token and enter the amount. Ensure that the\n          amount meets the required minimum per day.\n        ")])]),t._v(" "),e("div",{staticClass:"mb-4 px-4",class:{"text-white":4===t.currentStep}},[e("h4",[t._v("Step 4: Apply Address Restrictions (Optional)")]),t._v(" "),e("p",[t._v("\n          Black/Whitelist: If needed, restrict participation by blacklisting or whitelisting\n          specific addresses.\n        ")])]),t._v(" "),t.pool.isV3?e("div",{staticClass:"mb-4 px-4"},[e("h4",[t._v("Step 5: Additional Options (Optional)")]),t._v(" "),t._m(1)]):t._e(),t._v(" "),e("div",{staticClass:"mb-4 px-4",class:{"text-white":6===t.currentStep}},[e("h4",[t._v("Step "+t._s(t.pool.isV3?"6":"5")+": Confirm")]),t._v(" "),e("p",[t._v("Please carefully confirm your choice and sign the transaction.")])])])])])}),[function(){var t=this,e=t._self._c;return e("p",{staticClass:"text-white mb-0"},[t._v("\n            Read more about Market Maker incentives in our\n            "),e("a",{attrs:{href:"https://docs.camelot.exchange",target:"_blank"}},[t._v("official documentation")]),t._v("\n            .\n          ")])},function(){var t=this,e=t._self._c;return e("p",[t._v("\n          Leverage additional options:\n          "),e("br"),t._v("\n          - Weight (v3 only): incentivize one side more than the other rather than using generated\n          fees only\n          "),e("br"),t._v("\n          - Depth (v3 only): coming soon\n        ")])}],!1,null,null,null);e.default=component.exports},1719:function(t,e,n){"use strict";n.r(e);var o=n(431),r=n.n(o),l=n(1554),c={components:{vSelect:r.a,Loading:l.default},props:{active:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},step:{type:Number,required:!0},error:{type:String,default:null}},data:()=>({isV3:!0,poolAddress:"",selected:null}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},v2Enabled(){return this.chainConfig.frontend.featureFlags.ammV2[this.$config.ENV_TYPE]},v3Enabled(){return this.chainConfig.frontend.featureFlags.ammV3[this.$config.ENV_TYPE]},pools(){return(this.isV3?this.$contracts.clPoolsFactory.poolsWithTvlHigherThan(1):this.$contracts.factory.existentPairs).map((t=>({label:t.symbol,address:t.address})))}},methods:{reset(){this.poolAddress="",this.selected=null},filterFunc:(t,e)=>t.filter((option=>"".concat(option.label,"-").concat(option.address).toLowerCase().includes(e))),setVersion(t){this.isV3=t,this.poolAddress="",this.selected=null,this.emitData()},selectPool(t){this.poolAddress=t?t.address:"",this.emitData()},inputChange(input){this.selected=null,this.poolAddress=input,this.emitData()},emitData(){this.$emit("set-data",{isV3:this.isV3,address:this.poolAddress},this.step)}}},d=c,h=n(23),component=Object(h.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4"},[e("h4",{staticClass:"text-weight-400 bg-dark rounded-1 p-2 mb-3 d-flex justify-content-between",class:{"text-secondary":!t.valid&&!t.active}},[t._v("\n    "+t._s(t.step)+". Pool\n    "),t.valid&&t.active?e("i",{staticClass:"mdi mdi-check text-success"}):t._e()]),t._v(" "),t.active?e("div",{staticClass:"p-2"},[e("div",{staticClass:"d-flex align-items-center w-100 my-2 overflow-hidden",style:{borderRadius:"5px"}},[t.v3Enabled?e("b-button",{staticClass:"w-100 rounded-0",class:{active:t.isV3},attrs:{variant:"tab"},on:{click:function(e){return t.setVersion(!0)}}},[t._v("\n        V3 Pool\n      ")]):t._e(),t._v(" "),t.v2Enabled?e("b-button",{staticClass:"w-100 rounded-0",class:{active:!t.isV3},attrs:{variant:"tab"},on:{click:function(e){return t.setVersion(!1)}}},[t._v("\n        V2 Pool\n      ")]):t._e()],1),t._v(" "),e("div",{staticClass:"mt-3 text-secondary"},[e("div",{staticClass:"mb-3"},[e("label",{staticClass:"mb-1"},[t._v("Pool address:")]),t._v(" "),e("b-form-input",{staticClass:"mr-3",attrs:{placeholder:"Enter pool address"},on:{input:t.inputChange},model:{value:t.poolAddress,callback:function(e){t.poolAddress=e},expression:"poolAddress"}})],1),t._v(" "),e("div",[e("label",{staticClass:"mb-1"},[t._v("Find in list:")]),t._v(" "),e("v-select",{attrs:{options:t.pools,placeholder:"Select pool",searchable:"",filter:t.filterFunc},on:{input:t.selectPool},scopedSlots:t._u([{key:"option",fn:function(n){let{label:label,address:address}=n;return[e("span",{staticClass:"fw-bold"},[t._v(t._s(label))]),t._v(" "),e("span",[t._v(t._s(address))])]}},{key:"selected-option",fn:function(n){let{label:label,address:address}=n;return[e("span",[t._v(t._s(label)+": "+t._s(address))])]}}],null,!1,1390127411),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)]),t._v(" "),t.error?e("span",{staticClass:"text-danger p-2"},[t._v(t._s(t.error))]):t._e()]):e("loading")],1)}),[],!1,null,null,null);e.default=component.exports},1720:function(t,e,n){"use strict";n.r(e);var o=n(1213),r=n(29),l={components:{DatePicker:o.a},props:{active:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},step:{type:Number,required:!0},error:{type:String,default:null}},data:()=>({selectedDates:[]}),methods:{emitData(){this.$emit("set-data",this.selectedDates,this.step)},reset(){this.selectedDates=[]},handleDateChange(t){const e=this.setFullHoursAndMinutesEndDate(t[0],t[1]);this.selectedDates=[t[0],e],this.emitData()},displayDuration(){if(this.selectedDates)return Object(r.formatDistanceStrict)(new Date(this.selectedDates[0]),new Date(this.selectedDates[1]))},disablePastDays(t){return t<Object(r.subDays)(this.dateIncludingBuffer(),1)},disablePastTime(t){return t<this.dateIncludingBuffer()},setFullHoursAndMinutesEndDate(t,e){const n=Object(r.getHours)(t),o=Object(r.getMinutes)(t),l=Object(r.setHours)(e,n);return Object(r.setMinutes)(l,o)},dateIncludingBuffer(){const t=Object(r.roundToNearestHours)(Date.now(),{roundingMethod:"ceil"});return Object(r.addHours)(t,2.3)}}},c=n(23),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4"},[e("h4",{staticClass:"text-weight-400 bg-dark rounded-1 p-2 mb-3 d-flex justify-content-between",class:{"text-secondary":!t.valid&&!t.active}},[t._v("\n    "+t._s(t.step)+". Daterange\n    "),t.valid&&t.active?e("i",{staticClass:"mdi mdi-check text-success"}):t._e()]),t._v(" "),t.active?e("div",[e("date-picker",{staticClass:"w-100 p-2",attrs:{clearable:!0,type:"datetime",placeholder:"Select Date",range:"","popup-class":"campaigns-datepicker",confirm:"","disabled-time":t.disablePastTime,"disabled-date":t.disablePastDays,"show-second":!1,"minute-step":15},on:{change:t.handleDateChange},model:{value:t.selectedDates,callback:function(e){t.selectedDates=e},expression:"selectedDates"}},[e("template",{slot:"footer"},[e("p",{staticClass:"text-left px-2"},[e("span",{staticClass:"text-primary"},[t._v("Please note:")]),t._v("\n          We need a buffer period to finalize the contract, so the start time needs to be minimum\n          about 2 hours from now.\n        ")])]),t._v(" "),e("template",{slot:"icon-clear"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])])],2),t._v(" "),!t.error&&t.selectedDates.length?e("span",{staticClass:"text-secondary",style:{paddingLeft:"18px"}},[t._v("\n      Duration:\n      "),e("span",{staticClass:"text-primary"},[t._v(t._s(t.displayDuration()))])]):t._e(),t._v(" "),t.error?e("span",{staticClass:"text-danger p-2"},[t._v(t._s(t.error))]):t._e()],1):t._e()])}),[],!1,null,null,null);e.default=component.exports},1721:function(t,e,n){"use strict";n.r(e);n(42);var o=n(17),r=n(1151),l=n(1162),c=n(1143),d=n(21),h={components:{TokenSelect:r.default,TokenInputFull:l.default},mixins:[c.a],props:{active:{type:Boolean,default:!1},valid:{type:Boolean,default:!1},step:{type:Number,required:!0},campaignHours:{type:Number,required:!0},error:{type:String,default:null}},data:()=>({token:null,amount:null}),computed:{defaultRegistrationList(){return[{func:d.c,params:[{store:this.$store,$contracts:this.$contracts},this.$contracts.supportedTokens.tokens]}]},registrationList(){return[{func:d.c,params:[{store:this.$store,$contracts:this.$contracts},this.$contracts.supportedTokens.tokens]}]},eligibleTokens(){return this.$contracts.supportedTokens.tokens.reduce(((t,e)=>(e.incentivesToken&&!e.isNative&&(e.isWNative&&!e.common&&(e.common=!0),t.push(e)),t)),[])},maxTokenAmount(){return this.token&&this.account?this.token.accountBalanceFormatted:"0"},tokenSymbol(){return this.token?this.token.symbol:null},account(){return this.$store.getters["web3-provider/account"]},dailyRewards(){return Object(o.b)(Number(this.amount/(this.campaignHours/24)))}},methods:{reset(){this.token=null,this.amount=null},setToken(t){this.token=t,this.emitData()},emitData(t){this.amount=t,this.$emit("set-data",{token:this.token,amount:t,maxAmount:this.maxTokenAmount},this.step)}}},m=n(23),component=Object(m.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4"},[e("h4",{staticClass:"text-weight-400 bg-dark rounded-1 p-2 mb-3 d-flex justify-content-between",class:{"text-secondary":!t.valid&&!t.active}},[t._v("\n    "+t._s(t.step)+". Rewards Token\n    "),t.valid&&t.active?e("i",{staticClass:"mdi mdi-check text-success"}):t._e()]),t._v(" "),t.active?e("div",{staticClass:"px-2"},[e("b-row",{staticClass:"d-flex align-items-center bg-darker rounded-2 full-token-input-widget gx-0 mb-2"},[e("b-col",{staticClass:"bg-dark hover-slight h-100 p-0 rounded-left token-select-widget",attrs:{cols:"5",sm:"4"}},[e("token-select",{staticClass:"h-100 w-100 px-3",attrs:{id:"select-from-token",label:"",tokens:t.eligibleTokens,"default-selected-token":t.token},on:{onSelectToken:t.setToken}})],1),t._v(" "),e("b-col",{staticClass:"flex-grow-1 pr-3"},[e("token-input-full",{staticClass:"flex-grow-1 ml-1",attrs:{unit:t.tokenSymbol,"max-amount":t.maxTokenAmount,disabled:!t.token,placeholder:"0.0"},on:{input:t.emitData},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),t._v(" "),!t.error&&t.amount?e("span",{staticClass:"text-secondary",style:{paddingLeft:"10px"}},[t._v("\n      Daily rewards:\n      "),e("span",{staticClass:"text-primary"},[t._v(t._s(t.dailyRewards)+" "+t._s(t.token.symbol))])]):t._e(),t._v(" "),t.error?e("span",{staticClass:"text-danger p-2"},[t._v(t._s(t.error))]):t._e()],1):t._e()])}),[],!1,null,null,null);e.default=component.exports},1722:function(t,e,n){"use strict";n.r(e);n(25);var o={props:{active:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},step:{type:Number,required:!0},error:{type:String,default:null}},data:()=>({restriction:null,walletAddresses:"",sanitizedWalletAddresses:[]}),methods:{reset(){this.restriction=null,this.walletAddresses="",this.sanitizedWalletAddresses=[]},sanitizeWalletAddresses:t=>t.trim().replace(/^[,]+|[,]+$/g,"").replace(/\s*,+\s*/g,",").split(",").filter(Boolean),setRestriction(t){null===t&&(this.walletAddresses="",this.sanitizedWalletAddresses=[]),this.restriction=t,this.emitData()},setWalletAddresses(t){this.sanitizedWalletAddresses=this.sanitizeWalletAddresses(t),this.emitData()},emitData(){this.$emit("set-data",{type:this.restriction,walletAddresses:this.sanitizedWalletAddresses},this.step)}}},r=o,l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4"},[e("h4",{staticClass:"text-weight-400 bg-dark rounded-1 p-2 mb-3 d-flex justify-content-between",class:{"text-secondary":!t.valid&&!t.active}},[t._v("\n    "+t._s(t.step)+". Restriction\n    "),t.valid&&t.active?e("i",{staticClass:"mdi mdi-check text-success"}):t._e()]),t._v(" "),t.active?e("div",[e("div",{staticClass:"p-2"},[e("div",{staticClass:"d-flex align-items-center w-100 overflow-hidden",style:{borderRadius:"5px"}},[e("b-button",{staticClass:"w-100 rounded-0",class:{active:null===t.restriction},attrs:{variant:"tab"},on:{click:function(e){return t.setRestriction(null)}}},[t._v("\n          No restriction\n        ")]),t._v(" "),e("b-button",{staticClass:"w-100 rounded-0",class:{active:1===t.restriction},attrs:{variant:"tab"},on:{click:function(e){return t.setRestriction(1)}}},[t._v("\n          Whitelist\n        ")]),t._v(" "),e("b-button",{staticClass:"w-100 rounded-0",class:{active:0===t.restriction},attrs:{variant:"tab"},on:{click:function(e){return t.setRestriction(0)}}},[t._v("\n          Blacklist\n        ")])],1),t._v(" "),null!==t.restriction?e("b-form-textarea",{staticClass:"mr-1 mt-3",attrs:{id:"textarea",placeholder:"Comma separated addresses (address1,address2,...)"},on:{input:t.setWalletAddresses},model:{value:t.walletAddresses,callback:function(e){t.walletAddresses=e},expression:"walletAddresses"}}):t._e()],1),t._v(" "),t.error?e("span",{staticClass:"text-danger p-2"},[t._v(t._s(t.error))]):t._e()]):t._e()])}),[],!1,null,null,null);e.default=component.exports},1723:function(t,e,n){"use strict";n.r(e);n(25);var o={components:{TokenImg:n(416).default},props:{active:{type:Boolean,default:!1},valid:{type:Boolean,default:!0},step:{type:Number,required:!0},pool:{type:Object,require:!0}},data:()=>({fees:100,token0:0,token1:0}),methods:{reset(){this.fees=100,this.token0=0,this.token1=0},emitData(){this.$emit("set-data",{fees:this.fees,token0:this.token0,token1:this.token1},this.step)},adjustPercentageBlur(t){100-this[t]<0&&(this[t]=100),""===this[t]&&(this[t]=0)},clampToZero(t){this[t]<0&&(this[t]=0)},adjustPercentage(t,e){this[e]=t.replace(/[^0-9]/g,""),"fees"===e?(this.token0=100-this.fees-this.token1,this.clampToZero("token0"),this.token1=100-this.fees-this.token0,this.clampToZero("token1")):"token0"===e?(this.fees=100-this.token0-this.token1,this.clampToZero("fees"),this.token1=100-this.fees-this.token0,this.clampToZero("token1")):"token1"===e&&(this.fees=100-this.token0-this.token1,this.clampToZero("fees"),this.token0=100-this.fees-this.token1,this.clampToZero("token0")),this.emitData()}}},r=n(23),component=Object(r.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-4"},[e("h4",{staticClass:"text-weight-400 bg-dark rounded-1 p-2 mb-3 d-flex justify-content-between",class:{"text-secondary":!t.valid&&!t.active}},[t._v("\n    "+t._s(t.step)+". Options\n    "),t.valid&&t.active?e("i",{staticClass:"mdi mdi-check text-success"}):t._e()]),t._v(" "),t.active?e("div",{staticClass:"p-2"},[e("h5",{staticClass:"text-secondary"},[t._v("Weight configuration")]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("div",{staticClass:"form-group mr-3"},[e("label",{staticClass:"mb-2"},[t._v("Fees %")]),t._v(" "),e("b-form-input",{attrs:{type:"number",placeholder:"Fees"},on:{input:function(e){return t.adjustPercentage(e,"fees")},blur:function(e){return t.adjustPercentageBlur("fees")}},model:{value:t.fees,callback:function(e){t.fees=e},expression:"fees"}})],1),t._v(" "),e("div",{staticClass:"form-group mr-3"},[e("div",{staticClass:"d-flex align-items-center mb-1"},[e("token-img",{attrs:{token:t.pool.token0,size:"xs"}}),t._v(" "),e("label",{staticClass:"ml-2 mb-0"},[t._v(t._s(t.pool.token0.symbol)+" %")])],1),t._v(" "),e("b-form-input",{attrs:{type:"number",placeholder:"Token 0"},on:{input:function(e){return t.adjustPercentage(e,"token0")},blur:function(e){return t.adjustPercentageBlur("token0")}},model:{value:t.token0,callback:function(e){t.token0=e},expression:"token0"}})],1),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"d-flex align-items-center mb-1"},[e("token-img",{attrs:{token:t.pool.token1,size:"xs"}}),t._v(" "),e("label",{staticClass:"ml-2 mb-0"},[t._v(t._s(t.pool.token1.symbol)+" %")])],1),t._v(" "),e("b-form-input",{attrs:{type:"number",placeholder:"Token 1"},on:{input:function(e){return t.adjustPercentage(e,"token1")},blur:function(e){return t.adjustPercentageBlur("token1")}},model:{value:t.token1,callback:function(e){t.token1=e},expression:"token1"}})],1)])]):t._e()])}),[],!1,null,null,null);e.default=component.exports},1724:function(t,e,n){"use strict";n.r(e);var o=n(29),r=n(416),l=n(103),c=n(1130),d=n(1223),h=n(1172),m=n(1129),v={components:{Modal:l.default,TokenImg:r.default,BlockscanLink:d.default,Processing:m.default,V3Id:h.default},mixins:[c.a],props:{date:{type:[Array,null],required:!0},rewardsToken:{type:[Object,null],required:!0},restriction:{type:Object,required:!0},options:{type:Object,required:!0},pool:{type:Object,required:!0}},data:()=>({id:"campaigns-creation-confirmation",loading:!1}),computed:{restrictionLabel(){var t;return null!==(t={0:"Blacklist",1:"Whitelist"}[this.restriction.type])&&void 0!==t?t:"No filter"},formatDates(){const t="yyyy-MM-dd HH:mm:ss";return"".concat(Object(o.format)(new Date(this.date[0]),t)," - ").concat(Object(o.format)(new Date(this.date[1]),t)," ")}},methods:{async createCampaign(){this.loading=!0,this.header={title:"Incentives campaigns"},this.steps=[{description:"Creating campaign...",label:"Creation",icon:"mdi"}],this.successMessage={title:'You\'ve successfully created an incentives campaign for the\n            <span class="text-primary">'.concat(this.pool.symbol,"</span> pool")},this.initLoading(this.id);try{const t=await this.$contracts.campaignFactory.create(this.rewardsToken.token,this.pool,this.rewardsToken.amount,Number(this.date[0])/1e3,(Number(this.date[1])-Number(this.date[0]))/1e3,Number(this.restriction.type),this.restriction.walletAddresses,this.options);await this.checkTx(t,!0),this.$emit("success",!0)}catch(t){this.txError("Error while creating your campaign. If the issue persists, please contact our support.")}finally{this.loading=!1}}}},f=n(23),component=Object(f.a)(v,(function(){var t,e=this,n=e._self._c;return n("modal",{attrs:{id:e.id},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",[n("div",{staticClass:"circle-badge circle-badge-primary"},[n("i",{staticClass:"iexc-coin2 text-primary font-size-30"})]),e._v(" "),n("h2",{staticClass:"mt-3 mb-2"},[e._v("\n        New\n        "),n("span",{staticClass:"text-primary"},[e._v("Market Maker")]),e._v("\n        campaign\n      ")]),e._v(" "),n("span",{staticClass:"text-large text-secondary"},[e._v("\n        Review your campaign's settings and start distributing incentives\n      ")])])]},proxy:!0},{key:"action",fn:function(){return[n("b-button",{staticClass:"w-50",attrs:{disabled:e.loading,variant:"primary"},on:{click:e.createCampaign}},[e.loading?n("Processing"):n("span",[e._v("Create")])],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"fs-4 mb-4"},[n("h4",{staticClass:"mt-4 mb-3 bg-dark rounded-1 p-2"},[e._v("Pool:")]),e._v(" "),n("V3Id",{attrs:{pool:e.pool}}),e._v(" "),n("h4",{staticClass:"mt-4 mb-3 bg-dark rounded-1 p-2"},[e._v("Date range:")]),e._v(" "),n("span",{staticClass:"px-2"},[e._v(e._s(e.formatDates))]),e._v(" "),n("h4",{staticClass:"mt-4 mb-3 bg-dark rounded-1 p-2"},[e._v("Token and rewards:")]),e._v(" "),n("div",{staticClass:"px-2 d-flex align-items-center"},[n("token-img",{staticClass:"mr-2",attrs:{token:e.rewardsToken.token}}),e._v(" "),n("span",[e._v(e._s(e.rewardsToken.token.symbol)+":")]),e._v(" "),n("span",{staticClass:"px-2 text-primary fw-bold"},[e._v(e._s(e.rewardsToken.amount))])],1),e._v(" "),n("h4",{staticClass:"mt-4 mb-3 bg-dark rounded-1 p-2"},[e._v("Restriction:")]),e._v(" "),n("div",{staticClass:"px-2"},[n("span",[e._v(e._s(e.restrictionLabel))]),e._v(" "),null!==(t=e.restriction.walletAddresses)&&void 0!==t&&t.length?n("div",{staticClass:"mt-2 w-auto overflow-auto",style:{maxHeight:"125px"}},e._l(e.restriction.walletAddresses,(function(t){return n("blockscan-link",{key:t,attrs:{address:t}})})),1):e._e()]),e._v(" "),n("h4",{staticClass:"mt-4 mb-3 bg-dark rounded-1 p-2"},[e._v("Weights:")]),e._v(" "),n("div",{staticClass:"px-2 d-flex align-items-center"},[n("span",{staticClass:"mr-4"},[e._v("\n        Fees:\n        "),n("span",[e._v(e._s(e.options.fees)+" %")])]),e._v(" "),n("span",{staticClass:"d-flex align-items-center mr-4"},[n("token-img",{staticClass:"mr-2",attrs:{token:e.pool.token0}}),e._v("\n        "+e._s(e.pool.token0.symbol)+": "+e._s(e.options.token0)+" %\n      ")],1),e._v(" "),n("span",{staticClass:"d-flex align-items-center"},[n("token-img",{staticClass:"mr-2",attrs:{token:e.pool.token1}}),e._v("\n        "+e._s(e.pool.token1.symbol)+": "+e._s(e.options.token1)+" %\n      ")],1)])],1),e._v(" "),n("div",{staticClass:"bg-darker p-2 text-weight-300 rounded text-center"},[e._v("\n    A\n    "),n("strong",[e._v("1%")]),e._v("\n    development fee will be applied to the total rewards\n  ")])])}),[],!1,null,null,null);e.default=component.exports}}]);
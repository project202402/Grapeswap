(window.webpackJsonp=window.webpackJsonp||[]).push([[18,55,57,271,272,274,276,292,293],{1144:function(t,e,o){"use strict";o.r(e);o(8);var n=o(27),r=o(1146),l=o(21),c=o(103),m=o(416),d=o(17),h={components:{Modal:c.default,TokenImg:m.default,ParticularTokensList:r.default},props:{modalId:{type:String,default:null},tokens:{type:Array,default:()=>[]},importMode:{type:Boolean,default:!1},showTopTraded:{type:Boolean,default:!0}},data:()=>({search:"",isSearching:!1,searchedTokens:[],isImporting:!1}),computed:{filteredTokens(){const t=this.tokens.concat(this.searchedTokens).filter((t=>t.symbol.toLowerCase().includes(this.search.toLowerCase())||t.address.toLowerCase()===this.search.toLowerCase()));return this.sortTokens(t)},commonTokens(){return[...this.tokens.filter((t=>t.isNative||t.isWNative)),...this.tokens.filter((t=>t.common&&!t.isNative&&!t.isWNative)).sort(((a,b)=>a.symbol.localeCompare(b.symbol)))]},topTradedTokens(){return Object.values(this.tokens).filter((t=>!t.common&&!t.isNative&&!t.isWNative)).sort(((a,b)=>b.volumeUSD-a.volumeUSD)).slice(0,4)},chainConfig(){return this.$store.getters["web3-provider/chainConfig"]}},watch:{search(){!this.filteredTokens.length&&Object(n.isAddress)(this.search)?this.searchForToken(this.search):this.searchedTokens.splice(0,this.searchedTokens.length)}},methods:{getLocaleString:d.b,clearFilters(){(""!==this.search||this.searchedTokens.length>0)&&(this.search="",this.searchedTokens=[])},sortTokens:t=>t.sort(((t,e)=>{if(t.accountBalanceUSD===e.accountBalanceUSD){const o=t.symbol.toLowerCase(),n=e.symbol.toLowerCase();return o<n?-1:o>n?1:0}return Number(t.accountBalanceUSD)<=Number(e.accountBalanceUSD)?1:-1})),selectToken(t){t.external&&!t.imported||this.isImporting?this.isImporting=!1:(this.$bvModal.hide(this.modalId),this.$emit("update-selected-token",t))},async searchForToken(address){this.isSearching=!0;const t=await Object(l.e)(this.$store.app,address);t&&!this.searchedTokens.find((t=>t.address===address))&&this.searchedTokens.push(t),this.isSearching=!1},async importToken(t){this.isImporting=!0;const e=this.searchedTokens.findIndex((e=>e.address===t.address));this.searchedTokens.splice(e,1);const o=this.chainConfig.frontend.featureFlags;await this.$contracts.pushSupportedToken(t,o)},async removeImportedToken(t){this.isImporting=!0,await this.$contracts.removeSupportedToken(t),await this.searchForToken(t.address)}}},k=o(23),component=Object(k.a)(h,(function(){var t=this,e=t._self._c;return e("modal",{ref:t.modalId,attrs:{id:t.modalId},on:{shown:t.clearFilters},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"w-100"},[e("h3",[t._v(t._s(t.importMode?"Import a token":"Select a token"))]),t._v(" "),e("div",{staticClass:"mt-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.importMode?"Search by address":"Search by name or address",onClick:"this.setSelectionRange(0, this.value.length)"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])])]},proxy:!0},{key:"cancel",fn:function(){return[e("b-button",{staticClass:"w-100",attrs:{variant:"secondary"},on:{click:function(e){return t.$bvModal.hide(t.modalId)}}},[t._v("Close")])]},proxy:!0}])},[t._v(" "),t.commonTokens.length?e("particular-tokens-list",{attrs:{tokens:t.commonTokens,"select-token":t.selectToken}}):t._e(),t._v(" "),t.topTradedTokens.length?e("particular-tokens-list",{attrs:{title:"Top traded",tokens:t.topTradedTokens,"select-token":t.selectToken}}):t._e(),t._v(" "),t.importMode?e("h4",{staticClass:"mt-3"},[t._v("Searched tokens")]):e("h4",{staticClass:"mt-3"},[t._v("Tokens list")]),t._v(" "),e("div",{staticClass:"w-100"},[t.isSearching?e("div",[e("div",{staticClass:"spinner-border"})]):t.filteredTokens.length||t.isSearching?e("div",{staticClass:"btn-group-vertical w-100",attrs:{role:"group"}},t._l(t.filteredTokens,(function(o){return e("div",{key:o.address+o.symbol,staticClass:"w-100 mb-1"},[e("div",{staticClass:"w-100 d-flex justify-content-between align-items-center px-1",class:!o.external||o.imported?"btn btn-simple-link":"",on:{click:function(e){return t.selectToken(o)}}},[e("div",{staticClass:"d-flex text-left align-items-center"},[o.external&&!o.imported?e("div",{staticClass:"mr-3"},[e("b-button",{attrs:{variant:"secondary"},on:{click:function(e){return t.importToken(o)}}},[t._v("Import")])],1):e("token-img",{staticClass:"mr-2",attrs:{token:o}}),t._v(" "),e("div",[e("div",[t._v("\n                "+t._s(o.symbol)+"\n                "),o.imported?e("span",{staticClass:"text-small ml-1 text-weight-300"},[t._v("\n                  (imported)\n                ")]):t._e()]),t._v(" "),e("div",{staticClass:"text-secondary text-weight-400"},[t._v("\n                "+t._s(o.fullname)+"\n              ")]),t._v(" "),o.imported?e("a",{staticClass:"text-small",attrs:{href:"#"},on:{click:function(e){return t.removeImportedToken(o)}}},[t._v("\n                remove token\n              ")]):t._e()])],1),t._v(" "),e("div",{staticClass:"text-right",class:{"text-muted":"0.0"===o.accountBalanceFormatted}},[e("div",[t._v("\n              "+t._s("0.0"===o.accountBalanceFormatted?"0":t.getLocaleString(o.accountBalanceFormatted))+"\n            ")]),t._v(" "),o.accountBalanceUSD>0?e("div",{staticClass:"text-small text-muted"},[t._v("\n              $"+t._s(t.getLocaleString(o.accountBalanceUSD,3,3))+"\n            ")]):t._e()])])])})),0):e("div",[t._v("No result found")])])],1)}),[],!1,null,null,null);e.default=component.exports},1146:function(t,e,o){"use strict";o.r(e);var n={components:{TokenImg:o(416).default},props:{title:{type:String,default:"Common bases"},tokens:{type:Array,default:()=>[]},selectToken:{type:Function,required:!0}}},r=o(23),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-1 mb-3"},[e("h4",[t._v(t._s(t.title))]),t._v(" "),e("b-row",{staticClass:"align-items-center"},t._l(t.tokens,(function(o){return e("b-col",{key:o.address+o.symbol,staticClass:"my-1",attrs:{cols:"4",sm:"3"}},[e("b-button",{staticClass:"align-items-center w-100 justify-content-start px-1 py-1 line-height-reset",attrs:{variant:"simple-link"},on:{click:function(e){return t.selectToken(o)}}},[e("token-img",{staticClass:"mr-2",attrs:{token:o,size:"sm"}}),t._v(" "),e("span",{staticClass:"text-weight-500"},[t._v(t._s(o.symbol))])],1)],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports},1151:function(t,e,o){"use strict";o.r(e);var n=o(1144),r={components:{TokenImg:o(416).default,TokenListModal:n.default},props:{id:{type:String,required:!0},tokens:{type:Array,default:null},label:{type:String,required:!0},largeDisplay:{type:Boolean,default:!1},defaultSelectedToken:{type:Object,default:null},labelClass:{type:String,default:"text-secondary"}},data:()=>({imageError:!1,selectedToken:null,tokenListModal:null}),mounted(){this.tokenListModal=this.$refs.selectedTokenModal,this.selectedToken=this.defaultSelectedToken},methods:{updateSelectedToken(t){this.selectedToken=t,this.$emit("onSelectToken",t)}}},l=o(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("div",{directives:[{name:"b-modal",rawName:"v-b-modal",value:t.id,expression:"id"}],staticClass:"h-100"},[t.largeDisplay?e("div",{staticClass:"token-select text-center py-5 px-3"},[e("div",{staticClass:"d-flex justify-content-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.selectedToken,size:"xxl"}})],1),t._v(" "),e("div",{staticClass:"items-center mt-3"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t.selectedToken?e("div",[e("div",[t._v(t._s(t.selectedToken.symbol))]),t._v(" "),t.selectedToken.isLpV3?e("div",{staticClass:"h5 text-weight-400 text-secondary"},[t._v("\n              "+t._s(t.selectedToken.fullname)+"\n            ")]):t._e()]):e("span",{staticClass:"text-secondary"},[t._v("Select")]),t._v(" "),e("i",{staticClass:"mdi mdi-chevron-down text-secondary ml-2 mr-1"})])])]):e("div",{staticClass:"d-flex align-items-center token-select h-100"},[e("token-img",{staticClass:"d-none d-md-flex mr-2",attrs:{token:t.selectedToken,size:"lxl"}}),t._v(" "),e("token-img",{staticClass:"d-flex d-md-none mr-2",attrs:{token:t.selectedToken,size:"lxl"}}),t._v(" "),e("div",[e("div",{staticClass:"d-none d-sm-block",class:t.labelClass},[t._v(t._s(t.label))]),t._v(" "),e("div",{staticClass:"items-center"},[t.selectedToken?e("h4",{staticClass:"d-inline-flex flex-row align-items-baseline mb-0"},[e("span",[t._v(t._s(t.selectedToken.symbol))]),t._v(" "),e("i",{staticClass:"d-none d-sm-flex mdi mdi-chevron-down text-secondary ml-1"})]):e("div",{staticClass:"d-flex align-items-center"},[e("span",{staticClass:"font-size-10"},[t._v("SELECT")]),t._v(" "),e("i",{staticClass:"mdi mdi-chevron-down text-secondary ml-1"})])])])],1)]),t._v(" "),e("token-list-modal",{ref:"selectedTokenModal",attrs:{"modal-id":t.id,tokens:t.tokens},on:{"update-selected-token":t.updateSelectedToken}})],1)}),[],!1,null,null,null);e.default=component.exports},1162:function(t,e,o){"use strict";o.r(e);var n=o(13),r={components:{},props:{label:{type:String,default:"balance"},defaultSelectedToken:{type:Object,default:null},disabled:{type:Boolean,default:!1},hideMax:{type:Boolean,default:!1},hideBalance:{type:Boolean,default:!1},maxAmount:{type:String,default:null},unit:{type:String,default:null},value:{type:String,default:null},safeMax:{type:Boolean,default:!1},usdValue:{type:String,default:null}},data:()=>({tokenListModal:null,inputValue:null}),computed:{displayMaxButton(){return!this.disabled&&!this.hideMax}},watch:{value(){this.inputValue=this.value}},created(){this.inputValue=this.value},methods:{onInput(t){const e=t.target.value,o=e.match(/^\d*\.?\d*$/);this.inputValue=o?e:e.slice(0,-1),this.$emit("input",this.inputValue)},setMaxInputAmount(){this.safeMax&&this.maxAmount&&Object(n.parseUnits)(this.maxAmount).gt(Object(n.parseUnits)("0.0001"))?this.inputValue=Object(n.formatUnits)(Object(n.parseUnits)(this.maxAmount).sub(Object(n.parseUnits)("0.0001"))):this.inputValue=this.maxAmount,this.$emit("input",this.inputValue)}}},l=o(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-relative"},[e("div",{directives:[{name:"show",rawName:"v-show",value:Number(t.usdValue)>0,expression:"Number(usdValue) > 0"}],staticClass:"bg-dark rounded-lg p-1 text-white text-small position-absolute text-weight-300",staticStyle:{bottom:"-5px"}},[t._v("\n    $"+t._s(t.getLocaleString(t.usdValue,2,2))+"\n  ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control text-right token-full-input p-0",class:{"text-secondary":t.disabled},attrs:{placeholder:"0.0",disabled:t.disabled},domProps:{value:t.inputValue},on:{input:[function(e){e.target.composing||(t.inputValue=e.target.value)},t.onInput]}}),t._v(" "),t.hideBalance?t._e():e("div",{staticClass:"text-secondary text-small text-right"},[t._v("\n    balance: "+t._s(t.getLocaleString(t.maxAmount,5,5))+"\n    "),t.hideMax||t.disabled?t._e():e("a",{staticClass:"text-primary ml-1",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.setMaxInputAmount()}}},[t._v("\n      Max\n    ")])])])}),[],!1,null,null,null);e.default=component.exports},1170:function(t,e,o){"use strict";o.r(e);var n=o(103),r=o(416),l={components:{Processing:o(1129).default,Modal:n.default,TokenImg:r.default},props:{id:{type:String,required:!0},tokens:{type:Array,required:!0}},data:()=>({loading:!1}),computed:{chainConfig(){return this.$store.getters["web3-provider/chainConfig"]}},watch:{},methods:{async importToken(){this.loading=!0;const t=this.chainConfig.frontend.featureFlags;await this.$contracts.pushSupportedTokens(this.tokens,t),this.loading=!1,this.$emit("confirm-import"),this.$bvModal.hide(this.id)},reset(){this.loading=!1}}},c=o(23),component=Object(c.a)(l,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:t.id,title:t.tokens.length>1?"Import tokens":"Import token"},on:{reset:t.reset},scopedSlots:t._u([{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:t.loading},on:{click:t.importToken}},[t.loading?e("Processing"):e("span",[t._v("Import")])],1)]},proxy:!0}])},[t._l(t.tokens,(function(o,i){return e("div",{key:o.address,staticClass:"mt-3"},[i>0?e("hr"):t._e(),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:o}}),t._v(" "),e("div",[e("h4",{staticClass:"text-weight-500 mb-1"},[t._v(t._s(o.fullname)+" ("+t._s(o.symbol)+")")]),t._v(" "),e("a",{staticClass:"text-secondary text-small d-flex",attrs:{href:t.getExplorerAddressUrl(t.$store.getters["web3-provider/chainConfig"],o.address),target:"_blank"}},[e("i",{staticClass:"mdi mdi-link mr-1"}),t._v("\n          "+t._s(o.address)+"\n        ")])])],1)])})),t._v(" "),e("b-alert",{staticClass:"mt-4",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"iexc-danger mr-1 icon-fix text-primary"}),t._v("\n    Anyone can create an ERC20 token with any name, including creating fake versions of existing\n    tokens and tokens that claim to represent projects that do not have a token. If you purchase\n    an arbitrary token, you may be unable to sell it back, so always double-check the address of\n    any imported token.\n  ")])],2)}),[],!1,null,null,null);e.default=component.exports},1177:function(t,e,o){"use strict";o.r(e);var n=o(642),r={components:{Modal:o(103).default},data:()=>({deadlineDuration:null,maxHops:null,slippage:null,error:null,warning:null}),watch:{slippage(){if(!this.slippage||this.slippage<0||this.slippage>50)return this.error="Invalid slippage amount",void(this.warning=null);this.slippage>5&&(this.warning="Your transaction may be frontrun"),this.slippage<.5?this.warning="Your transaction may fail":this.warning=null,this.error=null}},methods:{init(){this.deadlineDuration=this.$store.getters["exchange-config/deadlineDuration"]/1e3/60,this.maxHops=this.$store.getters["exchange-config/maxHops"],this.slippage=this.$store.getters["exchange-config/slippage"]},resetToDefaults(){this.deadlineDuration=n.DEFAULT_DEADLINE/1e3/60,this.maxHops=n.DEFAULT_MAX_HOPS,this.slippage=n.DEFAULT_SLIPPAGE},save(){this.$store.commit("exchange-config/setDeadLineDuration",1e3*this.deadlineDuration*60),this.$store.commit("exchange-config/setmaxHops",this.maxHops),this.$store.commit("exchange-config/setSlippage",this.slippage),this.$bvModal.hide("exchange-settings")}}},l=o(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:"exchange-settings",title:"Settings"},on:{shown:function(e){return t.init()}},scopedSlots:t._u([{key:"cancel",fn:function(){return[e("b-button",{staticClass:"w-50 mr-3",attrs:{variant:"secondary"},on:{click:t.resetToDefaults}},[t._v("\n      Reset to defaults\n    ")])]},proxy:!0},{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:"primary",disabled:null!==t.error},on:{click:t.save}},[t._v("\n      Save settings\n    ")])]},proxy:!0}])},[e("b-form-group",{staticClass:"mb-3",attrs:{label:"Slippage (%)"}},[e("b-form-input",{attrs:{type:"number",step:"0.5"},model:{value:t.slippage,callback:function(e){t.slippage=e},expression:"slippage"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-3",attrs:{label:"Deadline (mins)"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.deadlineDuration,callback:function(e){t.deadlineDuration=e},expression:"deadlineDuration"}})],1),t._v(" "),e("b-form-group",{staticClass:"mb-0",attrs:{label:"Max hops"}},[e("b-form-input",{attrs:{type:"number"},model:{value:t.maxHops,callback:function(e){t.maxHops=e},expression:"maxHops"}})],1),t._v(" "),t.error?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"danger"}},[t._v("Error: "+t._s(t.error))]):t._e(),t._v(" "),t.warning?e("b-alert",{staticClass:"mt-3 mb-0",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"iexc-danger mr-1 icon-fix"}),t._v("\n    Warning: "+t._s(t.warning)+"\n  ")]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1184:function(t,e,o){"use strict";o.r(e);var n=o(21),r={props:{forceRefreshFunc:{type:Function,default:null}},data:()=>({isSyncing:!1}),methods:{async refreshPairs(){this.isSyncing=!0,this.forceRefreshFunc?await this.forceRefreshFunc().then((()=>{this.isSyncing=!1})):await Object(n.b)({store:this.$store,$contracts:this.$contracts},this.$contracts.factory.existentPairs).then((()=>{this.isSyncing=!1}))}}},l=o(23),component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("b-button",{staticClass:"right-bar-toggle",attrs:{type:"button",variant:"icon"},on:{click:function(e){return t.refreshPairs()}}},[e("i",{staticClass:"mdi mdi-refresh",class:t.isSyncing?"mdi-spin":""})])}),[],!1,null,null,null);e.default=component.exports},1548:function(t,e,o){"use strict";o.r(e);o(8);var n=o(416),r=o(1128),l=o(103),c=o(1129),m=o(417),d=o(17),h=o(1130),k=o(54),f=o(244),v={components:{TokenImg:n.default,DataRow:r.default,Modal:l.default,AnimatedNumber:m.default,Processing:c.default},mixins:[h.a],props:{aggregator:{type:Object,default:null},fromToken:{type:Object,default:null},toToken:{type:Object,default:null},fromTokenAmount:{type:String,default:""},toTokenAmount:{type:String,default:""},maxFromTokenAmount:{type:String,default:""},minToTokenAmount:{type:String,default:""},isHighestPriceImpact:{type:Boolean,default:!1},isInvalidPriceImpact:{type:Boolean,default:!1},swapBasedOnFromToken:{type:Boolean,default:()=>!0},path:{type:Array,default:()=>[]},pathId:{type:String,default:null},fromToRatio:{type:Number,default:0},toFromRatio:{type:Number,default:0},args:{type:Array,default:()=>[]},updateRoute:{type:Function,default:null},approvedValid:{type:Boolean,required:!0}},setup:()=>({SWAP_ERRORS:k.c,SWAP_STRINGS:f.d}),data:()=>({swapLoading:!1,isStale:!1}),computed:{error(){return this.$store.getters["loading-modal/error"]}},watch:{fromTokenAmount(){this.swapLoading||(this.isStale=!0)},toTokenAmount(){this.swapLoading||(this.isStale=!0)}},methods:{async swap(){this.header={swap:!0,fromToken:this.fromToken,toToken:this.toToken,version:"v3"},this.steps=[{description:"Swapping ".concat(Object(d.b)(this.fromTokenAmount,2,8)," ").concat(this.fromToken.symbol," for ").concat(Object(d.b)(this.toTokenAmount,2,8)," ").concat(this.toToken.symbol,"..."),label:"spnft",icon:"mdi mdi-tray-arrow-down"}],this.successMessage={title:'You\'ve successfully swapped <span class="text-primary text-weight-500">'.concat(Object(d.b)(this.fromTokenAmount,2,8)," ").concat(this.fromToken.symbol," for ").concat(Object(d.b)(this.toTokenAmount,2,8)," ").concat(this.toToken.symbol,"</span>")},this.initLoading(this.id),this.swapLoading=!0;const t=this.$store.getters["web3-provider/accountProvider"];if(!t)return;let e=null;if((this.fromToken.isWNative||this.toToken.isWNative)&&(this.fromToken.isNative||this.toToken.isNative)){if(e=this.fromToken.isNative?await this.fromToken.wrap(t,this.fromTokenAmount):await this.toToken.unwrap(t,this.fromTokenAmount),this.swapLoading=!1,!e.error&&e.tx){const t=await e.tx.wait();t.status&&1===Number(t.status)&&this.$emit("swapConfirmed"),this.$bvModal.hide("swap-confirmation")}const o=!e.error;return void await this.checkTx(e,o)}if(e="-1"!==this.pathId?await this.aggregator.swap(this.pathId,this.fromToken,this.fromTokenAmount,this.toToken,this.minToTokenAmount,...this.args):this.swapBasedOnFromToken?await this.$contracts.router.swap(t,this.fromToken,this.toToken,this.fromTokenAmount,this.minToTokenAmount,this.path,this.$store.getters["web3-provider/account"],this.$store.getters["exchange-config/deadlineDuration"]/1e3,!0):await this.$contracts.router.swap(t,this.fromToken,this.toToken,this.maxFromTokenAmount,this.toTokenAmount,this.path,this.$store.getters["web3-provider/account"],this.$store.getters["exchange-config/deadlineDuration"]/1e3,!1),!e.error&&e.tx){const t=await e.tx.wait();t.status&&1===Number(t.status)&&this.$emit("swapConfirmed"),this.$bvModal.hide("swap-confirmation")}e.error===k.c.RATE_CHANGED&&this.refresh(),this.approvedValid||e.error!==k.c.ERC20_FAIL||(e.error=k.c.INSUFFICIENT_ALLOWANCE),this.swapLoading=!1;const o=!e.error;await this.checkTx(e,o)},reset(){this.swapLoading=!1,this.isStale=!1},refresh(){this.updateRoute().then((()=>{this.reset()})).catch((()=>{}))}}},T=o(23),component=Object(T.a)(v,(function(){var t=this,e=t._self._c;return e("modal",{attrs:{id:"swap-confirmation",title:"Swap"},on:{shown:function(e){return t.reset()}},scopedSlots:t._u([{key:"action",fn:function(){return[e("b-button",{staticClass:"w-50",attrs:{variant:t.isHighestPriceImpact?"danger":"primary",disabled:t.swapLoading||t.isStale||t.error===t.SWAP_ERRORS.RATE_CHANGED},on:{click:function(e){return t.swap()}}},[t.swapLoading?e("Processing"):e("span",[t._v(t._s(t.SWAP_STRINGS.SWAP))])],1)]},proxy:!0}])},[t.fromToken&&t.toToken?e("div",[e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.fromToken,size:"lg"}}),t._v(" "),e("div",[e("div",{staticClass:"text-secondary"},[t._v(t._s(t.fromToken.symbol))]),t._v(" "),e("div",{staticClass:"items-center"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t._v("\n            "+t._s(t.fromTokenAmount)+"\n          ")])])])],1),t._v(" "),e("div",{staticClass:"d-flex align-items-center pl-1"},[e("i",{staticClass:"mdi mdi-arrow-down text-muted font-size-24 p-1"})]),t._v(" "),e("div",{staticClass:"d-flex align-items-center"},[e("token-img",{staticClass:"mr-2",attrs:{token:t.toToken,size:"lg"}}),t._v(" "),e("div",[e("div",{staticClass:"text-secondary"},[t._v(t._s(t.toToken.symbol))]),t._v(" "),e("div",{staticClass:"items-center"},[e("h3",{staticClass:"d-inline-flex flex-row align-items-baseline"},[t._v("\n            "+t._s(t.toTokenAmount)+"\n          ")])])])],1),t._v(" "),e("div",{staticClass:"pt-4"},[!t.swapBasedOnFromToken||(t.fromToken.isWNative||t.toToken.isWNative)&&(t.fromToken.isNative||t.toToken.isNative)?t._e():e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.SWAP_STRINGS.MINIMUM_RECEIVED))]},proxy:!0},{key:"value",fn:function(){return[t._v("\n          "+t._s(t.getLocaleString(t.minToTokenAmount,4,4))+" "+t._s(t.toToken.symbol)+"\n        ")]},proxy:!0}],null,!1,859526249)}),t._v(" "),t.swapBasedOnFromToken||(t.fromToken.isWNative||t.toToken.isWNative)&&(t.fromToken.isNative||t.toToken.isNative)?t._e():e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.SWAP_STRINGS.MAXIMUM_SOLD))]},proxy:!0},{key:"value",fn:function(){return[t._v("\n          "+t._s(t.getLocaleString(t.maxFromTokenAmount,4,4))+"\n          "+t._s(t.fromToken.symbol)+"\n        ")]},proxy:!0}],null,!1,243508608)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          "+t._s(t.fromToken.symbol)+"/"+t._s(t.toToken.symbol)+" "+t._s(t.SWAP_STRINGS.RATE)+"\n        ")]},proxy:!0},{key:"value",fn:function(){return[e("span",[t._v("1 "+t._s(t.fromToken.symbol))]),t._v(" "),e("i",{staticClass:"icam-arrow-right"}),t._v(" "),e("animated-number",{attrs:{value:t.fromToRatio,suffix:" ".concat(t.toToken.symbol),digits:3,"max-digits":4}})]},proxy:!0}],null,!1,1618133981)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n          "+t._s(t.toToken.symbol)+"/"+t._s(t.fromToken.symbol)+" "+t._s(t.SWAP_STRINGS.RATE)+"\n        ")]},proxy:!0},{key:"value",fn:function(){return[e("span",[t._v("1 "+t._s(t.toToken.symbol))]),t._v(" "),e("i",{staticClass:"icam-arrow-right"}),t._v(" "),e("animated-number",{attrs:{value:t.toFromRatio,suffix:" ".concat(t.fromToken.symbol),digits:3,"max-digits":4}})]},proxy:!0}],null,!1,1411819069)})],1)]):t._e(),t._v(" "),t.isHighestPriceImpact?e("b-alert",{staticClass:"d-flex align-items-center mt-3 px-2 mb-0 border-danger",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"mdi mdi-alert-circle-outline align-self-start text-danger mr-2"}),t._v(" "),e("div",[t._v("\n      "+t._s(t.SWAP_STRINGS.HIGH_PRICE_IMPACT)+"\n    ")])]):t._e(),t._v(" "),t.isInvalidPriceImpact?e("b-alert",{staticClass:"d-flex align-items-center mt-3 px-2 mb-0 border-danger",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"mdi mdi-alert-circle-outline align-self-start text-danger mr-2"}),t._v(" "),e("div",[t._v("\n      At least one token hasn't been priced yet, making it impossible to evaluate the price\n      impact. Please confirm only if you're happy with the current swap rate.\n    ")])]):t._e(),t._v(" "),t.isStale?e("b-alert",{staticClass:"d-flex align-items-center mt-3 px-2 mb-0 border-primary",attrs:{show:"",variant:"warning"}},[e("i",{staticClass:"mdi mdi-alert-circle-outline text-primary mr-2"}),t._v(" "),e("div",[t._v("\n      "+t._s(t.SWAP_STRINGS.RATE_UPDATED)+"\n    ")]),t._v(" "),e("b-button",{staticClass:"btn-sm ml-auto",on:{click:function(e){return t.reset()}}},[t._v("\n      "+t._s(t.SWAP_STRINGS.ACCEPT)+"\n    ")])],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},1549:function(t,e,o){"use strict";o.r(e);var n={components:{},props:{aggregatorType:{type:String,default:"native"}}},r=o(23),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",["camelot"===t.aggregatorType?e("div",{staticClass:"aggregator-logo"},[e("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 286.99601 434.10997",version:"1.1",height:"25",xmlns:"http://www.w3.org/2000/svg","xmlns:svg":"http://www.w3.org/2000/svg"}},[e("defs",{attrs:{id:"defs128"}},[e("style",{attrs:{id:"style126"}},[t._v("\n          .cls-1 {\n            fill: #fff3d4;\n          }\n          .cls-1,\n          .cls-2 {\n            stroke-width: 0px;\n          }\n          .cls-2 {\n            fill: #f58b00;\n          }\n        ")])]),t._v(" "),e("path",{staticClass:"cls-2",attrs:{id:"path130",d:"m 286.948,176.02 c -34.57,-19.26 -73.42,-31.77 -114.76,-35.75 v 80.96 l -28.69,12.33 -28.69,-12.33 V 199.4 c 0,0 0,-16.94 0,-16.94 v -42.19 c -41.34,3.99 -80.18,16.5 -114.76000028,35.75 0,0 -6.86000002,189.1 143.44000028,258.09 0,0 0.01,0 0.02,0 150.3,-68.98 143.44,-258.09 143.44,-258.09 z m -88.55,90.27 -31.17,13.39 -21.92,9.42 25.76,0.26 c 0.61,0 1.05,70.9 0.92,71.08 l -28.5,42.63 c 0,0 0,0 0,0 l -28.69,-42.91 c 0,0 0.5,-71.35 1.11,-71.35 l 25.67,0.26 -21.83,-9.38 -31.17,-13.39 -31.17,-13.39 31.17,-13.39 54.46,23.4 c 0.28,0.12 0.6,0.12 0.87,0 l 54.46,-23.4 31.17,13.39 -31.17,13.39 z"}}),t._v(" "),e("path",{staticClass:"cls-1",attrs:{id:"path132",d:"m 229.568,279.68 -31.17,-13.39 -54.46,23.4 c -0.28,0.12 -0.6,0.12 -0.87,0 l -54.46,-23.4 -31.17,13.39 31.17,13.39 31.17,13.39 23.73,10.2 23.73,-10.2 31.17,-13.39 31.17,-13.39 z"}}),t._v(" "),e("path",{staticClass:"cls-1",attrs:{id:"path134",d:"m 229.568,226.03 c 0,0 -31.88,-13.7 -57.38,-24.65 v 19.84 l -28.69,12.33 -28.69,-12.33 c 0,0 0,0 0,0 v -19.84 l -55.01,23.64 c -0.89,0.38 -0.89,1.65 0,2.04 l 28.8,12.37 54.46,23.4 c 0.28,0.12 0.6,0.12 0.87,0 l 54.46,-23.4 31.17,-13.39 z"}}),t._v(" "),e("path",{staticClass:"cls-1",attrs:{id:"path136",d:"m 241.418,108.73 c -25.22,-7.58 -51.67,-12.32 -78.97,-13.85 l -6.52,-58.79 c -0.16,-1.48 0.31,-2.96 1.31,-4.06 3.12,-3.4 5.02,-7.93 5.02,-12.91 0,-10.56 -8.56,-19.12 -19.12,-19.12 -0.01,0 -0.02,0 -0.03,0 -0.02,0 -0.04,0 -0.07,0 -10.56,0 -19.12,8.56 -19.12,19.12 0,4.98 1.9,9.51 5.02,12.91 1.01,1.1 1.48,2.58 1.31,4.06 l -6.52,58.79 c -27.31,1.53 -53.75,6.26 -78.97,13.85 l 11.99,27.26 0.85,-0.27 c 26.94,-7.88 56.2,-11.81 85.47,-11.81 v 0 c 29.28,0 58.56,3.93 85.51,11.81 l 0.87,0.21 z"}})]),t._v(" "),e("div",{staticClass:"text-weight-400 ml-2 d-inline"},[t._v("Native")])]):t._e(),t._v(" "),"paraswap"===t.aggregatorType?e("div",{staticClass:"aggregator-logo"},[e("svg",{attrs:{height:"25",viewBox:"0 0 188.625 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticClass:"aggregator-logo-active",attrs:{d:"M 42.5,34 22.8442,0 3.1875,34 Z M 9.03114,15.9375 18.0625,0 H 0 Z M 34.4725,29.4995 H 11.2156 L 22.8442,9.38452 Z"}}),t._v(" "),e("path",{attrs:{d:"m 163.107,23.729 c 0.715,0 1.412,-0.0248 2.092,-0.0743 0.681,-0.0488 1.299,-0.1131 1.858,-0.1913 0.557,-0.079 1.047,-0.1526 1.472,-0.2215 0.422,-0.0688 0.746,-0.133 0.971,-0.192 v -9.6215 c 0,-0.8061 -0.111,-1.5533 -0.336,-2.2423 -0.223,-0.6885 -0.581,-1.28397 -1.069,-1.78559 -0.493,-0.50249 -1.135,-0.89588 -1.925,-1.18086 -0.792,-0.28498 -1.758,-0.42815 -2.894,-0.42815 -1.116,0 -2.07,0.06953 -2.862,0.20671 -0.792,0.13787 -1.378,0.28498 -1.756,0.4422 l 0.301,1.68249 c 0.29,-0.0983 0.748,-0.22539 1.371,-0.3833 0.626,-0.15721 1.573,-0.23616 2.845,-0.23616 0.891,0 1.611,0.12245 2.158,0.36872 0.547,0.24684 0.971,0.57134 1.273,0.97464 0.299,0.4028 0.495,0.855 0.584,1.3574 0.076,0.4289 0.113,0.8711 0.125,1.322 h 0.008 v 0.2067 c 0,0.0074 0.002,0.0134 0.002,0.0208 v 0.9445 h -0.002 v 1.6819 h 0.002 v 5.3713 c -0.447,0.079 -0.988,0.1432 -1.624,0.192 -0.635,0.0495 -1.378,0.0737 -2.226,0.0737 -0.69,0 -1.31,-0.0543 -1.857,-0.1627 -0.545,-0.1076 -1.015,-0.2795 -1.405,-0.5157 -0.39,-0.2362 -0.692,-0.5506 -0.903,-0.9454 -0.213,-0.3934 -0.318,-0.8743 -0.318,-1.4456 0,-0.6496 0.156,-1.1701 0.468,-1.5641 0.312,-0.3934 0.714,-0.7038 1.206,-0.93 0.489,-0.2261 1.025,-0.3732 1.605,-0.4429 0.581,-0.0681 1.139,-0.1022 1.674,-0.1022 0.42,0 0.795,0.012 1.134,0.0341 v -1.6337 c -0.028,-0.0021 -0.054,-0.0067 -0.081,-0.0094 -0.346,-0.0302 -0.675,-0.0449 -0.987,-0.0449 -1.047,0 -2.018,0.0891 -2.911,0.2663 -0.892,0.1773 -1.662,0.4576 -2.309,0.8409 -0.646,0.3841 -1.149,0.8704 -1.506,1.4612 -0.356,0.59 -0.535,1.2978 -0.535,2.1247 0,0.8662 0.162,1.5989 0.485,2.1983 0.322,0.6008 0.77,1.0925 1.339,1.4765 0.569,0.3833 1.237,0.6636 2.007,0.8409 0.77,0.1765 1.613,0.2656 2.526,0.2656 z m -55.2484,0 c 0.7124,0 1.4104,-0.0248 2.0904,-0.0743 0.681,-0.0488 1.3,-0.1131 1.858,-0.1913 0.557,-0.079 1.048,-0.1526 1.472,-0.2215 0.424,-0.0688 0.748,-0.133 0.971,-0.192 v -9.6215 c 0,-0.8061 -0.111,-1.5533 -0.334,-2.2423 -0.223,-0.6885 -0.581,-1.28397 -1.071,-1.78559 -0.491,-0.50249 -1.133,-0.89588 -1.925,-1.18086 -0.792,-0.28498 -1.756,-0.42815 -2.894,-0.42815 -1.1164,0 -2.0704,0.06953 -2.8619,0.20671 -0.7921,0.13787 -1.3772,0.28498 -1.7565,0.4422 l 0.3008,1.68249 c 0.2896,-0.0983 0.7473,-0.22539 1.3726,-0.3833 0.624,-0.15721 1.572,-0.23616 2.8435,-0.23616 0.8935,0 1.6105,0.12245 2.1595,0.36872 0.546,0.24684 0.969,0.57134 1.272,0.97464 0.3,0.4028 0.494,0.855 0.586,1.3574 0.076,0.4289 0.111,0.8711 0.123,1.322 h 0.01 v 8.2252 c -0.447,0.079 -0.986,0.1432 -1.623,0.192 -0.636,0.0495 -1.378,0.0737 -2.225,0.0737 -0.6926,0 -1.3123,-0.0543 -1.8577,-0.1627 -0.5471,-0.1076 -1.0159,-0.2795 -1.4063,-0.5157 -0.3906,-0.2362 -0.6913,-0.5506 -0.9031,-0.9454 -0.2117,-0.3934 -0.3173,-0.8743 -0.3173,-1.4456 0,-0.6496 0.1557,-1.1701 0.4685,-1.5641 0.3112,-0.3934 0.7129,-0.7038 1.2043,-0.93 0.4912,-0.2261 1.0265,-0.3732 1.6057,-0.4429 0.5808,-0.0681 1.1379,-0.1022 1.6729,-0.1022 0.421,0 0.794,0.012 1.135,0.0341 v -1.6337 c -0.028,-0.0021 -0.052,-0.0067 -0.081,-0.0094 -0.346,-0.0302 -0.674,-0.0449 -0.986,-0.0449 -1.0486,0 -2.0196,0.0891 -2.9111,0.2663 -0.8926,0.1773 -1.6623,0.4576 -2.3094,0.8409 -0.6477,0.3841 -1.1498,0.8704 -1.5066,1.4612 -0.3568,0.59 -0.5349,1.2978 -0.5349,2.1247 0,0.8662 0.1623,1.5989 0.4848,2.1983 0.3239,0.6008 0.7698,1.0925 1.3384,1.4765 0.5692,0.3833 1.2394,0.6636 2.0077,0.8409 0.7699,0.1765 1.6125,0.2656 2.5277,0.2656 z m -26.5622,0 c 0.7129,0 1.4102,-0.0248 2.0911,-0.0743 0.68,-0.0488 1.2994,-0.1131 1.8575,-0.1913 0.5566,-0.079 1.0488,-0.1526 1.4722,-0.2215 0.4235,-0.0688 0.7474,-0.133 0.9703,-0.192 v -9.6215 c 0,-0.8061 -0.1115,-1.5533 -0.3337,-2.2423 C 87.1302,10.4976 86.7726,9.90213 86.2825,9.40051 85.7918,8.89802 85.1499,8.50463 84.3578,8.21965 83.5654,7.93467 82.601,7.7915 81.4632,7.7915 c -1.116,0 -2.0693,0.06953 -2.8614,0.20671 -0.7924,0.13787 -1.3775,0.28498 -1.7568,0.4422 l 0.3016,1.68249 c 0.2895,-0.0983 0.7466,-0.22539 1.3721,-0.3833 0.6239,-0.15721 1.5725,-0.23616 2.8442,-0.23616 0.892,0 1.6115,0.12245 2.1585,0.36872 0.5461,0.24684 0.971,0.57134 1.2717,0.97464 0.3014,0.4028 0.496,0.855 0.5858,1.3574 0.0758,0.4289 0.1121,0.8711 0.1246,1.322 h 0.0086 l 4e-4,0.2171 3e-4,0.0104 v 0.9445 h -7e-4 v 1.6819 h 7e-4 v 5.3713 c -0.4466,0.079 -0.9868,0.1432 -1.6235,0.192 -0.6351,0.0495 -1.3772,0.0737 -2.225,0.0737 -0.6918,0 -1.3112,-0.0543 -1.8575,-0.1627 -0.5468,-0.1076 -1.0157,-0.2795 -1.4057,-0.5157 -0.3904,-0.2362 -0.6918,-0.5506 -0.9029,-0.9454 -0.2124,-0.3934 -0.318,-0.8743 -0.318,-1.4456 0,-0.6496 0.1557,-1.1701 0.4683,-1.5641 0.3114,-0.3934 0.7131,-0.7038 1.2045,-0.93 0.4908,-0.2261 1.0257,-0.3732 1.6063,-0.4429 0.5797,-0.0681 1.1385,-0.1022 1.6735,-0.1022 0.4194,0 0.7935,0.012 1.1339,0.0341 v -1.6337 c -0.0277,-0.0021 -0.0522,-0.0067 -0.0799,-0.0094 -0.3463,-0.0302 -0.6748,-0.0449 -0.9875,-0.0449 -1.0488,0 -2.0191,0.0891 -2.9109,0.2663 -0.8925,0.1773 -1.6624,0.4576 -2.3095,0.8409 -0.6477,0.3841 -1.1496,0.8704 -1.5066,1.4612 -0.3561,0.59 -0.5348,1.2978 -0.5348,2.1247 0,0.8662 0.1621,1.5989 0.4848,2.1983 0.3239,0.6008 0.7697,1.0925 1.3383,1.4765 0.5699,0.3833 1.2395,0.6636 2.0093,0.8409 0.7697,0.1765 1.6109,0.2656 2.5265,0.2656 z m 94.6406,5.3125 v -6.4163 c 0.382,0.2591 0.993,0.5326 1.834,0.8215 0.842,0.2875 1.836,0.4322 2.978,0.4322 1.257,0 2.373,-0.199 3.349,-0.5968 0.976,-0.3978 1.8,-0.9498 2.474,-1.6568 0.672,-0.7062 1.184,-1.5512 1.53,-2.5369 0.348,-0.9851 0.523,-2.0641 0.523,-3.238 0,-1.2536 -0.209,-2.3773 -0.623,-3.3725 -0.416,-0.9946 -0.999,-1.8401 -1.749,-2.53707 -0.752,-0.69606 -1.651,-1.22794 -2.693,-1.59667 -1.043,-0.36804 -2.204,-0.55266 -3.483,-0.55266 -1.549,0 -2.827,0.08988 -3.836,0.26931 -1.01,0.17856 -1.841,0.36804 -2.491,0.56687 V 29.0415 Z M 93.1268,23.729 V 10.0296 c 0.1852,-0.08017 0.5723,-0.1809 1.1611,-0.30234 0.5887,-0.12055 1.368,-0.18162 2.3392,-0.18162 0.9234,0 1.6679,0.04598 2.2347,0.13635 0.5655,0.09125 0.9405,0.17619 1.1255,0.25638 L 100.4375,8.2453 C 100.1833,8.14457 99.7278,8.04437 99.0694,7.94294 98.4111,7.84221 97.7124,7.7915 96.9726,7.7915 c -1.4547,0 -2.691,0.11652 -3.7079,0.34816 -1.0161,0.23181 -1.8132,0.45942 -2.3897,0.6807 V 23.729 Z m -34.064,5.3125 v -6.4163 c 0.3807,0.2591 0.9924,0.5326 1.8335,0.8215 0.8418,0.2875 1.8342,0.4322 2.9784,0.4322 1.2565,0 2.3729,-0.199 3.3486,-0.5968 0.9765,-0.3978 1.801,-0.9498 2.4736,-1.6568 0.6733,-0.7062 1.1835,-1.5512 1.5311,-2.5369 0.3483,-0.9851 0.522,-2.0641 0.522,-3.238 0,-1.2536 -0.2077,-2.3773 -0.6222,-3.3725 -0.4159,-0.9946 -0.999,-1.8401 -1.75,-2.53707 C 68.6257,9.24477 67.7287,8.71289 66.6854,8.34416 65.6412,7.97612 64.481,7.7915 63.2021,7.7915 c -1.5483,0 -2.8272,0.08988 -3.8369,0.26931 -1.0096,0.17856 -1.8395,0.36804 -2.4902,0.56687 V 29.0415 Z M 122.543,23.729 c 2.037,0 3.644,-0.3597 4.82,-1.0794 1.174,-0.7199 1.762,-1.7789 1.762,-3.1791 0,-0.7389 -0.146,-1.3533 -0.436,-1.8442 -0.293,-0.49 -0.672,-0.9087 -1.142,-1.2588 -0.471,-0.3501 -1.015,-0.6497 -1.628,-0.8985 -0.617,-0.2482 -1.261,-0.4921 -1.932,-0.7307 -0.649,-0.2393 -1.225,-0.4575 -1.73,-0.6574 -0.503,-0.1984 -0.929,-0.4133 -1.276,-0.643 -0.348,-0.2311 -0.61,-0.4963 -0.788,-0.7973 -0.181,-0.3005 -0.27,-0.6607 -0.27,-1.0822 0,-0.0234 0.003,-2.79523 0.005,-3.56868 l 0.001,-0.19822 h -2.209 c -0.004,0.07783 -0.012,3.2004 -0.013,3.8334 v 0.1096 c 0,0.6594 0.134,1.2195 0.403,1.6789 0.27,0.4602 0.626,0.8551 1.075,1.1848 0.447,0.3298 0.962,0.6193 1.543,0.8694 0.583,0.2502 1.198,0.4948 1.849,0.7348 0.805,0.2996 1.483,0.5594 2.032,0.7796 0.547,0.2196 0.99,0.45 1.325,0.6899 0.337,0.24 0.576,0.5092 0.724,0.8095 0.144,0.2998 0.217,0.66 0.217,1.0796 0,0.8794 -0.409,1.5041 -1.226,1.8739 -0.816,0.3704 -1.852,0.5547 -3.106,0.5547 -0.695,0 -1.305,-0.0395 -1.83,-0.1197 -0.527,-0.0795 -0.979,-0.1754 -1.361,-0.2849 -0.381,-0.1094 -0.683,-0.2107 -0.906,-0.2996 -0.224,-0.0905 -0.37,-0.1551 -0.437,-0.1951 l -0.571,1.7687 c 0.269,0.1209 0.806,0.2956 1.613,0.5246 0.805,0.2306 1.969,0.3454 3.492,0.3454 z m 15.839,0 c 0.347,-0.6678 0.714,-1.4184 1.1,-2.2532 0.384,-0.8341 0.782,-1.7256 1.19,-2.6744 0.409,-0.9496 0.805,-1.9474 1.186,-2.9948 0.384,-1.046 0.749,-2.117 1.096,-3.2125 0.349,1.093 0.716,2.1612 1.1,3.206 0.384,1.0441 0.781,2.0406 1.192,2.9888 0.41,0.9489 0.809,1.8398 1.196,2.6732 0.387,0.8334 0.758,1.5894 1.111,2.2669 h 2.105 c 1.191,-2.1657 2.286,-4.4555 3.278,-6.8704 0.994,-2.4144 1.911,-5.0829 2.752,-8.0046 h -2.239 c -0.256,1.01858 -0.576,2.1181 -0.962,3.2992 -0.385,1.1811 -0.801,2.3523 -1.243,3.5113 -0.446,1.1595 -0.888,2.2611 -1.333,3.305 -0.444,1.0448 -0.865,1.9305 -1.262,2.6589 -0.469,-0.9593 -0.93,-1.9857 -1.383,-3.0801 -0.457,-1.0937 -0.887,-2.2016 -1.292,-3.3227 -0.406,-1.1224 -0.778,-2.2247 -1.114,-3.3079 -0.337,-1.0838 -0.608,-2.10439 -0.816,-3.0637 h -1.957 c -0.277,0.95797 -0.589,1.9786 -0.936,3.0631 -0.349,1.0845 -0.719,2.1827 -1.112,3.2955 -0.393,1.1132 -0.814,2.2173 -1.262,3.3121 -0.448,1.0958 -0.896,2.1203 -1.342,3.0743 -0.396,-0.7284 -0.823,-1.6114 -1.277,-2.6484 -0.457,-1.0362 -0.906,-2.1345 -1.351,-3.2946 -0.444,-1.1597 -0.86,-2.3288 -1.244,-3.5087 -0.386,-1.1783 -0.709,-2.27606 -0.966,-3.2933 h -2.409 c 0.835,2.9163 1.746,5.5837 2.737,8.0005 0.989,2.4164 2.08,4.7081 3.275,6.8745 z m 42.219,-1.0625 c -0.529,0 -1.034,-0.046 -1.516,-0.136 -0.484,-0.0905 -0.933,-0.2072 -1.347,-0.3487 -0.415,-0.1408 -0.777,-0.2917 -1.087,-0.4537 -0.31,-0.1614 -0.569,-0.313 -0.776,-0.4545 V 10.3407 c 0.345,-0.1008 0.858,-0.197 1.535,-0.2884 0.679,-0.09046 1.57,-0.1358 2.674,-0.1358 1.932,0 3.483,0.5506 4.656,1.6509 1.175,1.1005 1.76,2.68 1.76,4.7395 0,0.8678 -0.103,1.6915 -0.31,2.4679 -0.207,0.7778 -0.541,1.4533 -1.001,2.0292 -0.459,0.5752 -1.063,1.0297 -1.81,1.3627 -0.748,0.3328 -1.673,0.4998 -2.778,0.4998 z m -116.8752,0 c -0.5297,0 -1.035,-0.046 -1.5177,-0.136 C 61.7247,22.44 61.2765,22.3233 60.8624,22.1818 60.4483,22.041 60.0858,21.8901 59.7758,21.7281 59.4658,21.5667 59.2068,21.4151 59,21.2736 V 10.3407 c 0.3441,-0.1008 0.8568,-0.197 1.5348,-0.2884 0.6785,-0.09046 1.5699,-0.1358 2.6728,-0.1358 1.9325,0 3.4849,0.5506 4.657,1.6509 1.1736,1.1005 1.7604,2.68 1.7604,4.7395 0,0.8678 -0.1034,1.6915 -0.3107,2.4679 -0.2066,0.7778 -0.5405,1.4533 -1.0002,2.0292 -0.4609,0.5752 -1.0641,1.0297 -1.8114,1.3627 -0.748,0.3328 -1.6735,0.4998 -2.7769,0.4998 z",fill:"#ffffff"}})])]):t._e(),t._v(" "),"openocean"===t.aggregatorType?e("div",{staticClass:"aggregator-logo"},[e("svg",{attrs:{width:"121px",height:"24px",viewBox:"0 0 121 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticClass:"aggregator-logo-active",attrs:{d:"M20.98005,12.46827 C20.97855,12.50007 20.97795,12.53247 20.97615,12.56397 C20.95065,12.65727 20.87055,12.72627 20.77035,12.72957 C20.73555,12.72237 20.70045,12.71457 20.66535,12.70677 C20.42655,12.65427 20.18325,12.59727 19.92945,12.53007 C16.34325,11.58267 14.26755,12.13917 13.56345,12.40887 C13.55775,12.41127 13.55145,12.41277 13.54605,12.41547 C13.41405,12.47367 13.31505,12.59247 13.28595,12.73707 L13.28595,12.91707 L13.28595,14.77167 L13.28595,14.95137 C13.32735,15.15687 13.50915,15.31167 13.72665,15.31167 C13.75665,15.31167 13.78605,15.30837 13.81395,15.30267 C13.81965,15.30117 13.82445,15.29967 13.83015,15.29847 C14.89005,15.02097 17.35485,14.56887 19.92945,15.46167 L20.02755,15.49497 L20.04465,15.50067 C20.04915,15.50217 20.05425,15.50367 20.05905,15.50517 C20.13465,15.54147 20.18775,15.61737 20.18775,15.70677 C20.18775,15.72117 20.18235,15.73347 20.17995,15.74697 C20.16225,15.78507 20.14395,15.82257 20.12565,15.86037 C18.68025,18.89787 15.58785,20.99997 11.99985,20.99997 C7.02945,20.99997 2.99985,16.97067 2.99985,11.99997 C2.99985,7.02927 7.02945,2.99997 11.99985,2.99997 C15.51375,2.99997 18.55395,5.01567 20.03625,7.95237 C20.05335,7.97547 20.06565,8.00097 20.07315,8.02977 C20.07765,8.04807 20.08425,8.06547 20.08425,8.08557 C20.08425,8.20977 19.98375,8.31057 19.85925,8.31057 C19.83855,8.31057 19.81995,8.30367 19.80075,8.29857 C19.79025,8.29557 19.77885,8.29527 19.76865,8.29047 C16.37355,7.42557 14.35965,7.91697 13.61685,8.18817 C13.58115,8.20137 13.55085,8.21307 13.52145,8.22507 C13.40205,8.28687 13.31295,8.39817 13.28595,8.53347 L13.28595,8.71317 L13.28595,10.58307 L13.28595,10.76277 C13.32735,10.96827 13.50915,11.12307 13.72665,11.12307 C13.73325,11.12307 13.73925,11.12127 13.74585,11.12097 C13.80165,11.10567 13.86225,11.08977 13.92735,11.07387 C15.03495,10.79577 17.42985,10.39497 19.92945,11.26167 L20.04465,11.30067 C20.31195,11.38917 20.57715,11.46087 20.84025,11.52237 C20.84835,11.52477 20.85705,11.52507 20.86485,11.52837 C20.93325,11.55837 20.98005,11.62257 20.99265,11.69847 C20.99355,11.71977 20.99385,11.74107 20.99445,11.76237 C20.99655,11.84157 20.99985,11.92047 20.99985,11.99997 C20.99985,12.15777 20.98815,12.31257 20.98005,12.46827 M26.10255,8.53437 C26.07255,8.53437 26.04285,8.53737 26.01405,8.54307 C25.98555,8.55207 25.95705,8.56107 25.92585,8.57037 C25.46685,8.70507 24.74985,8.84727 23.76825,8.85777 C23.75625,8.85807 23.74425,8.85807 23.73195,8.85837 C23.65005,8.85147 23.58165,8.80347 23.54775,8.73327 C23.54085,8.71887 23.53785,8.70327 23.53455,8.68737 C22.02405,3.42057 17.00715,-0.36423 11.17095,0.02787 C5.25015,0.42567 0.45285,5.20197 0.03135,11.12097 C-0.46905,18.14577 5.08185,23.999979 11.99985,23.999979 C17.17155,23.999979 21.57675,20.72787 23.26365,16.14177 C23.26815,16.12767 23.27235,16.11417 23.27895,16.10127 C23.31375,16.03497 23.37945,15.98907 23.45835,15.98247 C23.46855,15.98217 23.47875,15.98157 23.48925,15.98127 C24.69795,15.94587 25.67055,15.72327 26.17425,15.58047 C26.21655,15.56847 26.25405,15.55737 26.28975,15.54687 C26.43825,15.47967 26.54295,15.33447 26.55315,15.16317 L26.55315,15.10827 L26.55315,13.26747 L26.55315,13.11057 C26.51595,12.89667 26.33055,12.73347 26.10585,12.73347 C26.07585,12.73347 26.04705,12.73707 26.01885,12.74217 C25.99365,12.74997 25.96485,12.75837 25.93755,12.76647 C25.55205,12.88107 24.98205,13.00197 24.22035,13.04427 C24.20535,13.04517 24.18975,13.04577 24.17475,13.04637 C24.06135,13.03707 23.97255,12.94647 23.96895,12.83157 C23.96925,12.82497 23.96985,12.81837 23.97015,12.81177 C23.98785,12.54327 23.99985,12.27327 23.99985,11.999979 C23.99985,11.99187 23.99955,11.98377 23.99955,11.97537 C23.99955,11.96247 23.99925,11.95017 23.99925,11.93727 C24.00705,11.84307 24.07185,11.76777 24.16035,11.74257 C24.18825,11.74017 24.21645,11.73777 24.24405,11.73537 C25.09005,11.65377 25.76535,11.49567 26.16135,11.38407 C26.21325,11.36937 26.25945,11.35587 26.30145,11.34327 C26.44065,11.27577 26.53845,11.13957 26.55315,10.97847 L26.55315,10.89717 L26.55315,8.99637 L26.55315,8.97507 C26.54775,8.73087 26.34855,8.53437 26.10255,8.53437"}}),t._v(" "),e("g",{attrs:{id:"Group",transform:"translate(35.700000, 6.000000)"}},[e("path",{attrs:{d:"M79.56324,11.42763 L79.56324,5.71473 C79.76124,5.42523 80.02254,5.19543 80.34774,5.02533 C80.67264,4.85523 81.02304,4.77033 81.39894,4.77033 C81.81534,4.77033 82.11744,4.87683 82.30554,5.09013 C82.49334,5.30343 82.58724,5.64843 82.58724,6.12603 L82.58724,11.42763 L84.92574,11.42763 L84.92574,5.99643 C84.92574,5.08263 84.69444,4.37523 84.23244,3.87513 C83.77014,3.37473 83.11284,3.12483 82.25964,3.12483 C81.08664,3.12483 80.13954,3.54633 79.41864,4.38933 L79.16724,3.25443 L77.21724,3.25443 L77.21724,11.42763 L79.56324,11.42763 Z M71.15394,10.02603 C70.78284,10.02603 70.49604,9.93843 70.29324,9.76323 C70.08984,9.58803 69.98844,9.33303 69.98844,8.99763 C69.98844,8.59143 70.17234,8.27403 70.54074,8.04573 C70.90854,7.81713 71.42544,7.70283 72.09084,7.70283 L72.89064,7.70283 L72.89064,9.21093 C72.68214,9.45963 72.42444,9.65793 72.11754,9.80523 C71.81004,9.95223 71.48904,10.02603 71.15394,10.02603 L71.15394,10.02603 Z M70.55214,11.54943 C71.02944,11.54943 71.47764,11.45673 71.89644,11.27133 C72.31554,11.08593 72.69264,10.81563 73.02774,10.46013 L73.29444,11.42763 L75.22914,11.42763 L75.22914,6.42303 C75.22914,5.34153 74.92164,4.51623 74.30724,3.94743 C73.69284,3.37863 72.80904,3.09453 71.65674,3.09453 C71.13864,3.09453 70.58244,3.15393 69.98844,3.27333 C69.39444,3.39273 68.82804,3.56133 68.28984,3.78003 L68.78484,5.35683 C69.16044,5.19423 69.58194,5.06073 70.04934,4.95693 C70.51644,4.85253 70.92774,4.80063 71.28324,4.80063 C72.32424,4.80063 72.86004,5.27283 72.89064,6.21753 L72.89064,6.42303 L71.89284,6.42303 C70.60284,6.42303 69.59844,6.66153 68.88024,7.13913 C68.16144,7.61643 67.80234,8.28183 67.80234,9.13473 C67.80234,9.87123 68.04984,10.45773 68.54484,10.89453 C69.04014,11.33103 69.70884,11.54943 70.55214,11.54943 L70.55214,11.54943 Z M64.81644,6.42303 L61.51044,6.42303 C61.60194,5.84913 61.79604,5.42133 62.09334,5.13963 C62.39034,4.85793 62.79774,4.71693 63.31584,4.71693 C64.25004,4.71693 64.75014,5.28543 64.81644,6.42303 L64.81644,6.42303 Z M63.33114,11.5801481 C64.38204,11.58483 65.52714,11.30043 66.76644,10.72683 L66.20274,9.27183 C65.70504,9.48003 65.25054,9.63123 64.83924,9.72513 C64.42794,9.81903 64.01904,9.86613 63.61284,9.86613 C62.30274,9.86613 61.58664,9.17043 61.46484,7.77903 L66.96444,7.77903 L66.96444,7.24593 C66.96444,4.47813 65.74314,3.09453 63.30054,3.09453 C62.00034,3.09453 60.98994,3.46623 60.26904,4.21023 C59.54754,4.95423 59.18724,5.99133 59.18724,7.32183 C59.18724,8.65743 59.55534,9.70083 60.29184,10.45263 C61.02804,11.20413 62.04114,11.5801481 63.33114,11.5801481 L63.33114,11.5801481 Z M55.92714,11.54943 C56.32314,11.54943 56.73954,11.50383 57.17634,11.41233 C57.61284,11.32113 58.01934,11.19153 58.39494,11.02383 L58.02174,9.43203 C57.46314,9.68073 56.89194,9.80523 56.30784,9.80523 C55.59684,9.80523 55.05234,9.58923 54.67404,9.15783 C54.29544,8.72583 54.10674,8.11413 54.10674,7.32183 C54.10674,6.52443 54.29064,5.90763 54.65874,5.47113 C55.02684,5.03403 55.54854,4.81593 56.22414,4.81593 C56.74224,4.81593 57.27774,4.96053 57.83154,5.25003 L58.34934,3.70383 C57.60294,3.31773 56.81304,3.12483 55.98054,3.12483 C54.63444,3.12483 53.59374,3.49173 52.85724,4.22553 C52.12074,4.95903 51.75294,5.99133 51.75294,7.32183 C51.75294,8.68773 52.11084,9.73383 52.82694,10.46013 C53.54304,11.18613 54.57624,11.54943 55.92714,11.54943 L55.92714,11.54943 Z M45.38484,9.69843 C44.45034,9.69843 43.74354,9.37113 43.26354,8.71593 C42.78354,8.06073 42.54384,7.10343 42.54384,5.84433 C42.54384,4.60503 42.78114,3.66813 43.25604,3.03363 C43.73064,2.39853 44.44044,2.08143 45.38484,2.08143 C46.31934,2.08143 47.02644,2.40123 47.50644,3.04113 C47.98614,3.68103 48.22614,4.61523 48.22614,5.84433 C48.22614,7.10343 47.98614,8.06073 47.50644,8.71593 C47.02644,9.37113 46.31934,9.69843 45.38484,9.69843 L45.38484,9.69843 Z M45.38484,11.56473 C47.11134,11.56473 48.42654,11.07453 49.33074,10.09473 C50.23434,9.11433 50.68644,7.69743 50.68644,5.84433 C50.68644,4.03143 50.23194,2.63853 49.32294,1.66623 C48.41394,0.69363 47.10114,0.20763 45.38484,0.20763 C43.66854,0.20763 42.35574,0.69513 41.44674,1.67013 C40.53774,2.64513 40.08324,4.03623 40.08324,5.84433 C40.08324,7.70283 40.53264,9.12093 41.43174,10.09833 C42.33054,11.07573 43.64814,11.56473 45.38484,11.56473 L45.38484,11.56473 Z M33.20514,11.42763 L33.20514,5.71473 C33.40314,5.42523 33.66444,5.19543 33.98964,5.02533 C34.31454,4.85523 34.66494,4.77033 35.04084,4.77033 C35.45694,4.77033 35.75904,4.87683 35.94714,5.09013 C36.13494,5.30343 36.22914,5.64843 36.22914,6.12603 L36.22914,11.42763 L38.56764,11.42763 L38.56764,5.99643 C38.56764,5.08263 38.33634,4.37523 37.87434,3.87513 C37.41204,3.37473 36.75474,3.12483 35.90154,3.12483 C34.72854,3.12483 33.78144,3.54633 33.06024,4.38933 L32.80884,3.25443 L30.85884,3.25443 L30.85884,11.42763 L33.20514,11.42763 Z M27.12654,6.42303 L23.82054,6.42303 C23.91204,5.84913 24.10644,5.42133 24.40344,5.13963 C24.70044,4.85793 25.10784,4.71693 25.62594,4.71693 C26.56014,4.71693 27.06024,5.28543 27.12654,6.42303 L27.12654,6.42303 Z M25.64124,11.5801481 C26.69244,11.58483 27.83724,11.30043 29.07654,10.72683 L28.51284,9.27183 C28.01514,9.48003 27.56064,9.63123 27.14934,9.72513 C26.73804,9.81903 26.32914,9.86613 25.92294,9.86613 C24.61284,9.86613 23.89674,9.17043 23.77494,7.77903 L29.27454,7.77903 L29.27454,7.24593 C29.27454,4.47813 28.05324,3.09453 25.61064,3.09453 C24.31044,3.09453 23.30004,3.46623 22.57914,4.21023 C21.85764,4.95423 21.49734,5.99133 21.49734,7.32183 C21.49734,8.65743 21.86544,9.70083 22.60194,10.45263 C23.33814,11.20413 24.35124,11.5801481 25.64124,11.5801481 L25.64124,11.5801481 Z M15.94464,9.95763 C15.72594,9.95763 15.54084,9.94713 15.38844,9.92703 C15.23604,9.90663 15.00984,9.86073 14.71044,9.78993 L14.71044,6.08043 C14.84244,5.67393 15.05694,5.35893 15.35424,5.13573 C15.65124,4.91223 16.00764,4.80058294 16.42434,4.80058294 C17.56704,4.79553 18.13824,5.61573 18.13824,7.26093 C18.13824,8.14473 17.94894,8.81493 17.57064,9.27183 C17.19234,9.72903 16.65024,9.95763 15.94464,9.95763 L15.94464,9.95763 Z M14.71044,15.00003 L14.71044,11.38203 C15.19794,11.49363 15.65514,11.54943 16.08174,11.54943 C16.98534,11.54943 17.76744,11.37543 18.42774,11.02773 C19.08774,10.67973 19.59804,10.17843 19.95864,9.52323 C20.31924,8.86833 20.49954,8.08863 20.49954,7.18473 C20.49954,5.89503 20.18454,4.89963 19.55514,4.19883 C18.92514,3.49803 18.04434,3.14763 16.91184,3.14763 C16.41924,3.14763 15.98364,3.23283 15.60564,3.40293 C15.22704,3.57273 14.86524,3.84603 14.51994,4.22163 L14.16204,3.25443 L12.37194,3.25443 L12.37194,15.00003 L14.71044,15.00003 Z M5.34894,9.69843 C4.41444,9.69843 3.70734,9.37113 3.22764,8.71593 C2.74764,8.06073 2.50764,7.10343 2.50764,5.84433 C2.50764,4.60503 2.74494,3.66813 3.21984,3.03363 C3.69444,2.39853 4.40454,2.08143 5.34894,2.08143 C6.28314,2.08143 6.99054,2.40123 7.47024,3.04113 C7.95024,3.68103 8.19024,4.61523 8.19024,5.84433 C8.19024,7.10343 7.95024,8.06073 7.47024,8.71593 C6.99054,9.37113 6.28314,9.69843 5.34894,9.69843 L5.34894,9.69843 Z M5.34894,11.56473 C7.07544,11.56473 8.39064,11.07453 9.29454,10.09473 C10.19844,9.11433 10.65054,7.69743 10.65054,5.84433 C10.65054,4.03143 10.19574,2.63853 9.28704,1.66623 C8.37804,0.69363 7.06524,0.20763 5.34894,0.20763 C3.63234,0.20763 2.31954,0.69513 1.41084,1.67013 C0.50184,2.64513 0.04734,4.03623 0.04734,5.84433 C0.04734,7.70283 0.49674,9.12093 1.39554,10.09833 C2.29464,11.07573 3.61224,11.56473 5.34894,11.56473 L5.34894,11.56473 Z",fill:"#FFFFFF"}})])])]):t._e()])}),[],!1,null,null,null);e.default=component.exports},1615:function(t,e,o){"use strict";o.r(e);var n=o(420),r=o(1548),l=o(1549),c=o(1128),m=o(1129),d=o(1177),h=o(1162),k=o(1151),f=o(1170),v=o(1184),T=o(21),C=o(1133),_=o(244),A=o(54);const{ALGEBRA:y,OPEN_OCEAN:w}=_.c,{OPEN_OCEAN_REBATE:x,CLAIM_REWARDS:S,SELL_TAX:I,BUY_TAX:L,RATE:R,MINIMUM_RECEIVED:O,MAXIMUM_SOLD:P,PRICE_IMPACT:E,PROCESSING:M,SWAP:N,WRAP:F,UNWRAP:D,APPROVE_TOKEN:$,POWERED_BY:B}=_.d;var W={components:{Accordion:C.default,DataRow:c.default,SettingsModal:d.default,ConfirmModal:r.default,Processing:m.default,TokenSelect:k.default,TokenImportModal:f.default,TokenInputFull:h.default,Refresh:v.default,AggregatorLogo:l.default},props:{lastRefreshTime:{type:Number,default:0},forceRefreshFunc:{type:Function,default:null},tokenAddress1:{type:String,default:null},tokenAddress2:{type:String,default:null}},data:()=>({activeAggregator:"camelot",availableAggregators:["camelot"],aggregatorKey:"AGGREGATOR",approvalAddress:null,switchAggregator:!1,selectFromToken:null,selectToToken:null,fromTokenAmount:null,fromTokenUSD:null,toTokenUSD:null,toTokenAmount:null,tokensToImport:[],maxFromTokenInputAmount:null,minToTokenInputAmount:null,fromTokenApproved:!0,swapBasedOnFromToken:!0,error:null,approveLoading:!1,swapLoading:!1,swapRoute:[],path:[],feeRoute:[],priceImpact:0,pathId:null,args:[],updating:!1,updatingInput:!1,updateRouteWithDebounceFunc:null,ALGEBRA:y,OPEN_OCEAN:w,OPEN_OCEAN_REBATE:x,CLAIM_REWARDS:S,SELL_TAX:I,BUY_TAX:L,RATE:R,MINIMUM_RECEIVED:O,MAXIMUM_SOLD:P,PRICE_IMPACT:E,PROCESSING:M,SWAP:N,WRAP:F,UNWRAP:D,APPROVE_TOKEN:$,POWERED_BY:B,ERROR_TEMPLATE:A.c.ERROR_TEMPLATE}),computed:{aggregator(){return"openocean"===this.activeAggregator&&this.$contracts.openOceanAPI.isAvailable?this.$contracts.openOceanAPI:"paraswap"===this.activeAggregator&&this.$contracts.paraswapAPI.isAvailable?this.$contracts.paraswapAPI:("camelot"===this.activeAggregator&&this.$contracts.camelotAggregatorAPI.isAvailable,this.$contracts.camelotAggregatorAPI)},nonSelectedAggregators(){return this.availableAggregators.filter((t=>t!==this.activeAggregator))},account(){return this.$store.getters["web3-provider/account"]},slippage(){return this.$store.getters["exchange-config/slippage"]},maxHops(){return this.$store.getters["exchange-config/maxHops"]},tokens(){return this.$contracts.supportedTokens.tokens.filter((t=>!t.excludeFromExchange))},fromToken(){var t;return null===(t=this.selectFromToken)||void 0===t?void 0:t.selectedToken},toToken(){var t;return null===(t=this.selectToToken)||void 0===t?void 0:t.selectedToken},maxFromTokenAmount(){return this.fromToken&&this.account?this.fromToken.accountBalanceFormatted:null},maxToTokenAmount(){return this.toToken&&this.account?this.toToken.accountBalanceFormatted:null},fromTokenSymbol(){return this.fromToken?this.fromToken.symbol:null},isDataInitialized(){return this.$store.getters["general/isDataInitialized"]},toTokenSymbol(){return this.toToken?this.toToken.symbol:null},fromTokenInputBottomInfos(){return"balance: ".concat(this.getLocaleString(this.maxFromTokenAmount,18)||"0"," ").concat(this.fromTokenSymbol||"")},toTokenInputBottomInfos(){return"balance: ".concat(this.getLocaleString(this.maxToTokenAmount,18)||"0"," ").concat(this.toTokenSymbol||"")},fromTokenValueInToToken(){return this.toTokenAmount/this.fromTokenAmount},toTokenValueInToToken(){return this.fromTokenAmount/this.toTokenAmount},isHighPriceImpact(){return!this.isInvalidPriceImpact&&(Number(this.priceImpact)<0&&Math.abs(this.priceImpact)>5)},isHighestPriceImpact(){return!this.isInvalidPriceImpact&&(Number(this.priceImpact)<0&&Math.abs(this.priceImpact)>10)},isInvalidPriceImpact(){return null===this.priceImpact},priceImpactDisplay(){return this.isInvalidPriceImpact?"Price couldn't be determined":"".concat(this.getLocaleString(Math.abs(this.priceImpact),4,4)," %")}},watch:{lastRefreshTime(){this.updateRouteWithDebounce()},slippage(){this.updateRouteWithDebounce()},maxHops(){this.updateRouteWithDebounce()},fromToken(t,e){var o,n;t&&(null===(o=this.toToken)||void 0===o?void 0:o.address)===t.address&&(null===(n=this.toToken)||void 0===n?void 0:n.symbol)===t.symbol&&(this.selectToToken.selectedToken=e),this.onUserInputFromTokenAmount()},toToken(t,e){var o,n;t&&(null===(o=this.fromToken)||void 0===o?void 0:o.address)===t.address&&(null===(n=this.fromToken)||void 0===n?void 0:n.symbol)===t.symbol&&(this.selectFromToken.selectedToken=e),this.toTokenAmount=null,this.onUserInputToTokenAmount()},isDataInitialized(){this.init()},aggregator(){this.updatingInput=!0,this.aggregator.swapFromOutputEnabled||this.swapBasedOnFromToken||(this.swapBasedOnFromToken=!0,this.toTokenAmount="0",this.minToTokenInputAmount="0"),this.updateRouteWithDebounce()}},async mounted(){this.selectFromToken=this.$refs.selectFromToken,this.selectToToken=this.$refs.selectToToken,this.getAndSetStoredAggregator(),this.isDataInitialized&&await this.init()},methods:{async connectWallet(){await this.$connectWallet.connect()},async init(){this.setAvailableAggregators(),this.getAndSetStoredAggregator(),this.switchAggregator=!1,await this.checkInitTokens(),this.tokensToImport.length>0&&this.$bvModal.show("importTokens")},getAndSetStoredAggregator(){const t=window.localStorage.getItem(this.aggregatorKey);t&&(this.availableAggregators.includes(t)?this.activeAggregator=t:this.activeAggregator="camelot")},resetAmounts(){this.fromTokenAmount=null,this.onUserInputFromTokenAmount()},async checkInitTokens(){if(this.tokenAddress1){const t=await Object(T.e)(this.$store.app,this.tokenAddress1);t&&t.external&&!t.imported?this.tokensToImport.push(t):this.selectFromToken.selectedToken=t}else{let t=this.tokens.find((i=>i.defaultSwapInput));t=t&&t.isWNative?t.native:t,this.selectFromToken.selectedToken=t||this.tokens[0]}if(this.tokenAddress2&&this.tokenAddress2!==this.tokenAddress1){const t=await Object(T.e)(this.$store.app,this.tokenAddress2);t&&t.external&&!t.imported?this.tokensToImport.push(t):this.selectToToken.selectedToken=t}else{let t=this.tokens.find((i=>i.defaultSwapOutput));t=t&&t.isWNative?this.$contracts.nativeToken:t,this.selectToToken.selectedToken=t||this.$contracts.grailToken}},invertTokens(){const t=this.fromToken;this.selectFromToken.selectedToken=this.toToken,this.selectToToken.selectedToken=t},onUserInputFromTokenAmount(){this.error=null,this.swapBasedOnFromToken=!0,this.toTokenAmount=null,this.minToTokenInputAmount=null,this.maxFromTokenInputAmount=this.fromTokenAmount,this.updatingInput=!0,this.updateRouteWithDebounce()},onUserInputToTokenAmount(){this.error=null,this.swapBasedOnFromToken=!1,this.fromTokenAmount=null,this.maxFromTokenInputAmount=null,this.minToTokenInputAmount=this.toTokenAmount,this.updatingInput=!0,this.updateRouteWithDebounce()},updateRouteWithDebounce(){var t;null===(t=this.updateRouteWithDebounceFunc)||void 0===t||t.cancel();const e=Object(n.debounce)(this.updateRoute,1e3);this.updateRouteWithDebounceFunc=e,e()},isUnwrapOrWrap(){return this.toToken&&this.fromToken&&(this.fromToken.isNative||this.toToken.isNative)&&this.toToken.address===this.fromToken.address},async updateRoute(){let t=null;if(this.toToken&&this.fromToken){Object(T.d)({store:this.$store,$contracts:this.$contracts},[this.fromToken,this.toToken],!0);let e=null;if(this.isUnwrapOrWrap()){const path=[{symbol:this.fromTokenSymbol,address:this.fromToken.address},{symbol:this.toTokenSymbol,address:this.fromToken.address}];this.swapBasedOnFromToken&&this.fromTokenAmount&&this.fromTokenAmount>0?(this.toTokenAmount=this.fromTokenAmount,this.minToTokenInputAmount=this.fromTokenAmount,e={bestRoute:[],path:path,feeRoute:[0],totalSwapFee:0,priceImpact:0,approvalAddress:null}):!this.swapBasedOnFromToken&&this.toTokenAmount&&this.toTokenAmount>0&&(this.fromTokenAmount=this.toTokenAmount,this.maxFromTokenInputAmount=this.toTokenAmount,e={bestRoute:[],path:path,feeRoute:[0],totalSwapFee:0,priceImpact:0,approvalAddress:null}),e&&(e.inputUSD=this.toToken.price*this.toTokenAmount,e.outputUSD=this.fromToken.price*this.fromTokenAmount)}else this.aggregator.isAvailable&&this.swapBasedOnFromToken&&this.fromTokenAmount&&this.fromTokenAmount>0?(e=await this.aggregator.computeRoute(this.fromToken,this.fromTokenAmount,this.toToken,this.maxHops),e&&Number(e.outputAmount)>0?(this.toTokenAmount=e.outputAmount,this.minToTokenInputAmount=e.minOutputAmount):(this.toTokenAmount=null,this.minToTokenInputAmount=null,e?e.outputAmount<=0&&(t="Insufficient liquidity"):t="No route found")):this.aggregator.isAvailable&&!this.swapBasedOnFromToken&&this.toTokenAmount&&this.toTokenAmount>0&&(e=await this.aggregator.computeRouteFromOutput(this.toToken,this.toTokenAmount,this.fromToken,this.maxHops),e&&Number(e.inputAmount)>0?(this.maxFromTokenInputAmount=e.maxInputAmount,this.fromTokenAmount=e.inputAmount):(this.fromTokenAmount=null,this.maxFromTokenInputAmount=null,e?e.inputAmount<=0&&(t="Insufficient liquidity"):t="No route found"));e?(this.swapRoute=e.bestRoute,this.fromTokenUSD=e.inputUSD,this.toTokenUSD=e.outputUSD,this.pathId=e.pathId,this.path=e.path,this.priceImpact=e.priceImpact,this.approvalAddress=e.approvalAddress,this.args=e.args,this.account&&!t&&(this.fromToken.hasSufficientBalance(this.fromTokenAmount)||(t="Insufficient balance")),!t&&Number(this.priceImpact)<-100&&(t="Price impact too high")):(this.swapRoute=[],this.path=[],this.priceImpact=0,this.fromTokenUSD=null,this.toTokenUSD=null,this.pathId=null,(null!==this.fromTokenAmount&&!this.fromToken.isValidAmount(this.fromTokenAmount)||null!==this.toTokenAmount&&!this.toToken.isValidAmount(this.toTokenAmount))&&(this.error="Invalid amount")),this.error=t,this.updatingInput=!1,await this.refreshApprove()}},async refreshApprove(){this.account&&this.approvalAddress&&(this.fromTokenApproved=await this.fromToken.hasAccountApproval(this.account,this.approvalAddress,this.fromTokenAmount),this.approveLoading&&this.fromTokenApproved&&(this.approveLoading=!1))},async fromTokenApprove(){if(!this.$store.getters["web3-provider/accountProvider"])return;this.approveLoading=!0;const t=await this.fromToken.approveMaxV2(this.approvalAddress);t?t.wait().then((()=>{this.approveLoading=!1,this.refreshApprove()})):this.approveLoading=!1},setAggregator(t){window.localStorage.setItem(this.aggregatorKey,t),this.activeAggregator=t,this.switchAggregator&&this.onSwitchAggregator()},setAvailableAggregators(){this.$contracts.paraswapAPI.isAvailable&&this.availableAggregators.push("paraswap"),this.$contracts.openOceanAPI.isAvailable&&this.availableAggregators.push("openocean")},onSwitchAggregator(){this.switchAggregator=!this.switchAggregator}}},U=W,j=o(23),component=Object(j.a)(U,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"d-flex align-items-center justify-content-between mb-3"},[e("h3",[t._v(t._s(t.$t("pages.exchange.title")))]),t._v(" "),e("div",[e("refresh",{attrs:{"force-refresh-func":t.updateRoute}}),t._v(" "),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.exchange-settings",modifiers:{"exchange-settings":!0}}],staticClass:"right-bar-toggle",attrs:{type:"button",variant:"icon"}},[e("i",{staticClass:"mdi mdi-cog"})]),t._v(" "),e("settings-modal")],1)]),t._v(" "),t.availableAggregators.length>1?e("div",{staticClass:"d-flex align-items-center position-relative border-1 bg-darker border-lighter2 rounded mb-2 overflow-hidden py-2"},[e("div",{class:[t.switchAggregator?"active-aggregator-open":"active-aggregator-close","aggregator-active"]},[e("div",{staticClass:"aggregator-switch p-1 p-md-2",on:{click:t.onSwitchAggregator}},[e("i",{class:["mdi",t.switchAggregator?"mdi-chevron-double-right":"mdi-chevron-double-left","text-primary font-size-14"]})]),t._v(" "),e("div",{staticClass:"w-100 rounded p-2 text-center cursor-pointer aggregator-tab bg-dark border-lighter active",on:{click:function(e){return t.setAggregator(t.activeAggregator)}}},[e("aggregator-logo",{attrs:{"aggregator-type":t.activeAggregator}})],1)]),t._v(" "),e("div",{staticClass:"d-flex ml-auto aggregator-inactive"},[t.$contracts.paraswapAPI.isAvailable?e("div",{staticClass:"cursor-pointer opacity-25 bg-transparent aggregator-tab",staticStyle:{"min-width":"33.3%"},on:{click:function(e){return t.setAggregator(t.nonSelectedAggregators[0])}}},[e("aggregator-logo",{attrs:{"aggregator-type":t.nonSelectedAggregators[0]}})],1):t._e(),t._v(" "),t.$contracts.openOceanAPI.isAvailable?e("div",{staticClass:"cursor-pointer opacity-25 bg-transparent mx-3 aggregator-tab",staticStyle:{"min-width":"33.3%"},on:{click:function(e){return t.setAggregator(t.nonSelectedAggregators[1])}}},[e("aggregator-logo",{attrs:{"aggregator-type":t.nonSelectedAggregators[1]}})],1):t._e()])]):e("div",{staticClass:"w-100 rounded p-2 text-center aggregator-tab bg-dark border-lighter active mb-2"},[e("aggregator-logo",{attrs:{"aggregator-type":"camelot"}})],1),t._v(" "),e("b-row",{staticClass:"d-flex align-items-center bg-darker rounded full-token-input-widget gx-0"},[e("b-col",{staticClass:"bg-dark hover-slight h-100 p-0 rounded-left token-select-widget",attrs:{cols:"5",sm:"4"}},[e("token-select",{ref:"selectFromToken",staticClass:"h-100 w-100 px-3",attrs:{id:"select-from-token",tokens:t.tokens,label:t.$t("components.swap.swapFrom")}})],1),t._v(" "),e("b-col",{staticClass:"flex-grow-1 pr-3"},[e("token-input-full",{staticClass:"flex-grow-1 ml-1",attrs:{id:"token-input-0",unit:t.fromTokenSymbol,"max-amount":t.maxFromTokenAmount,"usd-value":t.fromTokenUSD,"safe-max":!!t.fromToken&&t.fromToken.isNative},on:{input:t.onUserInputFromTokenAmount},model:{value:t.fromTokenAmount,callback:function(e){t.fromTokenAmount=e},expression:"fromTokenAmount"}})],1)],1),t._v(" "),e("b-row",{staticClass:"d-flex align-items-center token-input-between-icon"},[e("b-col",{staticClass:"d-flex justify-content-center",attrs:{cols:"4"}},[e("div",{staticClass:"d-flex align-items-center justify-content-center rounded-circle bg-black cursor-pointer hover-slight position-relative icon-container",on:{click:function(e){return t.invertTokens()}}},[e("i",{staticClass:"mdi mdi-swap-vertical-variant text-primary font-size-16",staticStyle:{transform:"rotateY(180deg)"}})])])],1),t._v(" "),e("b-row",{staticClass:"d-flex align-items-center bg-darker rounded gx-0 full-token-input-widget"},[e("b-col",{staticClass:"bg-dark hover-slight h-100 p-0 rounded-left token-select-widget",attrs:{cols:"5",sm:"4"}},[e("token-select",{ref:"selectToToken",staticClass:"h-100 w-100 px-3",attrs:{id:"select-to-token",tokens:t.tokens,label:t.$t("components.swap.swapTo")}})],1),t._v(" "),e("b-col",{staticClass:"flex-grow-1 pr-3"},[e("token-input-full",{staticClass:"flex-grow-1 ml-1 text-secondary",attrs:{id:"token-input-1",unit:t.toTokenSymbol,"usd-value":t.toTokenUSD,disabled:!t.aggregator.swapFromOutputEnabled,"max-amount":t.maxToTokenAmount,"hide-max":""},on:{input:t.onUserInputToTokenAmount},model:{value:t.toTokenAmount,callback:function(e){t.toTokenAmount=e},expression:"toTokenAmount"}})],1)],1),t._v(" "),e("div",{staticClass:"my-2"},[t.fromToken&&t.fromToken.sellTax>0?e("div",{staticClass:"d-flex align-items-center justify-content-center my-2 p-1 bg-primary-opacity rounded-sm text-center"},[e("i",{staticClass:"mdi mdi-transfer text-primary mr-2 font-size-20"}),t._v("\n      "+t._s(t.SELL_TAX(t.fromToken.symbol,t.fromToken.sellTax/100))+"\n    ")]):t._e(),t._v(" "),t.toToken&&t.toToken.buyTax>0?e("div",{staticClass:"d-flex align-items-center justify-content-center my-2 p-1 bg-primary-opacity rounded-sm text-center"},[e("i",{staticClass:"mdi mdi-transfer text-primary mr-2 font-size-20"}),t._v("\n      "+t._s(t.BUY_TAX(t.toToken.symbol,t.toToken.buyTax/100))+"\n    ")]):t._e(),t._v(" "),!t.updatingInput&&t.fromTokenAmount&&t.toTokenAmount?e("accordion",{staticClass:"bg-darker border-lighter rounded-sm my-2",attrs:{"force-between":""},scopedSlots:t._u([{key:"label",fn:function(){return[e("div",{staticClass:"w-100 p-2 d-flex align-items-center"},[e("span",[t._v("\n            1 "+t._s(t.fromTokenSymbol)+" =\n            "+t._s(t.getLocaleString(t.fromTokenValueInToToken,4))+"\n            "+t._s(t.toTokenSymbol)+"\n            "),e("span",{staticClass:"text-secondary text-small"},[t._v("\n              ($"+t._s(t.getLocaleString(t.fromToken.price,2,2))+")\n            ")])]),t._v(" "),t.isHighPriceImpact||t.isInvalidPriceImpact?e("i",{staticClass:"mdi mdi-alert-circle-outline text-danger ml-1 font-size-16"}):t._e()])]},proxy:!0}],null,!1,839399955)},[t._v(" "),e("div",{staticClass:"bg-darker border-lighter border-left-0 border-right-0 border-bottom-0 p-2"},[e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.fromTokenSymbol)+"/"+t._s(t.toTokenSymbol)+" "+t._s(t.RATE))]},proxy:!0},{key:"value",fn:function(){return[e("span",[t._v("1 "+t._s(t.fromTokenSymbol))]),t._v(" "),e("i",{staticClass:"mdi mdi-arrow-right"}),t._v("\n            "+t._s(t.getLocaleString(t.fromTokenValueInToToken,3,4))+"\n            "+t._s(t.toTokenSymbol)+"\n          ")]},proxy:!0}],null,!1,3441499537)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.toTokenSymbol)+"/"+t._s(t.fromTokenSymbol)+" "+t._s(t.RATE))]},proxy:!0},{key:"value",fn:function(){return[e("span",[t._v("1 "+t._s(t.toTokenSymbol))]),t._v(" "),e("i",{staticClass:"mdi mdi-arrow-right"}),t._v("\n            "+t._s(t.getLocaleString(t.toTokenValueInToToken,3,4))+"\n            "+t._s(t.fromTokenSymbol)+"\n          ")]},proxy:!0}],null,!1,1315529916)}),t._v(" "),t.swapBasedOnFromToken&&!t.isUnwrapOrWrap()?e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.MINIMUM_RECEIVED))]},proxy:!0},{key:"value",fn:function(){return[t._v("\n            "+t._s(t.toSignificantDigits(t.minToTokenInputAmount))+"\n            "+t._s(t.toTokenSymbol)+"\n          ")]},proxy:!0}],null,!1,723559832)}):t._e(),t._v(" "),t.swapBasedOnFromToken||t.isUnwrapOrWrap()?t._e():e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.MAXIMUM_SOLD))]},proxy:!0},{key:"value",fn:function(){return[t._v("\n            "+t._s(t.getLocaleString(t.maxFromTokenInputAmount,4,4))+"\n            "+t._s(t.fromTokenSymbol)+"\n          ")]},proxy:!0}],null,!1,616766490)}),t._v(" "),e("data-row",{scopedSlots:t._u([{key:"label",fn:function(){return[t._v(t._s(t.PRICE_IMPACT))]},proxy:!0},{key:"value",fn:function(){return[e("span",{class:{"text-danger":t.isHighPriceImpact||t.isInvalidPriceImpact,"text-success":Number(t.priceImpact>0)}},[t.isInvalidPriceImpact?t._e():e("span",[t._v("\n                "+t._s(Number(t.priceImpact)<0?"-":"+")+"\n              ")]),t._v("\n              "+t._s(t.priceImpactDisplay)+"\n            ")])]},proxy:!0}],null,!1,3791105414)})],1)]):t._e(),t._v(" "),t.updatingInput&&(t.swapBasedOnFromToken&&Number(t.fromTokenAmount)>0||!t.swapBasedOnFromToken&&Number(t.toTokenAmount)>0)?e("div",{staticClass:"d-flex align-items-center justify-content-center my-2 py-2 text-secondary"},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}}),t._v(" "),e("span",{staticClass:"ml-2"},[t._v(t._s(t.PROCESSING))])]):t._e()],1),t._v(" "),e("div",{staticClass:"text-center mt-0"},[t.account?e("div",[t.fromTokenApproved||!t.fromToken||!t.toToken||null!==t.error||t.isUnwrapOrWrap()?e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.swap-confirmation",modifiers:{"swap-confirmation":!0}}],staticClass:"btn-lg w-100",attrs:{disabled:!t.fromToken||!t.toToken||!t.fromTokenAmount||Number(t.fromTokenAmount)<=0||null!==t.error||t.swapLoading||t.updatingInput,variant:null!==t.error?"danger":"primary"}},[t.swapLoading?e("Processing"):e("span",[null!==t.error?e("span",[t._v(t._s(t.ERROR_TEMPLATE(t.error)))]):t.isUnwrapOrWrap()?t.fromToken.isNative?e("span",[t._v(t._s(t.WRAP))]):e("span",[t._v(t._s(t.UNWRAP))]):e("span",[t._v(t._s(t.SWAP))])])],1):e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:"primary",disabled:t.approveLoading||t.updatingInput},on:{click:function(e){return t.fromTokenApprove()}}},[t.approveLoading?e("Processing"):e("span",[t._v(t._s(t.APPROVE_TOKEN(t.fromToken.symbol)))])],1)],1):e("b-button",{staticClass:"btn-lg w-100",attrs:{variant:"primary"},on:{click:function(e){return t.connectWallet()}}},[t._v("\n      "+t._s(t.CONNECT_WALLET_GLOBAL)+"\n    ")])],1),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center text-small text-secondary mt-3"},[t._v("\n    "+t._s(t.POWERED_BY)+"\n    "),e("a",{attrs:{href:t.ALGEBRA,target:"_blank"}},[e("img",{staticClass:"ml-2",staticStyle:{position:"relative",top:"-2px"},attrs:{src:"/images/ext/algebra.svg",alt:"algebra",height:"12"}})])]),t._v(" "),e("confirm-modal",{attrs:{"from-token":t.fromToken,"to-token":t.toToken,"from-token-amount":t.fromTokenAmount,"to-token-amount":t.toTokenAmount,"max-from-token-amount":t.maxFromTokenInputAmount,"min-to-token-amount":t.minToTokenInputAmount,"from-to-ratio":t.fromTokenValueInToToken,"to-from-ratio":t.toTokenValueInToToken,"is-highest-price-impact":t.isHighestPriceImpact,"is-invalid-price-impact":t.isInvalidPriceImpact,"swap-based-on-from-token":t.swapBasedOnFromToken,path:t.path,"path-id":t.pathId,args:t.args,"update-route":t.updateRoute,aggregator:t.aggregator,"approved-valid":t.fromTokenApproved},on:{swapConfirmed:t.resetAmounts}}),t._v(" "),e("TokenImportModal",{attrs:{id:"importTokens",tokens:t.tokensToImport},on:{"confirm-import":t.checkInitTokens}})],1)}),[],!1,null,null,null);e.default=component.exports}}]);
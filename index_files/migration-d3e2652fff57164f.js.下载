(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9838],{92203:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/migration",function(){return i(42018)}])},92182:function(e,t,i){"use strict";var n=i(62206);let l={dexPanelContainer:{position:"relative",width:"100%",height:"94px",background:"white3",padding:"10px",borderRadius:"10px",justifyContent:"space-between",flexDirection:"column"},panelTopContainer:{width:"100%",height:"auto",justifyContent:"space-between"},panelBottomContainer:{width:"100%",justifyContent:"space-between"},panelBottomText:{opacity:.8},swapDirectionText:{fontSize:"16px",position:"absolute",left:0,top:0,transform:"translate(0px, -30px)"},maxButton:{background:"primaryButton",alignItems:"center",justifyContent:"center",borderRadius:"6px",height:"22px",padding:"0px 8px",cursor:"pointer",fontSize:"12px",fontWeight:"600",ml:"10px",transition:"all .3s linear","&:active":{transform:"scale(0.9)"},":hover":n.hk}};t.Z=l},63949:function(e,t,i){"use strict";i.d(t,{c:function(){return d}});var n=i(67294),l=i(96624),o=i(31936);function d(e,t,i){let d=(null==t?void 0:t.isToken)?t:void 0,a=(0,o.L)([d],i)[0],r=(0,l.Vi)((null==t?void 0:t.isNative)?i:void 0);return(0,n.useMemo)(()=>{if(e&&t&&i&&t.chainId===i){if(t.isToken)return a[t.address];if(t.isNative)return r[0]}},[e,i,t,a,r])}},42018:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ew}});var n=i(39977),l=i(98745),o=i(67294),d=i(5808),a=i(66125),r=i(92182),s=i(28145),u=i(93359),c=i(6781),x=i(77985),p=i(63949),h=i(49055),v=e=>{let{value:t,currency:i,onCurrencySelect:l,onInputAmount:o,handleMaxInput:a,disabled:v,price:m}=e,{account:g}=(0,x.useWeb3React)(),{t:f}=(0,h.$G)(),Z=(0,p.c)(null!=g?g:void 0,null!=i?i:void 0,c.a_.BSC),k=(null==Z?void 0:Z.toSignificant(6))||"0",b="0.000000000000000001"===k?"0":k;return(0,n.BX)(d.kC,{sx:r.Z.dexPanelContainer,children:[(0,n.BX)(d.kC,{sx:r.Z.panelTopContainer,children:[(0,n.tZ)(d.Af,{disabled:v,onUserInput:o,value:t}),(0,n.tZ)(s.Z,{currency:i,onCurrencySelect:l,variant:v?"disabledTokenSelect":"migration"})]}),(0,n.BX)(d.kC,{sx:r.Z.panelBottomContainer,children:[(0,n.tZ)(d.kC,{sx:{alignItems:"center",justifyContent:"center",opacity:v&&.4,fontSize:"12px",fontWeight:500},children:m&&"$".concat(m)}),g&&(0,n.BX)(d.kC,{sx:{alignItems:"center"},children:[(0,n.tZ)(d.xv,{size:"12px",sx:r.Z.panelBottomText,children:f("Balance: %balance%",{balance:b||"loading"})}),!b&&(0,n.tZ)(u.Z,{}),parseFloat(b)>0&&a&&(0,n.tZ)(d.kC,{sx:r.Z.maxButton,size:"sm",onClick:()=>a(k),children:(0,n.tZ)(d.xv,{color:"primaryBright",sx:{lineHeight:"0px"},children:f("MAX")})})]})]})]})},m=i(55083),g=i(10807),f=i(1113),Z=i(62644),k=i(70794),b=i(28626),w=i(39499),C=i.n(w),B=i(7353),y=i(97818),T=i(48016),A=i(36236),S=i(24494),N=i(91218),I=i(82255),W=i(25675),F=i.n(W),X=i(66861),D=i(44042),z=i(51435),P=i(29013),_=i(19552);let R=["The Legend","The Location","The Moment","The Trend","The Innovation"];var M=e=>{var t,i,l,o,a,r,s,u,c,p,v,m,g,f,Z,b,w,C,B,y,T,W,M,O,L;let{onDismiss:V,bill:j,billId:E}=e,{chainId:H}=(0,x.useWeb3React)(),{t:$}=(0,h.$G)(),{token:U,quoteToken:G,earnToken:Y,lpToken:Q,index:K,userOwnedBillsData:q,userOwnedBillsNftData:J,billType:ee}=j,et=null==q?void 0:q.find(e=>E&&parseInt(e.id)===parseInt(E)),ei=null==J?void 0:J.find(e=>E&&parseInt(e.tokenId)===parseInt(E)),en=(0,N.mW)(new k.Z(null!==(u=null==et?void 0:et.totalPayout)&&void 0!==u?u:0),null!==(c=null==j?void 0:null===(i=j.earnToken)||void 0===i?void 0:null===(t=i.decimals)||void 0===t?void 0:t[H])&&void 0!==c?c:18),el=(en*(null!==(p=null==j?void 0:j.earnTokenPrice)&&void 0!==p?p:0)).toFixed(2),eo=(0,N.mW)(new k.Z(null!==(v=null==et?void 0:et.pendingRewards)&&void 0!==v?v:0),null!==(m=null==j?void 0:null===(o=j.earnToken)||void 0===o?void 0:null===(l=o.decimals)||void 0===l?void 0:l[H])&&void 0!==m?m:18),ed=(0,N.mW)(new k.Z(null!==(g=null==et?void 0:et.totalPayout)&&void 0!==g?g:0).minus(new k.Z(null!==(f=null==et?void 0:et.payout)&&void 0!==f?f:0)),null!==(Z=null==j?void 0:null===(r=j.earnToken)||void 0===r?void 0:null===(a=r.decimals)||void 0===a?void 0:a[H])&&void 0!==Z?Z:18),ea=new Date(1e3*parseFloat(null!==(b=null==j?void 0:j.startVestingTimestamp)&&void 0!==b?b:"0"))<new Date,er=null==ei?void 0:null===(s=ei.attributes)||void 0===s?void 0:s.filter(e=>R.includes(e.trait_type)),es=(eo*(null!==(w=null==j?void 0:j.earnTokenPrice)&&void 0!==w?w:0)).toFixed(2),[eu]=(0,A.Z)((0,n.tZ)(D.Z,{bill:j,billId:null!=E?E:"",onDismiss:V,chainId:H}),!0,!0,"transferModal".concat(E,"-").concat(K),!0);return(0,n.BX)(d.u_,{onDismiss:V,sx:{overflowY:"auto",maxHeight:"calc(100% - 30px)",minWidth:"unset",width:["90%"],"@media screen and (min-width: 1180px)":{maxWidth:"1200px"},maxWidth:"350px"},children:[(0,n.tZ)(X.Z,{hideDivider:!0}),(0,n.BX)(z.W2,{children:[(0,n.BX)(z.T9,{children:[(null==ei?void 0:ei.image)?(0,n.tZ)(d.kC,{sx:{width:"100%",maxWidth:"606px"},children:(0,n.tZ)(F(),{priority:!0,width:720,height:405,alt:"user-bill",src:"".concat((null==ei?void 0:ei.image)+"?img-width=720"),layout:"responsive"})}):(0,n.tZ)(d.kC,{sx:{width:"100%",maxWidth:"606px"},children:(0,n.tZ)(F(),{priority:!0,width:960,height:540,alt:"loading-bill",src:"/images/bills/bill-nfts.gif",layout:"responsive"})}),(0,n.BX)(z.sK,{width:"100%",children:[(0,n.tZ)(d.kC,{sx:{flexDirection:"column"},children:(0,n.BX)(z.BQ,{children:[(0,n.tZ)(d.kC,{sx:{mb:"5px"},children:(0,n.tZ)(d.Xo,{variant:ee})}),(0,n.BX)(d.kC,{sx:{alignItems:"center"},children:[(0,n.tZ)(S.Z,{token1:U.symbol,token2:Y.symbol}),(0,n.tZ)(z._m,{ml:"10px",bold:!0,children:Q.symbol}),(0,n.BX)(d.xv,{ml:10,children:["#",null==et?void 0:et.id]})]})]})}),(0,n.tZ)(d.kC,{sx:{flexDirection:"column"},children:er?er.map(e=>(0,n.BX)(z.Ct,{children:[(0,n.tZ)(d.xv,{size:"12px",weight:500,sx:{lineHeight:"12px"},children:null==e?void 0:e.trait_type}),(0,n.tZ)(d.xv,{size:"12px",weight:700,sx:{lineHeight:"12px"},children:null==e?void 0:e.value})]},e.value)):R.map(e=>(0,n.BX)(z.Ct,{children:[(0,n.tZ)(d.xv,{size:"12px",children:$(e)}),(0,n.tZ)(d.Od,{width:"150px"})]},e))}),(0,n.BX)(d.kC,{sx:{width:"100%"},children:[(0,n.tZ)(d.kC,{sx:{width:"50%",padding:["10px","10px","10px","10px","5px"],height:"58px",mt:["0px","0px","0px","0px","10px"]},children:(0,n.tZ)(I.Z,{billAddress:null!==(C=j.contractAddress[H])&&void 0!==C?C:"",billIds:[null!=E?E:"0"],pendingRewards:null!==(B=null==et?void 0:et.pendingRewards)&&void 0!==B?B:"0",mt:["0px"],earnToken:j.earnToken.symbol})}),(0,n.tZ)(d.kC,{sx:{width:"50%",padding:["10px","10px","10px","10px","5px"],height:"58px",mt:["0px","0px","0px","0px","10px"]},children:(0,n.tZ)(d.zx,{onClick:eu,sx:{width:"100%",lineHeight:"20px"},children:$("Transfer")})})]})]})]}),(0,n.BX)(z.wE,{children:[(0,n.tZ)(d.kC,{sx:{background:"white3",width:["100%","100%","100%","100%","275px"],height:"82px",borderRadius:"10px",alignItems:"center"},children:(0,n.BX)(d.kC,{sx:{width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",fontSize:"12px"},children:$("Fully Vested")}),(0,n.tZ)(z._m,{ml:"10px",bold:!0,children:(0,n.tZ)(P.Z,{lastBlockTimestamp:null!==(y=null==et?void 0:et.lastBlockTimestamp)&&void 0!==y?y:"0",vesting:null!==(T=null==et?void 0:et.vesting)&&void 0!==T?T:"0",userModalFlag:!0})})]})}),(0,n.tZ)(d.kC,{sx:{background:"white3",width:["100%","100%","100%","100%","275px"],height:"82px",borderRadius:"10px",alignItems:"center"},children:(0,n.BX)(d.kC,{sx:{width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",fontSize:"12px"},children:$("Claimable")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:25}),(0,n.tZ)(d.xv,{sx:{fontWeight:700,fontSize:"22px",ml:"10px"},children:eo||0===eo?"".concat((0,_.i)(parseFloat(eo.toFixed(0)),0)," ($").concat(es,")"):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]})}),(0,n.tZ)(d.kC,{sx:{background:"white3",width:["100%","100%","100%","100%","275px"],height:"82px",borderRadius:"10px",alignItems:"center"},children:(0,n.BX)(d.kC,{sx:{width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",fontSize:"12px"},children:$("Pending")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:25}),(0,n.tZ)(d.xv,{sx:{fontSize:"22px",fontWeight:700,ml:"10px"},children:en||0===en?"".concat((0,_.i)(parseFloat(en.toFixed(0)),0)," ($").concat(el,")"):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]})}),(0,n.tZ)(d.kC,{sx:{background:"white3",width:["100%","100%","100%","100%","275px"],height:"82px",borderRadius:"10px",alignItems:"center"},children:(0,n.BX)(d.kC,{sx:{width:"100%",height:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",fontSize:"12px"},children:$("Bonus")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:25}),(0,n.tZ)(d.xv,{sx:{fontSize:"22px",fontWeight:700,ml:"10px"},children:en||0===en?"".concat(ea?(0,_.i)(ed,0):"?"," ").concat(ea?"($".concat((ed*(null!==(W=null==j?void 0:j.earnTokenPrice)&&void 0!==W?W:0)).toFixed(2),")"):""):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]})})]}),(0,n.tZ)(z.Xb,{children:(0,n.BX)(z.Oz,{children:[(0,n.BX)(d.kC,{sx:{width:"100%",margin:"5px",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",lineHeight:"18px",fontSize:"12px",fontWeight:500},children:$("Claimable")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:20}),(0,n.tZ)(d.xv,{sx:{fontWeight:700,ml:"10px",fontSize:"12px"},children:eo||0===eo?"".concat((0,_.i)(parseFloat(eo.toFixed(0)),0)," ($").concat(es,")"):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]}),(0,n.BX)(d.kC,{sx:{width:"100%",margin:"5px",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",lineHeight:"18px",fontSize:"12px",fontWeight:500},children:$("Pending")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:20}),(0,n.tZ)(z._m,{ml:"10px",bold:!0,children:en||0===en?"".concat((0,_.i)(parseFloat(en.toFixed(0)),0)," ($").concat(el,")"):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]}),(0,n.BX)(d.kC,{sx:{width:"100%",margin:"5px",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",lineHeight:"18px",fontSize:"12px",fontWeight:500},children:$("Bonus")}),(0,n.BX)(d.kC,{children:[(0,n.tZ)(S.Z,{token1:Y.symbol,size:20}),(0,n.tZ)(z._m,{ml:"10px",bold:!0,children:en||0===en?"".concat(ea?(0,_.i)(ed,0):"?"," ").concat(ea?"($".concat((ed*(null!==(M=null==j?void 0:j.earnTokenPrice)&&void 0!==M?M:0)).toFixed(2),")"):""):(0,n.tZ)(d.Od,{width:"150px",height:"32.5px",animation:"waves"})})]})]}),(0,n.BX)(d.kC,{sx:{width:"100%",margin:"5px",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.tZ)(d.xv,{sx:{color:"textDisabled",lineHeight:"18px",fontSize:"12px",fontWeight:500},children:$("Fully Vested")}),(0,n.tZ)(z._m,{children:(0,n.tZ)(P.Z,{lastBlockTimestamp:null!==(O=null==et?void 0:et.lastBlockTimestamp)&&void 0!==O?O:"0",vesting:null!==(L=null==et?void 0:et.vesting)&&void 0!==L?L:"0",userModalFlag:!0})})]})]})})]})]})},O=i(62873),L=i(7538),V=e=>{var t,i,l,a,r,s;let{bond:u,inputValue:p,onMigrate:h}=e,{account:v,chainId:m}=(0,x.useWeb3React)(),[Z,w]=(0,o.useState)(!1),S=(0,y.Z)(),N=(0,T.wV)(),I=(0,g.dQ)(null==u?void 0:null===(i=u.lpToken)||void 0===i?void 0:null===(t=i.address)||void 0===t?void 0:t[f.SupportedChainId.BSC]),W=I&&p?f.CurrencyAmount.fromRawAmount(I,C().BigInt(new k.Z(p).times(new k.Z(10).pow(18)))):void 0,[F,X]=(0,b.qL)(W,null==u?void 0:null===(l=u.contractAddress)||void 0===l?void 0:l[f.SupportedChainId.BSC]),[D,z]=(0,o.useState)(""),P=(0,o.useCallback)((e,t)=>{if(e){let{logs:i}=e,n=i.find(e=>e.address.toLowerCase()===t.toLowerCase()),l=n.topics[n.topics.length-1],o=parseInt(l,16);z(o.toString())}},[z]),[_]=(0,A.Z)((0,n.tZ)(M,{bill:u,billId:D}),!0,!0,"billsModal".concat(null==u?void 0:u.billNftAddress)),R=Object.keys(L.FP).find(e=>L.FP[e]===(null==u?void 0:u.vestingTerm)),V=new Date((null!==(r=null==u?void 0:null===(a=u.initTime)||void 0===a?void 0:a[f.SupportedChainId.BSC])&&void 0!==r?r:0)*1e3),j=new Date>V;parseInt(null!==(s=null==u?void 0:u.startVestingTimestamp)&&void 0!==s?s:"0");let E=new Date(17023824e5),H=new Date>E;return(0,n.tZ)(d.kC,{sx:{width:"100%",mt:"15px"},children:v?m!==c.a_.BSC?(0,n.BX)(d.zx,{fullWidth:!0,onClick:()=>{S(c.a_.BSC)},children:["Switch to ",c.zl[c.a_.BSC]]}):F===b.UK.APPROVED?(0,n.tZ)(d.zx,{onClick:()=>{w(!0),h().then(e=>{var t,i;(0,O.Z)({event:"migrate",chain:f.SupportedChainId.BSC,data:{address:null==u?void 0:u.contractAddress[m],inputToken:null==u?void 0:null===(t=u.lpToken)||void 0===t?void 0:t.symbol,vestingPeriod:R,amount:p,usdAmount:parseFloat(p)*(null!==(i=null==u?void 0:u.lpPrice)&&void 0!==i?i:0)}}),e&&_(),P(e,null==u?void 0:u.billNftAddress)}).finally(()=>w(!1))},sx:{width:"100%"},disabled:!p||"0"===p||Z||!j||H,load:Z,children:j?H?"migration finished":"migrate!":"migration starts soon"}):(0,n.tZ)(d.zx,{onClick:()=>{w(!0),X().catch(e=>N(e)).finally(()=>w(!1))},load:F===b.UK.PENDING||Z,disabled:F===b.UK.PENDING||!p||"0"===p||Z||!u,sx:{width:"100%"},children:u?"Approve contract":"bond not found"}):(0,n.tZ)(B.Z,{})})},j=i(80535),E=i(89897),H=i(50434),$=function(e,t,i,n,l,d){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:18,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:102,{account:s}=(0,x.useWeb3React)(),u=(0,j.Xf)(i),c=new k.Z(d).times(r).div(100).toFixed(0),p=(0,E.h7)(),h=(0,T.wV)();return(0,o.useCallback)(async()=>{try{let e=await u.deposit(new k.Z(n).times(new k.Z(10).pow(null!=a?a:18)).toString(),c,null!=s?s:"");return p(e,{type:H.i.MIGRATE}),e.wait()}catch(e){h(e),console.error(e)}},[s,p,n,u,c,a,h])},U=i(80795),G=e=>{let{vestingTerm:t,setVestingTerm:i,vestingTermsList:l}=e;return(0,n.BX)(d.kC,{sx:{mt:"10px",justifyContent:"space-between",alignItems:"center"},children:[(0,n.BX)(d.xv,{sx:{fontSize:["12px","12px","13px"],fontWeight:400},children:["Vesting & Multiplier Boost",(0,n.tZ)(d.u,{body:(0,n.tZ)(d.xv,{children:"The longer the vesting term, the higher the Multiplier Boost. All GNANA migrated is valued at 1.43 BANANA to account for burn mechanics."}),width:"250px",transformTip:"translate(-5%, -5%)",placement:"bottomLeft",children:(0,n.tZ)(U.xu,{sx:{ml:"5px"},children:(0,n.tZ)(d.ny,{icon:"questionCircle",width:"12px"})})})]}),(0,n.tZ)(d.Ph,{size:"xsm",onChange:e=>i(Number(e.target.value)),active:t,sx:{height:"36px",display:"flex",width:"100%",maxWidth:"150px",paddingRight:"4px"},children:l.map(e=>{let{days:t,value:i,multiplier:l}=e;return(0,n.tZ)(d.Ql,{size:"xsm",value:i,sx:{display:"flex !important",width:"100%",padding:"0px",height:"30px"},children:(0,n.BX)(d.kC,{sx:{justifyContent:"space-between",alignItems:"center",width:"100%",padding:"0px 10px"},children:[(0,n.BX)(d.xv,{sx:{fontSize:"12px",fontWeight:700},children:[t," Days"]}),(0,n.BX)(d.xv,{sx:{fontSize:"12px",fontWeight:400,color:"#38A611",ml:"10px"},children:["x",(1/l).toFixed(2)]})]})},"terms-".concat(i))})})]})},Y=i(68865),Q=i(96624),K=e=>{var t,i,l,a,r,s,u,p,h,b,w;let{selectedBond:C,inputCurrencyString:B,setInputCurrencyString:y,vestingTerm:A,setVestingTerm:S,inputValue:N,setInputValue:I}=e,{chainId:W,account:F}=(0,x.useWeb3React)(),X=null===(t=Z.Z.getState())||void 0===t?void 0:t.migration.data,D=(0,g.U8)(B,c.a_.BSC),z=(0,g.U8)(m.v_[c.a_.BSC],c.a_.BSC),[P,_]=(0,o.useState)([]),R=(0,o.useCallback)(e=>{y((null==e?void 0:e.isToken)?null==e?void 0:e.address:(null==e?void 0:e.isNative)?"ETH":"")},[y]),M=$(null!==(r=null==C?void 0:C.lpToken.symbol)&&void 0!==r?r:"",null!==(s=null==C?void 0:C.vestingTerm)&&void 0!==s?s:0,null!==(u=null==C?void 0:C.contractAddress[c.a_.BSC])&&void 0!==u?u:"",N,null!==(p=null==C?void 0:C.lpPrice)&&void 0!==p?p:0,null!==(h=null==C?void 0:C.price)&&void 0!==h?h:"",null==C?void 0:null===(l=C.lpToken)||void 0===l?void 0:null===(i=l.decimals)||void 0===i?void 0:i[c.a_.BSC]),O=new k.Z(N).times(new k.Z(10).pow(18)),L=new k.Z((null==C?void 0:null===(a=C.lpToken)||void 0===a?void 0:a.symbol)==="GNANA"?.98:1),j=O.div(new k.Z(null!==(b=null==C?void 0:C.price)&&void 0!==b?b:0)).times(L).toFixed(6),E=new k.Z(null!==(w=null==C?void 0:C.lpPrice)&&void 0!==w?w:0).times(null!=N?N:"0"),H=(0,T.wE)(),U=new k.Z(null!=H?H:0).times(null!=j?j:"0"),K=(0,o.useCallback)(e=>{I(e)},[I]);(0,o.useEffect)(()=>{var e,t;let i=X.filter(e=>e.token.symbol===(null==C?void 0:C.token.symbol)).map(i=>({value:null!==(e=i.vestingTerm)&&void 0!==e?e:0,days:i.vestingTerm?i.vestingTerm/60/60/24:0,multiplier:null!==(t=i.multiplier)&&void 0!==t?t:1}));_(i)},[C,X]);let q=(0,g.dQ)(m.pN[null!=W?W:56]),J=(0,Q.mM)(F,q);return(0,n.BX)(d.kC,{sx:Y.W.migrationPanelCont,children:[(0,n.tZ)(d.xv,{sx:{fontSize:"24px",fontWeight:"700",mb:"10px"},children:"Migrate"}),W===f.SupportedChainId.BSC?(0,n.BX)(n.HY,{children:[(0,n.tZ)(v,{value:N,currency:D,onCurrencySelect:R,onInputAmount:I,price:"NaN"===E.toFixed()?"":E.toFixed(2),handleMaxInput:K}),(0,n.tZ)(d.kC,{sx:{margin:"10px",justifyContent:"center"},children:(0,n.tZ)(d.ny,{icon:"ZapArrow"})}),(0,n.tZ)(v,{value:"NaN"===j?"":j,currency:z,onCurrencySelect:R,onInputAmount:I,disabled:!0,price:"NaN"===U.toFixed()?"":U.toFixed(2)}),(0,n.tZ)(G,{vestingTerm:A,setVestingTerm:S,vestingTermsList:P})]}):(0,n.BX)(n.HY,{children:[(0,n.BX)(d.xv,{sx:{fontSize:"14px",fontWeight:400},children:["Migration Bonds are exclusively on BNB Chain. If you wish to migrate BANANA on other chains, please submit a ticket"," ",(0,n.tZ)(d.rU,{href:"https://discord.com/channels/821817977917538375/1110438345701593088",target:"_blank",children:"here"})," ","and fill out this"," ",(0,n.tZ)(d.rU,{href:"https://docs.google.com/forms/d/e/1FAIpQLScW4YKAIpSanx_4u9ebpezD3umTauVchLTW4MgxlDQRJWkHRg/viewform",target:"_blank",children:"form"}),"."]}),(0,n.BX)(d.xv,{sx:{fontSize:"14px",fontWeight:400},children:["Your balance on this chain is:"," ",(0,n.tZ)("span",{style:{fontWeight:700},children:F?null==J?void 0:J.toFixed(0):"-"})," BANANA."]})]}),(0,n.tZ)(V,{bond:C,inputValue:N,onMigrate:M})]})},q=i(20268);let J=e=>{let{title:t,content:i,tokenAmount:l,usdValue:o,variant:a="regular",ttText:r,tokenSymbol:s}=e,u=(0,_.i)(parseFloat(null!=l?l:"0"),2),c=(0,_.i)(parseFloat(null!=o?o:"0"),2);return(0,n.tZ)(n.HY,{children:"regular"===a?(0,n.BX)(d.kC,{sx:Y.W.regularContainer,children:[(0,n.tZ)(d.xv,{sx:{fontSize:["12px"],fontWeight:400},children:t}),i&&(0,n.tZ)(d.xv,{sx:{fontSize:["16px","16px","16px","16px","18px"],fontWeight:700},children:i}),l&&o&&(0,n.BX)(d.kC,{sx:{alignItems:"center"},children:[(0,n.tZ)(S.Z,{token1:"ABOND",size:24}),(0,n.tZ)(d.xv,{sx:{mx:"5px",fontSize:["16px","16px","16px","16px","18px"],fontWeight:700},children:u}),(0,n.BX)(d.xv,{sx:{fontSize:["12px"],fontWeight:400},children:["($",c,")"]})]})]}):(0,n.BX)(d.kC,{sx:Y.W.alternativeContainer,children:[(0,n.BX)(d.xv,{sx:{fontSize:["12px"],fontWeight:400,display:"flex",alignItems:"center"},children:[t,(0,n.tZ)(d.kC,{sx:{lineHeight:"12px"},children:(0,n.tZ)(q.Z,{body:(0,n.tZ)(d.xv,{sx:{textAlign:"left",display:"flex"},children:r}),width:"240px",transformTip:"translate(10%, -1%)",placement:"bottomRight",children:(0,n.tZ)(U.xu,{sx:{ml:"5px"},children:(0,n.tZ)(d.ny,{icon:"questionCircle",width:"12px"})})})})]}),l&&o&&u&&c&&(0,n.BX)(d.kC,{sx:{ml:"10px",alignItems:"center"},children:[(0,n.tZ)(d.kC,{sx:{mt:"-3px"},children:(0,n.tZ)(S.Z,{token1:"lockedTokens"===a?s:"ABOND",size:14})}),(0,n.tZ)(d.xv,{sx:{mx:"5px",fontSize:["14px"],fontWeight:700},children:u}),(0,n.BX)(d.xv,{sx:{fontSize:["12px"],fontWeight:400},children:["($",c,")"]})]})]})})};var ee=i(9654),et=e=>{var t,i,l,o,a,r;let{inputValue:s,selectedBond:u,vestingTerm:c,multiplier:p}=e,{chainId:h}=(0,x.useWeb3React)(),v=(0,T.wE)(),m=new k.Z(s).times(new k.Z(10).pow(18)),g=new k.Z((null==u?void 0:null===(t=u.lpToken)||void 0===t?void 0:t.symbol)==="GNANA"?.98:1),Z=m.div(new k.Z(null!==(o=null==u?void 0:u.price)&&void 0!==o?o:0)).times(g),b=Z.times(new k.Z(null!=v?v:"0")),w=Z.minus(new k.Z(s)),C=w.times(new k.Z(null!=v?v:"0")),B=(0,ee.Z)(c,!0),y=(0,N._i)(null==u?void 0:u.totalBonusRewards,18),A=h===f.SupportedChainId.BSC?(0,N._i)(null==u?void 0:u.totalPrincipalBilled,18):new k.Z(0),S=null==y?void 0:y.times(new k.Z(null!=v?v:"0")),I=(null==u?void 0:null===(l=u.lpToken)||void 0===l?void 0:null===(i=l.symbol)||void 0===i?void 0:i.toUpperCase())==="BANANA"?parseFloat(null!=v?v:"0"):1.3889*parseFloat(null!=v?v:"0"),W=null==A?void 0:A.times(new k.Z(I));return(0,n.BX)(d.kC,{sx:Y.W.vestingContainer,children:[(0,n.tZ)(d.xv,{sx:{fontSize:"24px",fontWeight:"700"},children:"Migration Bonds"}),(0,n.tZ)(d.xv,{sx:{fontSize:"14px",fontWeight:"400",lineHeight:"22px",mt:"10px"},children:"ABOND will be distributed through the Migration Bonds, which will start vesting linearly on December 12th, 2023, 13:00 UTC. You'll be able to keep the commemorative Migration Bond NFT."}),(0,n.BX)(d.kC,{sx:Y.W.bottomContainer,children:[(0,n.BX)(d.kC,{sx:Y.W.cardsContainer,children:[(0,n.tZ)(d.kC,{sx:{width:"100%",mb:"10px"},children:(0,n.tZ)(J,{title:"Fully Vested",content:"".concat(B.days,"d, ").concat(B.hours,"h, ").concat(B.minutes,"m")})}),(0,n.tZ)(d.kC,{sx:{width:"100%",mb:"10px"},children:(0,n.tZ)(J,{title:"Multiplier Boost: x".concat((1/(null!=p?p:1)).toFixed(2)),tokenAmount:(null==w?void 0:w.toString())==="NaN"?"0":null==w?void 0:w.toFixed(2),usdValue:(null==C?void 0:C.toFixed(2))==="NaN"?"0.00":null==C?void 0:C.toFixed(2)})}),(0,n.tZ)(d.kC,{sx:{width:"100%",mb:["10px","10px","10px","0px"]},children:(0,n.tZ)(J,{title:"Total ABOND",tokenAmount:(null==Z?void 0:Z.toString())==="NaN"?"0":Z.toFixed(2),usdValue:(null==b?void 0:b.toFixed(2))==="NaN"?"0.00":null==b?void 0:b.toFixed(2)})}),(0,n.tZ)(d.kC,{sx:{display:["flex","flex","flex","none"],width:"100%",mb:["10px","10px","10px","0px"]},children:(0,n.tZ)(J,{title:"Lock Bonus for this period",tokenAmount:null==y?void 0:y.toFixed(0),usdValue:null!==(a=null==S?void 0:S.toFixed(2))&&void 0!==a?a:"0.00",variant:"bonusAmount",ttText:"Amount of total Lock Bonus tokens to be distributed among users that select this vesting term. Your bonus is determined by the percentage of tokens you lock compared to the overall total for this period."})}),(0,n.tZ)(d.kC,{sx:{display:["flex","flex","flex","none"],width:"100%",mb:["10px","10px","10px","0px"]},children:(0,n.tZ)(J,{title:"Tokens locked for this period",tokenAmount:null==A?void 0:A.toFixed(2),usdValue:null==W?void 0:W.toFixed(2),variant:"lockedTokens",ttText:"Total amount of BANANA locked so far between all users for the selected vesting term. GNANA is valued at 1.43 BANANA.",tokenSymbol:null==u?void 0:u.lpToken.symbol})})]}),(0,n.tZ)(d.kC,{sx:Y.W.imgContainer,children:(0,n.tZ)("img",{alt:"hidden-bill",src:"/images/bills/hidden-bill.jpg",style:{width:"100%",borderRadius:"10px"}})})]}),(0,n.BX)(d.kC,{sx:{alignItems:"center",width:"100%",display:["none","none","none","flex"],flexDirection:"column"},children:[(0,n.tZ)(J,{title:"Lock Bonus for this period",tokenAmount:null==y?void 0:y.toFixed(0),usdValue:null!==(r=null==S?void 0:S.toFixed(2))&&void 0!==r?r:"0.00",variant:"bonusAmount",ttText:"Amount of total Lock Bonus tokens to be distributed among users that select this vesting term. Your bonus is determined by the percentage of tokens you lock compared to the overall total for this period."}),(0,n.tZ)(d.kC,{sx:{width:"100%",mt:["0px","0px","0px","10px"]},children:(0,n.tZ)(J,{title:"Tokens locked for this period",tokenAmount:null==A?void 0:A.toFixed(2),usdValue:null==W?void 0:W.toFixed(2),variant:"lockedTokens",ttText:"Total amount of BANANA locked so far between all users for the selected vesting term. GNANA is valued at 1.43 BANANA.",tokenSymbol:null==u?void 0:u.lpToken.symbol})})]})]})};let ei=(e,t)=>{var i;let n=null===(i=Z.Z.getState())||void 0===i?void 0:i.migration.data;return(0,o.useMemo)(()=>{var i;let l=null==n?void 0:n.reduce((e,t)=>{var i;let n=t.lpToken.address[56],l=null==t?void 0:null===(i=t.vestingTerm)||void 0===i?void 0:i.toString();return n&&l&&(e[n]||(e[n]={}),e[n][l]=t),e},{});return{reducedBonds:l,selectedBond:null==l?void 0:null===(i=l[e])||void 0===i?void 0:i[t]}},[n,e,t])};var en=()=>{let[e,t]=(0,o.useState)(m.pN[c.a_.BSC]),[i,l]=(0,o.useState)(L.FP["60d"]),[a,r]=(0,o.useState)(""),{selectedBond:s}=ei(e,i);return(0,n.BX)(d.kC,{sx:Y.W.migrationBodyContainer,children:[(0,n.tZ)(K,{selectedBond:s,inputCurrencyString:e,setInputCurrencyString:t,vestingTerm:i,setVestingTerm:l,inputValue:a,setInputValue:r}),(0,n.tZ)(et,{selectedBond:s,inputValue:a,vestingTerm:i,multiplier:s.multiplier})]})},el=i(74431),eo=i(78819),ed=i(13234),ea=i(83761),er=e=>{let{buttonText:t,bill:i,billId:l,billCardImage:o,disabled:a}=e,[r]=(0,A.Z)((0,n.tZ)(M,{bill:i,billId:l}),!0,!0,"billsModal".concat(i.billNftAddress,"-").concat(l));return o?(0,n.tZ)(d.kC,{sx:{cursor:"pointer",width:"270px"},onClick:r,children:(0,n.tZ)(F(),{width:720,height:405,alt:"user-bill",src:o,layout:"responsive"})}):(0,n.tZ)(d.zx,{onClick:r,disabled:a,sx:{lineHeight:"20px",minWidth:"109px",width:["240px","240px","240px","100%"],mt:["10px","10px","10px","0px"]},children:t})},es=o.memo(e=>{let{billsToRender:t}=e,{chainId:i}=(0,x.useWeb3React)(),{t:l}=(0,h.$G)(),o=(0,el.Z)(),a=null==t?void 0:t.flatMap(e=>{var t,a,r,s,u,c,x,p,h,v,m,g,f,Z,b,w,C,B,y,T,A,S,W,F,X,D,z,R;if(!e)return[];let{bill:M}=e,{token:O,earnToken:V}=M,j=(0,N.mW)(new k.Z(null!==(Z=null==e?void 0:e.totalPayout)&&void 0!==Z?Z:0),null!==(b=null==M?void 0:null===(a=M.earnToken)||void 0===a?void 0:null===(t=a.decimals)||void 0===t?void 0:t[i])&&void 0!==b?b:18),E=(0,N.mW)(new k.Z(e.pendingRewards),null!==(w=null==M?void 0:null===(s=M.earnToken)||void 0===s?void 0:null===(r=s.decimals)||void 0===r?void 0:r[i])&&void 0!==w?w:18),H=(0,N.mW)(new k.Z(null!==(C=null==e?void 0:e.totalPayout)&&void 0!==C?C:0).minus(new k.Z(null!==(B=null==e?void 0:e.payout)&&void 0!==B?B:0)),null!==(y=null==M?void 0:null===(c=M.earnToken)||void 0===c?void 0:null===(u=c.decimals)||void 0===u?void 0:u[i])&&void 0!==y?y:18),$=Object.keys(L.FP).find(t=>L.FP[t]===e.bill.vestingTerm),U=new Date(1e3*parseFloat(null!==(T=null==e?void 0:null===(x=e.bill)||void 0===x?void 0:x.startVestingTimestamp)&&void 0!==T?T:"0"))<new Date;return{tokenDisplayProps:{token1:O.symbol,token2:V.symbol},listProps:{id:e.id,title:(0,n.tZ)(eo.Z,{tag:M.billType,value:"".concat(M.lpToken.symbol),value2:"(".concat($,"ays)").split("d").join(" d"),value2Secondary:!0,style:{maxWidth:"150px",height:"35px",flexDirection:"column",justifyContent:"space-between"}}),titleWidth:"280px",iconsContainer:"80px",cardContent:o?(0,n.tZ)(eo.Z,{title:"Claimable",value:(0,_.i)(parseFloat(E.toFixed(0)),0),value2:"($".concat((E*(null!==(A=null==e?void 0:null===(p=e.bill)||void 0===p?void 0:p.earnTokenPrice)&&void 0!==A?A:0)).toFixed(2),")"),value2Secondary:!0,toolTip:"This is the amount of tokens that have vested and available to claim.",toolTipPlacement:"bottomLeft",toolTipTransform:"translate(29%, 0%)",style:{width:"100%",justifyContent:"space-between",alignItems:"center"}}):(0,n.BX)(d.kC,{style:{width:"100%",height:"100%",alignItems:"center",justifyContent:"space-between"},children:[(0,n.tZ)(eo.Z,{title:l("Claimable"),value:(0,_.i)(parseFloat(E.toFixed(3)),0),value2:"($".concat((E*(null!==(S=null==e?void 0:null===(h=e.bill)||void 0===h?void 0:h.earnTokenPrice)&&void 0!==S?S:0)).toFixed(2),")"),value2Secondary:!0,style:ea.W.billInfo,toolTip:l("This is the amount of tokens that have vested and are available to claim."),toolTipPlacement:"bottomLeft",toolTipTransform:"translate(29%, -4%)"}),(0,n.tZ)(eo.Z,{title:l("Pending"),value:(0,_.i)(parseFloat(j.toFixed(3)),0),value2:"($".concat((j*(null!==(W=null==e?void 0:null===(v=e.bill)||void 0===v?void 0:v.earnTokenPrice)&&void 0!==W?W:0)).toFixed(2),")"),value2Secondary:!0,style:ea.W.billInfo,toolTip:l("This is the amount of unvested tokens that cannot be claimed yet."),toolTipPlacement:"bottomLeft",toolTipTransform:"translate(22%, -4%)"}),(0,n.tZ)(eo.Z,{title:l("Bonus"),value:U?(0,_.i)(H,0):"?",value2:U?"($".concat((H*(null!==(F=null==e?void 0:null===(m=e.bill)||void 0===m?void 0:m.earnTokenPrice)&&void 0!==F?F:0)).toFixed(2),")"):void 0,value2Secondary:!0,style:ea.W.billInfo,toolTip:l("This is the amount of Lock Bonus tokens in this bond. To be revealed on December 12th, 13:00 UTC."),toolTipPlacement:"bottomLeft",toolTipTransform:"translate(15%, -4%)"}),(0,n.tZ)(P.Z,{lastBlockTimestamp:e.lastBlockTimestamp,vesting:e.vesting}),(0,n.BX)(d.kC,{sx:{width:"240px",justifyContent:"space-between",minWidth:"220px",alignItems:"center"},children:[(0,n.tZ)(d.kC,{sx:{maxWidth:"109px"},children:(0,n.tZ)(I.Z,{billAddress:null!==(X=M.contractAddress[i])&&void 0!==X?X:"",billIds:[e.id],pendingRewards:null==e?void 0:e.pendingRewards,earnToken:M.earnToken.symbol})}),(0,n.tZ)(d.kC,{sx:{maxWidth:"109px"},children:(0,n.tZ)(er,{buttonText:l("VIEW"),bill:M,billId:e.id})})]})]}),expandedContent:o&&(0,n.BX)(d.kC,{sx:{width:"100%",flexWrap:"wrap",padding:"0 10px"},children:[(0,n.BX)(d.kC,{sx:{width:"100%",flexDirection:"column"},children:[(0,n.tZ)(eo.Z,{title:"Pending",value:(0,_.i)(parseFloat(j.toFixed(0)),0),value2:"($".concat((j*(null!==(D=null==e?void 0:null===(g=e.bill)||void 0===g?void 0:g.earnTokenPrice)&&void 0!==D?D:0)).toFixed(2),")"),value2Secondary:!0,toolTip:"This is the amount of unvested tokens that cannot be claimed yet.",toolTipPlacement:"bottomLeft",toolTipTransform:"translate(22%, 0%)",style:{width:"100%",justifyContent:"space-between",alignItems:"center"}}),(0,n.tZ)(eo.Z,{title:l("Bonus"),value:U?(0,_.i)(H,0):"?",value2:U?"($".concat((H*(null!==(z=null==e?void 0:null===(f=e.bill)||void 0===f?void 0:f.earnTokenPrice)&&void 0!==z?z:0)).toFixed(2),")"):void 0,value2Secondary:!0,style:{width:"100%",justifyContent:"space-between",alignItems:"center"},toolTip:l("This is the amount of Lock Bonus tokens in this bond. To be revealed on December 12th, 13:00 UTC."),toolTipPlacement:"bottomLeft",toolTipTransform:"translate(15%, -4%)"}),(0,n.tZ)(P.Z,{lastBlockTimestamp:e.lastBlockTimestamp,vesting:e.vesting,mobileFlag:!0})]}),(0,n.BX)(d.kC,{sx:{width:"100%",flexWrap:"wrap",justifyContent:"center",flexDirection:"column",alignItems:"center"},children:[(0,n.tZ)(I.Z,{billAddress:null!==(R=M.contractAddress[i])&&void 0!==R?R:"",billIds:[e.id],pendingRewards:null==e?void 0:e.pendingRewards,earnToken:M.earnToken.symbol,hasDarkBg:!0}),(0,n.tZ)(er,{buttonText:l("VIEW"),bill:M,billId:e.id})]})]})}}});return(0,n.tZ)(ed.Z,{listViews:a})}),eu=i(36056),ec=()=>{let e=Z.Z.getState().migration.data,t=(0,o.useMemo)(()=>{let t=null==e?void 0:e.flatMap(e=>{var t;if(!(null==e?void 0:e.userOwnedBillsData)||(null==e?void 0:null===(t=e.userOwnedBillsData)||void 0===t?void 0:t.length)<0)return[];let i=null==e?void 0:e.userOwnedBillsData;return null==i?void 0:i.flatMap((t,i)=>{let n=(null==e?void 0:e.userOwnedBillsNftData)?null==e?void 0:e.userOwnedBillsNftData[i]:null;return{...t,filteredOwnedBillNftData:n,bill:e}})});return t},[e]);return(0,n.BX)(d.kC,{sx:Y.W.yourBondsContainer,children:[(0,n.tZ)(U.iz,{sx:{width:"100%"}}),(0,n.tZ)(d.xv,{sx:Y.W.yourMigrationBonds,children:"YOUR MIGRATION BONDS"}),(0,n.tZ)(d.kC,{sx:{width:"100%",my:"30px"},children:(null==t?void 0:t.length)>0?(0,n.tZ)(es,{billsToRender:t}):(0,n.tZ)(eu.Z,{type:eu.i.NO_RESULTS})})]})},ex=()=>{let e=new Date(17023824e5)<new Date;return(0,n.BX)(d.kC,{sx:{width:"100%",flexDirection:"column"},children:[(0,n.tZ)(a.Z,{title:e?"The Migration is Complete!":"ABOND Migration",subTitle:e?(0,n.BX)(d.kC,{sx:{flexDirection:"column"},children:[(0,n.tZ)(d.xv,{sx:{lineHeight:"18px"},children:"You can claim your ABOND tokens through your Migration Bonds below."}),(0,n.BX)(d.xv,{sx:{lineHeight:"18px"},children:["You can stake your claimed ABOND in the different"," ",(0,n.tZ)(d.rU,{style:{marginRight:"3px"},href:"/earn",children:"Earn opportunities!"})]})]}):(0,n.BX)(n.HY,{children:["Lock your BANANA & GNANA to migrate into the new ABOND token. Get a Multiplier Boost & Lock Bonus by locking for a longer period of time."," ",(0,n.tZ)(d.rU,{style:{marginRight:"3px"},href:"https://ape-swap.medium.com/a-new-era-begins-532b34a5dc68",target:"_blank",children:"Learn More"})," | ",(0,n.tZ)(d.rU,{style:{marginLeft:"3px"},href:"https://apeswap.gitbook.io/apeswap-finance/product-and-features/abond-migration/migration-faq",target:"_blank",children:"FAQ"})]})}),!e&&(0,n.tZ)(en,{}),(0,n.tZ)(ec,{})]})},ep=i(31525),eh=i(81981),ev=i(42910),em=i(23189),eg=i(89480),ef=i(16525);let eZ=e=>async(t,i)=>{try{let n=f.SupportedChainId.BSC,l=i().migration.data,o=await (0,ef.L)(n,e,l),d=l.map(e=>o.filter(t=>t.address===e.contractAddress[n])),a=l.map((e,t)=>({index:e.index,userOwnedBills:d[t]}));t((0,ev.Yd)({value:a,chainId:n}));let r=d.flatMap(e=>e.map(e=>({id:e.id,billNftAddress:e.billNftAddress,contractAddress:e.address}))),s=await (0,eg.P)(r,n,l),u=d.map((e,t)=>({index:l[t].index,userOwnedBillsNfts:[...e.map(e=>{var t;return null===(t=s.find(t=>parseInt(t.id)===parseInt(e.id)))||void 0===t?void 0:t.data})]}));t((0,ev.w_)({value:u,chainId:n}))}catch(e){console.warn(e)}},ek=()=>{let e=(0,ep.T)(),t=(0,eh.Z)();(0,o.useEffect)(()=>{e((0,ev.wf)(t))},[e,t])},eb=()=>{let{fastRefresh:e}=(0,em.Z)(),t=(0,ep.T)(),{account:i}=(0,x.useWeb3React)();(0,o.useEffect)(()=>{i&&t(eZ(i))},[i,t,e])};var ew=()=>(ek(),eb(),(0,n.tZ)(l.Z,{variant:"listView",children:(0,n.tZ)(ex,{})}))}},function(e){e.O(0,[7848,5472,8745,73,4517,7478,5732,7616,1564,1368,1378,9774,2888,179],function(){return e(e.s=92203)}),_N_E=e.O()}]);
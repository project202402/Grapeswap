(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{92958:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farms",function(){return l(21806)}])},40837:function(e,t,l){"use strict";var n=l(39977);l(67294);var i=l(49055),r=l(5808);t.Z=e=>{let{max:t,onChange:l,onSelectMax:a,value:o,inputTitle:s,displayDecimals:u}=e,{t:d}=(0,i.$G)(),c="0"!==t&&t&&"NaN"!==t?parseFloat(t).toFixed(u||4):"0";return(0,n.tZ)(r.kC,{sx:{position:"relative"},children:(0,n.BX)(r.kC,{sx:{flexDirection:"column",backgroundColor:"white3",borderRadius:"16px",color:"text",padding:"8px 16px 8px 0",width:"100%"},children:[(0,n.BX)(r.kC,{sx:{justifyContent:"space-between",alignItems:"flex-end",pl:"16px"},children:[(0,n.tZ)(r.xv,{sx:{fontSize:"14px",fontWeight:800},children:s}),(0,n.BX)(r.xv,{sx:{fontSize:"16px",fontWeight:500},children:[d("Balance"),": ",c.toLocaleString()]})]}),(0,n.BX)(r.kC,{sx:{alignItems:"center",justifyContent:"space-between",mt:"5px"},children:[(0,n.tZ)(r.II,{onChange:l,placeholder:"0",value:o}),(0,n.tZ)(r.zx,{size:"sm",onClick:a,sx:{ml:"1px",fontWeight:600},children:d("Max")})]})]})})}},80362:function(e,t,l){"use strict";var n=l(39977),i=l(70794),r=l(67294),a=l(49055),o=l(91218),s=l(5808),u=l(40837);let d={sx:{maxHeight:"calc(100% - 30px)",minWidth:["90%","400px"],width:"200px",maxWidth:"425px"}};t.Z=r.memo(e=>{let{onConfirm:t,onDismiss:l,max:c,title:p,withdrawFee:v}=e,[f,h]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),{t:T}=(0,a.$G)(),y=(0,r.useMemo)(()=>(0,o.NJ)(new i.Z(c)),[c]),C=(0,r.useCallback)(e=>{h(e.currentTarget.value)},[h]),w=(0,r.useCallback)(()=>{h(y)},[y,h]);return(0,n.BX)(s.u_,{title:p,onDismiss:l,...d,children:[(0,n.tZ)(u.Z,{onSelectMax:w,onChange:C,value:f,max:y,inputTitle:T("Unstake")}),v&&(0,n.tZ)(s.kC,{sx:{padding:"20px 0 10px 0",justifyContent:"center"},children:(0,n.tZ)(s.xv,{children:T("Withdrawing will have a %withdrawFee%% fee",{withdrawFee:v})})}),(0,n.tZ)(s.zx,{disabled:m||new i.Z(y).lt(f)||!f,onClick:async()=>{x(!0);try{await t(f)}catch(e){console.error("Transaction Failed")}finally{x(!1)}},fullWidth:!0,load:m,style:{borderRadius:"10px",marginTop:"10px"},children:T(m?"Pending Confirmation":"Confirm")})]})})},21806:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return H}});var n=l(39977),i=l(98745),r=l(29471),a=l(67294),o=l(5808),s=l(32873),u=l(77985),d=l(32583),c=l(24067),p=l(12144),v=l(62481),f=l(31257),h=l(48184),m=l(52166),x=l(75472),T=l.n(x),y=l(6837),C=l(49055),w=l(12199),k=l(48893),E=l(58663),S=l(10707),Z=l(53359),A=l(80535),_=l(89897),b=l(50434),g=l(59429),R=(e,t,l)=>{let{account:n,chainId:i}=(0,u.useWeb3React)(),r=(0,A.mi)(),o=(0,A.sd)(),s=(0,A.SI)(),d=(0,_.h7)(),c=(0,a.useCallback)(async(e,t,l)=>{let a=new Z.JsonRpcProvider(S.L[i][0],i),u=e===m.Q.JUNLGE_FARM?(0,g.uN)(null!=l?l:"",E,a,n):null;return e===m.Q.MASTER_CHEF_V1?null==r?void 0:r.deposit(t,"0").then(e=>(d(e,{type:b.i.HARVEST}),e.wait())):e===m.Q.MASTER_CHEF_V2?null==o?void 0:o.deposit(t,"0").then(e=>(d(e,{type:b.i.HARVEST}),e.wait())):e===m.Q.JUNLGE_FARM?null==u?void 0:u.deposit("0").then(e=>(d(e,{type:b.i.HARVEST}),e.wait())):e===m.Q.DUAL_FARM?null==s?void 0:s.harvest(t,null!=n?n:"").then(e=>(d(e,{type:b.i.HARVEST}),e.wait())):void 0},[n,i,r,o,d,s]),p=(0,a.useCallback)(async()=>{let n=t.map((t,n)=>c(e[n],t,l[n]),[]);return Promise.all(n)},[c,e,l,t]);return p},F=l(48016),M=e=>{let{pids:t,disabled:l,farmType:i,contractAddress:r}=e,[s,u]=(0,a.useState)(!1),d=R(i,t,r),c=(0,F.wV)(),{t:p}=(0,C.$G)();return(0,n.BX)(o.zx,{disabled:l||s,onClick:async()=>{u(!0),await d().then(()=>{}).catch(e=>{console.error(e),c(e),u(!1)}),u(!1)},load:s,sx:k.W2.harvestAllBtn,children:[p("HARVEST ALL")," (",t.length,")"]})},B=l(70794),I=l(42755),L=l(91218),N=l(69264),Q=l(11163),D=l(66125),V=()=>{var e,t,l;let i=(0,N.Bb)(),{push:x}=(0,Q.useRouter)(),{account:k,chainId:E}=(0,u.useWeb3React)(),S=(0,w.ZP)(),Z=(0,r.E2)(null!=k?k:""),[A,_]=(0,a.useState)(!1),[b,g]=(0,a.useState)(f.ph),[R,F]=(0,a.useState)("all"),V=(0,a.useRef)(null),[H,W]=(0,a.useState)(""),X=(0,y.Z)(),{search:U}=X?window.location:{search:""},G=new URLSearchParams(U),J=(null==G?void 0:G.get("pid"))?null==G?void 0:G.get("pid"):"",z=(null==G?void 0:G.get("jid"))?null==G?void 0:G.get("jid"):"",[O,P]=(0,a.useState)(!1),{farmOrderings:j}=(0,r.Jt)(E),[q,$]=(0,a.useState)(!0),{t:Y}=(0,C.$G)(),K=(()=>{let e=[];return null==Z||Z.forEach(t=>{if((t.farmType===m.Q.MASTER_CHEF_V1||t.farmType===m.Q.MASTER_CHEF_V2)&&0!==t.pid&&"0X"!==t.multiplier&&e.push(t),t.farmType===m.Q.DUAL_FARM&&"0X"!==t.multiplier&&e.push(t),t.farmType===m.Q.JUNLGE_FARM){var l;(null==t?void 0:t.endBlock)&&S?(null!==(l=null==t?void 0:t.endBlock)&&void 0!==l?l:0)>(null!=S?S:0)&&e.push(t):e.push(t)}}),e})(),ee=(()=>{let e=[];return null==Z||Z.forEach(t=>{if((t.farmType===m.Q.MASTER_CHEF_V1||t.farmType===m.Q.MASTER_CHEF_V2)&&0!==t.pid&&"0X"===t.multiplier&&e.push(t),t.farmType===m.Q.DUAL_FARM&&"0X"===t.multiplier&&e.push(t),t.farmType===m.Q.JUNLGE_FARM){var l;(null!==(l=null==t?void 0:t.endBlock)&&void 0!==l?l:0)<(null!=S?S:0)&&e.push(t)}}),e})(),et=K.filter(e=>e.userData&&new B.Z(e.userData.stakedBalance).isGreaterThan(0)),el=ee.filter(e=>e.userData&&new B.Z(e.userData.stakedBalance).isGreaterThan(0));(0,a.useEffect)(()=>{if(!A){let e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&g(e=>e+f.ph)},{rootMargin:"0px",threshold:1});e.observe(null==V?void 0:V.current),_(!0)}},[A]);let en=K&&ee&&[...K,...ee].filter(l=>{var n,i,r;return l.userData&&E&&(0,L.mW)(new B.Z(null!==(e=null===(n=l.userData)||void 0===n?void 0:n.rewards)&&void 0!==e?e:""),null!==(t=null==l?void 0:null===(r=l.rewardToken)||void 0===r?void 0:null===(i=r.decimals)||void 0===i?void 0:i[E])&&void 0!==t?t:18)>.001}).map(e=>e.pid),ei=K&&ee&&[...K,...ee].filter(e=>e.userData&&new B.Z(e.userData.rewards).isGreaterThan(0)).map(e=>e.farmType),er=K&&ee&&[...K,...ee].filter(e=>e.userData&&new B.Z(e.userData.rewards).isGreaterThan(0)).map(e=>(null==e?void 0:e.contractAddress)?null==e?void 0:e.contractAddress:"");return(0,I.C0)(null==K?void 0:K.map(e=>({currencyIdA:null==e?void 0:e.tokenAddress,currencyIdB:null==e?void 0:e.quoteTokenAddress}))),(0,n.BX)(o.kC,{sx:s.W.farmContainer,children:[i?(0,n.BX)(o.kC,{sx:{width:"100%",flexDirection:"column"},children:[(0,n.tZ)(o.kC,{sx:{justifyContent:"flex-end"},children:(0,n.BX)(o.xv,{sx:{display:"flex",cursor:"pointer",fontWeight:300,fontSize:"12px"},onClick:()=>x("?modal=tutorial"),children:["Tutorial",(0,n.tZ)(o.kC,{sx:{ml:"5px"},children:(0,n.tZ)(o.ny,{icon:"quiz",width:13})})]})}),(0,n.tZ)(D.Z,{title:"Earn",subTitle:(0,n.tZ)(n.HY,{children:"Deposit assets to earn other tokens. More earning opportunities will be revealed as we get closer to the ABOND distribution date. Stay tuned!"})})]}):(0,n.tZ)(d.Z,{banner:"banana-farms",link:"?modal=tutorial",title:Y("Farms"),listViewBreak:!0,maxWidth:1130}),(0,n.tZ)(o.kC,{sx:{alignItems:"center",justifyContent:"center",mt:"20px"},children:(0,n.tZ)(c.Z,{query:H,onHandleQueryChange:e=>{W(e.target.value)},setSortOption:F,sortOption:R,checkboxLabel:"Staked",setIsActive:$,showOnlyCheckbox:O,setShowOnlyCheckbox:P,toogleLabels:["ACTIVE","INACTIVE"],sortOptions:f.aP,actionButton:(0,n.tZ)(M,{pids:null!=en?en:[],contractAddress:null!=er?er:[],farmType:null!=ei?ei:[],disabled:(null==en?void 0:en.length)===0}),showMonkeyImage:!i})}),E?p.rg[p.Xo.FARMS].includes(E)?(0,n.tZ)(h.Z,{farms:null!==(l=(()=>{var e,t,l,n,i;let r=q?K:ee;if(J){let e=(null==K?void 0:K.find(e=>e.pid===parseInt(J)&&e.farmType===m.Q.MASTER_CHEF_V2))!==void 0;if(e){let e=null==K?void 0:K.find(e=>e.pid===parseInt(J)&&e.farmType===m.Q.MASTER_CHEF_V2);e&&(r=[e,...null==K?void 0:K.filter(e=>!(e.pid===parseInt(J)&&e.farmType===m.Q.MASTER_CHEF_V2))])}}if(z){let e=(null==K?void 0:K.find(e=>e.pid===parseInt(z)&&e.farmType===m.Q.JUNLGE_FARM))!==void 0;if(e){let e=null==K?void 0:K.find(e=>e.pid===parseInt(z)&&e.farmType===m.Q.JUNLGE_FARM);e&&(r=[e,...null==K?void 0:K.filter(e=>!(e.pid===parseInt(z)&&e.farmType===m.Q.JUNLGE_FARM))])}}switch(O&&(r=q?et:el),H&&(r=null===(e=r)||void 0===e?void 0:e.filter(e=>e.lpStakeTokenSymbol.toUpperCase().includes(H.toUpperCase()))),R){case"all":return j?T()(r,e=>{var t;return null===(t=j.find(t=>t.pid===e.pid))||void 0===t?void 0:t.order},"asc").slice(0,b):null===(t=r)||void 0===t?void 0:t.slice(0,b);case"stables":return null!=r?r:[].filter(e=>f.FW.includes(e.tokenSymbol)&&f.FW.includes(e.quoteTokenSymbol)).slice(0,b);case"apr":return T()(r,e=>parseFloat(null!==(l=e.apy)&&void 0!==l?l:"0"),"desc").slice(0,b);case"blueChips":return null!=r?r:[].filter(e=>f.tN.includes(e.tokenSymbol)||f.tN.includes(e.quoteTokenSymbol)).slice(0,b);case"liquidity":return T()(r,e=>parseFloat(null!==(n=e.totalLpStakedUsd)&&void 0!==n?n:"0"),"desc").slice(0,b);default:return j?T()(r,e=>{var t;return null===(t=j.find(t=>t.pid===e.pid))||void 0===t?void 0:t.order},"asc").slice(0,b):null===(i=r)||void 0===i?void 0:i.slice(0,b)}})())&&void 0!==l?l:[],farmTags:[],isActive:q,openPid:J||z}):(0,n.tZ)(o.kC,{mt:"20px",children:(0,n.tZ)(v.Z,{product:p.Xo.FARMS})}):(0,n.tZ)(n.HY,{}),(0,n.tZ)("div",{ref:V})]})},H=()=>((0,r.L1)(),(0,n.tZ)(i.Z,{variant:"listView",children:(0,n.tZ)(V,{})}))},37652:function(e,t,l){"use strict";l.d(t,{KU:function(){return f},Sq:function(){return u},e0:function(){return d},vr:function(){return v}});var n=l(77985),i=l(23189),r=l(67294),a=l(31525),o=l(46348),s=l(41248);let u=()=>{let e=(0,a.T)(),{slowRefresh:t}=(0,i.Z)();(0,r.useEffect)(()=>{e((0,o.w6)()),e((0,o.zb)())},[e,t])},d=e=>{let{poolTags:t}=c(e),{jungleTags:l}=p(e);return{jungleTags:l,poolTags:t}},c=e=>{var t;let{Tags:l}=(0,s.v9)(e=>e.stats),n=null==l?void 0:null===(t=l["".concat(e)])||void 0===t?void 0:t.pools;return{poolTags:n}},p=e=>{var t;let{Tags:l}=(0,s.v9)(e=>e.stats),n=null==l?void 0:null===(t=l["".concat(e)])||void 0===t?void 0:t.jungleFarms;return{jungleTags:n}},v=()=>{let{chainId:e}=(0,n.useWeb3React)(),t=(0,a.T)(),{slowRefresh:l}=(0,i.Z)();(0,r.useEffect)(()=>{e&&t((0,o.Dy)(e))},[l,e,t])},f=()=>{let e=(0,s.v9)(e=>e.stats.FarmLpAprs);return e}}},function(e){e.O(0,[5472,8745,73,4517,7478,5732,7616,1368,8750,578,9774,2888,179],function(){return e(e.s=92958)}),_N_E=e.O()}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[309,56,287,294,295],{1143:function(t,e,r){"use strict";r(8);e.a={data:()=>({lastRefreshTime:0,refreshIntervalId:null,defaultLoaded:!1,loadDefaultOnCreatedOrInitialized:!0,refreshPeriod:15e3,refreshOnAccountChanged:!1,refreshDefaultsOnAccountChanged:!1}),computed:{account(){return this.$store.getters["web3-provider/account"]},defaultRegistrationList:()=>[],registrationList:()=>[],isIdle(){return this.$store._vm.isAppIdle},isInitialized(){return this.$store.getters["general/isDataInitialized"]}},watch:{isIdle(t,e){e&&this.refresh()},isInitialized(){this.loadDefaultOnCreatedOrInitialized&&this.refreshDefaults()},async account(){this.defaultLoaded&&(this.refreshDefaultsOnAccountChanged&&await this.refreshDefaults(),this.refreshOnAccountChanged&&(this.$store.commit("general/setIsTokenDataInitialized",!1),await this.refresh()))}},methods:{registerTo(t,e){this.registrationList.push({func:t,params:e})},initRefreshInterval(){this.refreshIntervalId=setInterval((async()=>{await this.refresh()}),this.refreshPeriod)},async refresh(){if(this.isIdle)return;const t=[];for(const e of this.registrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.lastRefreshTime=Number(new Date)}))},async refreshDefaults(){const t=[];for(const e of this.defaultRegistrationList)e.params?t.push(e.func(...e.params)):t.push(e.func());await Promise.all(t).then((()=>{this.defaultLoaded=!0}))}},created(){this.loadDefaultOnCreatedOrInitialized&&this.isInitialized&&this.refreshDefaults()},mounted(){this.initRefreshInterval()},beforeDestroy(){this.defaultLoaded=!1,this.refreshIntervalId&&clearInterval(this.refreshIntervalId)}}},1148:function(t,e,r){"use strict";r.r(e);var n={props:{title:{type:String,default:""}}},o=r(23),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-title container-fluid mt-3 px-2"},[e("div",{staticClass:"d-flex align-items-center justify-content-center justify-content-md-between"},[e("h1",{staticClass:"mb-1"},[t._v(t._s(t.title))])]),t._v(" "),e("div",{staticClass:"subtitle mt-0 text-center text-md-left"},[t._t("default")],2)])}),[],!1,null,null,null);e.default=component.exports},1181:function(t,e,r){"use strict";r.r(e);var n={props:{value:{type:String,default:null},tabs:{type:Object,default:null}},computed:{incentivesEnabled(){return this.$store.getters["web3-provider/chainConfig"].frontend.featureFlags.incentives[this.$config.ENV_TYPE]}},methods:{isDeprecated(t){const e=[];return this.incentivesEnabled&&e.push("spNFTs"),e.includes(t)}}},o=r(23),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs-title d-flex align-items-center text-center"},t._l(t.tabs,(function(r,i){return e("a",{key:i,staticClass:"p-2 d-flex align-items-center justify-content-center",class:{active:t.value===i},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("input",i)}}},[e("span",{staticClass:"px-1"},[t._v(t._s(r))]),t._v(" "),t.isDeprecated(r)?e("b-badge",{staticClass:"mx-2 text-warning bg-black"},[t._v("Deprecated")]):t._e()],1)})),0)}),[],!1,null,null,null);e.default=component.exports},1730:function(t,e,r){"use strict";r.r(e);var n=r(244);const{SUPPORT:o,DELEGATE_ARB:l,JOIN_FORCES:c,DELEGATE_NOW:d}=n.a;var h={data:()=>({TALLY:n.c.TALLY,SUPPORT:o,DELEGATE_ARB:l,JOIN_FORCES:c,DELEGATE_NOW:d})},f=r(23),component=Object(f.a)(h,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex"},[e("div",{staticClass:"d-none d-lg-flex flex-column justify-content-start w-100 max-width-250 text-center py-3 px-2 rounded border-top-left-0 border-bottom-left-0 border-left-0",staticStyle:{"background-color":"#1d232e",border:"1px solid #1d232e"}},[e("div",[e("img",{staticClass:"mx-auto",attrs:{src:"/images/knight.png",alt:"knight",width:"150"}}),t._v(" "),e("div",{staticClass:"my-3"},[e("div",{staticClass:"text-primary"},[t._v(t._s(t.SUPPORT))]),t._v(" "),e("h4",{staticClass:"mt-1"},[t._v(t._s(t.DELEGATE_ARB))]),t._v(" "),e("div",{staticClass:"text-secondary"},[t._v(t._s(t.JOIN_FORCES))])]),t._v(" "),e("a",{staticClass:"btn btn-primary mt-1 w-100",attrs:{href:t.TALLY,target:"_blank"}},[t._v("\n        "+t._s(t.DELEGATE_NOW)+"\n      ")])])]),t._v(" "),e("div",{staticClass:"d-block d-lg-none w-100 max-width-600 mx-auto p-3 border-top-left-0 border-top-right-0 rounded",staticStyle:{"background-color":"#1d232e",border:"1px solid #1d232e"}},[e("div",{staticClass:"d-flex align-items-center justify-content-between"},[e("div",[e("div",{staticClass:"text-primary"},[t._v(t._s(t.SUPPORT))]),t._v(" "),e("h4",{staticClass:"mt-1"},[t._v(t._s(t.DELEGATE_ARB))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"text-secondary"},[t._v(t._s(t.JOIN_FORCES))]),t._v(" "),e("a",{staticClass:"btn btn-primary w-100 mt-3 mb-0",attrs:{href:t.TALLY,target:"_blank"}},[t._v("\n      "+t._s(t.DELEGATE_NOW)+"\n    ")])])])}),[function(){var t=this,e=t._self._c;return e("div",[e("img",{staticClass:"rounded-circle",attrs:{src:"/images/tokens/arb.jpg",width:"30"}}),t._v(" "),e("i",{staticClass:"mdi mdi-plus"}),t._v(" "),e("img",{attrs:{src:"/images/logo-sm.svg",width:"25"}})])}],!1,null,null,null);e.default=component.exports},1731:function(t,e,r){"use strict";r.r(e);r(25);var n={props:{fromToken:{type:Object,default:null},toToken:{type:Object,default:null},chartUrl:{type:String,required:!0}},data:()=>({invertTokens:!1}),computed:{defaultPair(){var t,e;if(!this.fromToken||!this.toToken)return null;const r=this.invertTokens?this.toToken:this.fromToken;if(r.priceChartPair)return r.priceChartPair;let n=this.$contracts.factory.getLargestPair(r),o=this.$contracts.clPoolsFactory.getLargestPair(r);return n||(n=this.$contracts.factory.getLpByTokens(this.fromToken,this.toToken)),o||(o=this.$contracts.clPoolsFactory.getLpByTokens(this.fromToken,this.toToken)),n||o?n&&o&&(o.oneDayVolumeUSD>n.oneDayVolumeUSD||o.activeTvlUSD>n.totalLiquidityUSD)?o.address:(null===(t=n)||void 0===t?void 0:t.address)||(null===(e=o)||void 0===e?void 0:e.address):null},chartUrlWithPairAddress(){return this.chartUrl.replace("PAIR_ADDRESS",this.defaultPair)}},watch:{fromToken(){this.reset()},toToken(){this.reset()}},methods:{invert(){this.invertTokens=!this.invertTokens},reset(){this.invertTokens=!1}}},o=r(23),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return t.defaultPair?e("div",[e("div",{staticClass:"d-flex align-items-end justify-content-between mb-2"},[e("h3",{staticClass:"ml-1"},[t._v("\n      "+t._s(t.invertTokens?t.toToken.symbol:t.fromToken.symbol)+"\n      "),e("span",{staticClass:"h4 text-weight-400 text-secondary"},[t._v("\n        / "+t._s(t.invertTokens?t.fromToken.symbol:t.toToken.symbol)+"\n      ")]),t._v(" "),e("b-button",{staticClass:"py-1 px-2",attrs:{variant:"simple-link"},on:{click:t.invert}},[e("i",{staticClass:"icam-refresh-2 text-primary cursor-pointer font-size-16 pr-0"})])],1),t._v(" "),e("b-button",{staticStyle:{height:"28px"},attrs:{variant:"dark"},on:{click:function(e){return t.$emit("hideChart")}}},[e("i",{staticClass:"mdi mdi-eye-off-outline mr-1"}),t._v("\n      Hide chart\n    ")])],1),t._v(" "),e("iframe",{staticClass:"w-100 rounded border-lighter border-1",staticStyle:{height:"600px"},attrs:{src:t.chartUrlWithPairAddress}})]):e("div",{staticClass:"w-100 bg-dark d-flex flex-column align-items-center justify-content-center text-secondary",staticStyle:{height:"500px"}},[e("i",{staticClass:"icam-chart-21 font-size-22"}),t._v("\n  No pair selected\n")])}),[],!1,null,null,null);e.default=component.exports},2051:function(t,e,r){"use strict";r.r(e);var n=r(13),o=r(1148),l=r(1615),c=r(1955),d=r(1730),h=r(1181),f=r(1731),m=r(1143),v=r(21),T={components:{Delegate:d.default,PageTitle:o.default,TabsTitle:h.default,TVChart:f.default,SwapAggregator:l.default,SwapNative:c.default},mixins:[m.a],page:{title:"menuitems.exchange.text"},data:()=>({swapComponent:null,swapType:"aggregator",displayChart:!1}),computed:{env(){return this.$config.ENV_TYPE},chainConfig(){return this.$store.getters["web3-provider/chainConfig"]},v2Enabled(){return this.chainConfig.frontend.featureFlags.ammV2[this.env]},v3Enabled(){return this.chainConfig.frontend.featureFlags.ammV3[this.env]},isCamelot(){return"camelot"===this.APP_NAME_GLOBAL.toLowerCase()},availableTabs(){const t={aggregator:"Aggregator"};return this.v3Enabled&&(t.v3="V3"),this.v2Enabled&&(t.v2="V2"),t},showNativeSwaps(){return"prod"!==this.env||this.chainConfig.swaps.native},defaultRegistrationList(){return[{func:v.c,params:[{store:this.$store,$contracts:this.$contracts},this.$contracts.supportedTokens.tokens]}]},registrationList(){const t=[];if(this.fromToken||this.toToken){const e=this.fromToken?[this.fromToken]:[];this.toToken&&e.push(this.toToken),t.push({func:v.c,params:[{store:this.$store,$contracts:this.$contracts},e,!1]})}if(this.showNativeSwaps&&("v2"===this.swapType&&t.push({func:()=>this.$contracts.factory.reloadExistentPairs()}),"v3"===this.swapType&&t.push({func:()=>this.$contracts.clPoolsFactory.reloadExistentPools()}),"aggregator"!==this.swapType)){const e="v2"===this.swapType?this.$contracts.factory:this.$contracts.clPoolsFactory;t.push({func:v.b,params:[{store:this.$store,$contracts:this.$contracts},e.existentPairs]})}return t},fromToken(){var t;return null===(t=this.swapComponent)||void 0===t?void 0:t.fromToken},toToken(){var t;return null===(t=this.swapComponent)||void 0===t?void 0:t.toToken},initToken1Address(){if(this.fromToken)return this.fromToken.address;const t=this.$route.query.token1;return t&&Object(n.isAddress)(t.toString())?t.toString():null},initToken2Address(){if(this.toToken)return this.toToken.address;const t=this.$route.query.token2;return t&&Object(n.isAddress)(t.toString())?t.toString():null},chartUrl(){return this.chainConfig.frontend.chartUrl}},watch:{swapType(){setTimeout((()=>{this.swapComponent="aggregator"===this.swapType?this.$refs["swap-component-agg"]:this.$refs["swap-component-native"]}),100)},"$contracts.factory.allPairsDict"(){this.defaultLoaded&&this.refresh()}},mounted(){this.swapComponent=this.$refs["swap-component-agg"]},created(){var t,e,r;const n=null===(t=this.$route.query)||void 0===t||null===(e=t.swap)||void 0===e||null===(r=e.toString())||void 0===r?void 0:r.toLowerCase();"native"===n&&this.showNativeSwaps?this.swapType=this.v3Enabled?"v3":"v2":"aggregator"===n&&(this.swapType=n)}},_=r(23),component=Object(_.a)(T,(function(){var t=this,e=t._self._c;return e("div",[e("page-title",{staticClass:"d-block d-lg-none",attrs:{title:"Exchange"}},[e("i",{staticClass:"mdi mdi- font-size-30"})]),t._v(" "),e("div",{staticClass:"d-flex align-items-center justify-content-center"},[e("div",{staticClass:"w-100 max-width-850 mt-5 pt-0 pt-md-3"},[t.showNativeSwaps?e("div",{staticClass:"max-width-600 mx-auto",class:{"mx-lg-0":t.isCamelot}},[e("TabsTitle",{staticClass:"max-width-350",attrs:{tabs:t.availableTabs},model:{value:t.swapType,callback:function(e){t.swapType=e},expression:"swapType"}})],1):t._e(),t._v(" "),e("div",{staticClass:"d-block d-lg-flex justify-content-center mb-2"},["aggregator"===t.swapType?e("SwapAggregator",{ref:"swap-component-agg",staticClass:"my-0 w-100 max-width-600 mx-auto border-top-left-0",class:{"border-top-right-0 border-bottom-right-0":t.isCamelot},attrs:{"last-refresh-time":t.lastRefreshTime,"token-address1":t.initToken1Address,"token-address2":t.initToken2Address}}):t.showNativeSwaps?e("SwapNative",{ref:"swap-component-native",staticClass:"my-0 w-100 max-width-600 mx-auto border-top-left-0",class:{"border-top-right-0 border-bottom-right-0":t.isCamelot},attrs:{"exchange-type":t.swapType,"last-refresh-time":t.lastRefreshTime,"force-refresh-func":t.refresh,"token-address1":t.initToken1Address,"token-address2":t.initToken2Address}}):t._e(),t._v(" "),t.isCamelot?e("Delegate"):t._e()],1)])]),t._v(" "),t.chartUrl?e("div",[t.displayChart?e("TVChart",{staticClass:"mt-4",attrs:{"from-token":t.fromToken,"to-token":t.toToken,"chart-url":t.chartUrl},on:{hideChart:function(e){t.displayChart=!1}}}):e("div",[e("b-button",{staticClass:"d-flex align-items-center justify-content-center mt-3 text-weight-400 text-white mx-auto",attrs:{variant:"dark"},on:{click:function(e){t.displayChart=!0}}},[e("i",{staticClass:"mdi mdi-chart-box-plus-outline mr-2 font-size-18"}),t._v("\n        Toggle chart\n      ")])],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);